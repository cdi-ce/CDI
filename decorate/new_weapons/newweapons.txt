//============
// New Weapons
//============

Actor EradicationCell : Ammo
{
Inventory.Amount 10
Inventory.MaxAmount 300
Ammo.BackpackAmount 10
Ammo.BackpackMaxAmount 600
Inventory.PickupSound "EradicationCell/Pickup"
Inventory.PickupMessage "\c[I7]Eradication Cell"
Inventory.Icon EC3LA0
States
{
  Spawn:
	EC3L A 3 Bright
	EC3L B 9
	Loop
}
}

Actor EradicationCellPack : EradicationCell
{
Inventory.Amount 100
Inventory.PickupSound "EradicationCellPack/Pickup"
Inventory.PickupMessage "\c[I7]Eradication Cell Pack"
States
{
  Spawn:
	EC3L D 3 Bright
	EC3L C 9
	Loop
}
}

Actor HomingRocketLauncher : Weapon
{
Tag "Homing Rocket Launcher"
Weapon.SelectionOrder 10
Weapon.PreferredSkin "HRL-Marine"
Weapon.AmmoType "Missile"
Weapon.AmmoType2 "Missile"
Weapon.AmmoGive 8
Weapon.AmmoUse 1
Weapon.AmmoUse2 3
Weapon.UpSound "hrl/up"
Inventory.PickupSound "weapons/pickupml"
Inventory.PickupMessage "\c[G5]Homing Rocket Launcher"
Obituary "%o couldn't dodge %k's homing rockets."
+INVENTORY.UNDROPPABLE
States
{
  Spawn:
	WHRL A -1
	Stop
  Ready:
	HRLG A 1 A_WeaponReady
	Loop
  Deselect:
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_Lower
	HRLG A 1 A_Lower
	Loop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
	TNT1 A 0 A_Raise
	HRLG A 1 A_Raise
	Loop
  Fire:
  	TNT1 A 0 
  	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderHomingRocketLauncher",1,"FireUpdated")
	HRLG A 4
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_FireCustomMissile("PlayerHomRocket",0,1,-6,-8)
	TNT1 A 0 A_FireCustomMissile("PlayerHomRocket",0,1,6,-8)
	HRLG C 2 Bright Offset(0,32)
	HRLG D 2 Bright Offset(0,36)
	HRLG E 2 Bright Offset(0,40)
	HRLG F 2 Bright Offset(0,44)
	HRLG B 2 Bright Offset(0,40)
	HRLG A 2 Bright Offset(0,36)
	HRLG A 2 Bright Offset(0,32)
	HRLG A 7
	HRLG A 3 A_Refire
	Goto Ready
  FireUpdated:
	HRLG A 2
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_FireCustomMissile("PlayerHomRocket",random(-3,3),1,-6,-8)
	TNT1 A 0 A_FireCustomMissile("PlayerHomRocket",random(-3,3),1,6,-8)
	HRLG C 2 Bright Offset(0,32)
	HRLG D 2 Bright Offset(0,36)
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_FireCustomMissile("PlayerHomRocket",random(-3,3),1,-6,-8)
	TNT1 A 0 A_FireCustomMissile("PlayerHomRocket",random(-3,3),1,6,-8)
	HRLG C 2 Bright Offset(0,32)
	HRLG D 2 Bright Offset(0,36)
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_FireCustomMissile("PlayerHomRocket",random(-3,3),1,-6,-8)
	TNT1 A 0 A_FireCustomMissile("PlayerHomRocket",random(-3,3),1,6,-8)
	HRLG C 2 Bright Offset(0,32)
	HRLG D 2 Bright Offset(0,36)
	HRLG E 2 Bright Offset(0,40)
	HRLG F 2 Bright Offset(0,44)
	HRLG B 2 Bright Offset(0,40)
	HRLG A 2 Bright Offset(0,36)
	HRLG A 2 Bright Offset(0,32)
	HRLG A 7
	HRLG A 3 A_Refire
	Goto Ready
  AltFire:
	TNT1 A 0
  	//TNT1 A 0 A_JumpIfInventory("WeaponUpgraderHomingRocketLauncher",1,"AltFireUpdated")
	HRLG A 2
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlayWeaponSound("HomingRocketLauncher/Shot")
	TNT1 AAAAA 0 A_FireCustomMissile("SmallMissile",random(-5,5),0,-6,-2)
	TNT1 A 0 A_FireCustomMissile("SmallMissile",random(-5,5),1,6,-2)
	HRLG C 1 Bright Offset(0,32)
	HRLG D 1 Bright Offset(0,36)
	HRLG E 1 Bright Offset(0,40)
	HRLG F 1 Bright Offset(0,44)
	HRLG B 1 Bright Offset(0,40)
	HRLG A 1 Bright Offset(0,36)
	HRLG A 1 Bright Offset(0,32)
	HRLG A 4
	HRLG A 2 A_Refire
	Goto Ready
  AltFireUpdated:
    TNT1 A 0 A_JumpIfInventory("Missile",3,2)
    TNT1 A 0 A_Jump(256,"Empty")
	HRLG A 2
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlayWeaponSound("HomingRocketLauncher/Shot")
    TNT1 A 0 A_TakeInventory("Missile",6,TIF_NOTAKEINFINITE)
	TNT1 AAAAA 0 A_FireCustomMissile("HomingPodMissile",random(-9,9),0,-6,-2)
	TNT1 A 0 A_FireCustomMissile("HomingPodMissile",random(-9,9),1,6,-2)
	HRLG C 1 Bright Offset(0,32)
	HRLG D 1 Bright Offset(0,36)
	HRLG E 1 Bright Offset(0,40)
	HRLG F 1 Bright Offset(0,44)
	HRLG B 1 Bright Offset(0,40)
	HRLG A 1 Bright Offset(0,36)
	HRLG A 1 Bright Offset(0,32)
	HRLG A 4
	HRLG A 2 A_Refire
	Goto Ready
  Empty:
    HRLG A 4 A_PlayWeaponSound("weapons/click4")
	Goto Ready
  Flash:
	TNT1 A 5 A_Light1
	TNT1 A 6 A_Light2
	TNT1 A 5 A_Light1
	TNT1 A 0 A_Light0
	Stop
}
}

ACTOR PlayerHomRocket
{
Radius 9
Height 7
Scale 0.75
Speed 38
Damage 10
DamageType "Explosion"
+SEEKERMISSILE
+MTHRUSPECIES
+SKYEXPLODE
ExplosionDamage 64
ExplosionRadius 128
SeeSound "monster/homingrockfire"
DeathSound "weapons/rocklx"
PROJECTILE
Decal RocketScorch
States
{
  Spawn:
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_PlaySound("monster/homingrockbeep")
    Loop
  Death:
	TNT1 A 0
    TNT1 A 0 A_Explode
    TNT1 AAA 0 A_CustomMissile("Kaboom3",0,0,random(0,360),2,random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
    TNT1 A 0 A_SpawnItemEx("RocketExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("RocketExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("OrangeParticleSpawner",0,0,0,0,0,0,0,128) 
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 A 1 A_SpawnItem("RocketEx")
    Stop
}
}

ACTOR SmallMissile
{
Radius 6
Height 6
Speed 55
PROJECTILE
Damage 12
+MTHRUSPECIES
DeathSound "MiniRocketExpl"
Decal DoomImpScorch
States
{
  Spawn:
	TNT1 A 0
	PMSL AAAA 1 Bright A_PlaySound("MiniRocketFly",0,1.0,0)
	TNT1 A 0 A_SpawnItemEx("MissileGlow", 0, 0, 0, 0, 0, 0, 0, 5)
	Loop
  Death:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("OrangeParticleSpawner", 0, 0, 1, 0, 0, 0, 0, 128)
	TNT1 AAAA 0 A_CustomMissile("Kaboom9", 0, 0, random(0,360), 2, random(0,360))
	TNT1 AAAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
	TNT1 A 0 A_Explode(20,40)
	TNT1 A 0 A_SpawnItemEx("PodMissileExplosion",0,0,0,0,0,0,0,32)
	TNT1 A 25 A_SpawnItemEx("ExplosiveGlowSmall",0,0,5,0,0,0,0,32)
	Stop
   }
}

Actor QuadRocketLauncherType : Inventory{Inventory.MaxAmount 1}

Actor QuadRocketLauncher : Weapon
{
Tag "Quad Rocket Launcher"
Weapon.SelectionOrder 15
Weapon.PreferredSkin "GrenadeLauncher-Marine"
Weapon.AmmoType "Missile"
Weapon.AmmoGive 24
Weapon.AmmoUse 4
Weapon.AmmoType2 "Missile"
Weapon.AmmoUse2 4
Weapon.UpSound "quadrl/up"
Inventory.PickupSound "weapons/pickupml"
Inventory.PickupMessage "\c[G5]Quad Rocket Launcher"
Obituary "%o couldn't dodge %k's homing rockets."
+INVENTORY.UNDROPPABLE
States
{
  Ready:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderQuadRocketLauncher",1,"ReadyUpgrade")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	QDRL A 1 A_WeaponReady
	Loop
  ReadyUpgrade:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	QGRL A 1 A_WeaponReady
	Loop
  Deselect:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderQuadRocketLauncher",1,"DeselectUpgrade")
	TNT1 A 0 A_Lower
	QDRL A 1 A_Lower
	Loop
  DeselectUpgrade:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_Lower
	QGRL A 1 A_Lower
	Loop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderQuadRocketLauncher",1,"SelectingUpgrade")
  Selecting:
	TNT1 A 0 A_Raise
	QDRL A 1 A_Raise
	Loop
  SelectingUpgrade:
	TNT1 A 0 A_Raise
	QGRL A 1 A_Raise
	Loop
  Fire:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("QuadRocketLauncherType",1,"GrenadeFire")
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderQuadRocketLauncher",1,"FireUpgrade")
	TNT1 A 0 A_GunFlash
	QDRL B 2 Bright Offset(0,32)
	QDRL C 2 Bright Offset(0,36)
	TNT1 A 0 A_FireCustomMissile("PlayerV2NewRocket",0,0,4,0)
	TNT1 A 0 A_FireCustomMissile("PlayerV2NewRocket2",0,0,4,0)
	TNT1 A 0 A_FireCustomMissile("PlayerV2NewRocket3",0,0,4,0)
	TNT1 A 0 A_FireCustomMissile("PlayerV2NewRocket4",0,1,4,0)
	QDRL D 2 Bright Offset(0,40)
	QDRL E 2 Bright Offset(0,44)
	QDRL F 2 Bright Offset(0,48)
	QDRL G 2 Offset(0,44)
	QDRL H 2 Offset(0,40)
	QDRL A 2 Offset(0,36)
	QDRL A 2 Offset(0,32)
	QDRL A 17
	QDRL A 3 A_Refire
	Goto Ready
  FireUpgrade:
	TNT1 A 0 A_GunFlash
	QGRL B 2 Bright Offset(0,32)
	QGRL C 2 Bright Offset(0,36)
	TNT1 A 0 A_FireCustomMissile("PlayerV2DemonTechRocket",0,0,4,0)
	TNT1 A 0 A_FireCustomMissile("PlayerV2DemonTechRocket2",0,0,4,0)
	TNT1 A 0 A_FireCustomMissile("PlayerV2DemonTechRocket3",0,0,4,0)
	TNT1 A 0 A_FireCustomMissile("PlayerV2DemonTechRocket4",0,1,4,0)
	QGRL D 2 Bright Offset(0,40)
	QGRL E 2 Bright Offset(0,44)
	QGRL F 2 Bright Offset(0,48)
	QGRL G 2 Offset(0,44)
	QGRL H 2 Offset(0,40)
	QGRL A 2 Offset(0,36)
	QGRL A 2 Offset(0,32)
	QGRL A 17
	QGRL A 3 A_Refire
	Goto Ready
  GrenadeFire:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderQuadRocketLauncher",1,"GrenadeFireUpgrade")
	TNT1 A 0 A_GunFlash
	QDRL B 2 Bright Offset(0,32)
	QDRL C 2 Bright Offset(0,36)
	TNT1 A 0 A_PlayWeaponSound("DGL/fire")
	TNT1 A 0 A_FireCustomMissile("UpdatedGrenade",0,0,-8,-12)
	TNT1 A 0 A_FireCustomMissile("UpdatedGrenade",0,0,8,-12)
	TNT1 A 0 A_FireCustomMissile("UpdatedGrenade",0,0,-8,0)
	TNT1 A 0 A_FireCustomMissile("UpdatedGrenade",0,1,8,0)
	QDRL D 2 Bright Offset(0,40)
	QDRL E 2 Bright Offset(0,44)
	QDRL F 2 Bright Offset(0,48)
	QDRL G 2 Offset(0,44)
	QDRL H 2 Offset(0,40)
	QDRL A 2 Offset(0,36)
	QDRL A 2 Offset(0,32)
	QDRL A 17
	QDRL A 3 A_Refire
	Goto Ready
  GrenadeFireUpgrade:
	TNT1 A 0 A_GunFlash
	QGRL B 2 Bright Offset(0,32)
	QGRL C 2 Bright Offset(0,36)
	TNT1 A 0 A_PlayWeaponSound("DGL/fire")
	TNT1 A 0 A_FireCustomMissile("DemonTechGrenade",0,0,-8,-12)
	TNT1 A 0 A_FireCustomMissile("DemonTechGrenade",0,0,8,-12)
	TNT1 A 0 A_FireCustomMissile("DemonTechGrenade",0,0,-8,0)
	TNT1 A 0 A_FireCustomMissile("DemonTechGrenade",0,1,8,0)
	QGRL D 2 Bright Offset(0,40)
	QGRL E 2 Bright Offset(0,44)
	QGRL F 2 Bright Offset(0,48)
	QGRL G 2 Offset(0,44)
	QGRL H 2 Offset(0,40)
	QGRL A 2 Offset(0,36)
	QGRL A 2 Offset(0,32)
	QGRL A 17
	QGRL A 3 A_Refire
	Goto Ready
  AltFire:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderQuadRocketLauncher",1,"AltFireUpgrade")
	TNT1 A 0 A_GunFlash
	QDRL B 2 Bright Offset(0,32)
	QDRL C 2 Bright Offset(0,36)
	TNT1 A 0 A_FireCustomMissile("PlayerHomRocket1",0,0,4,0)
	TNT1 A 0 A_FireCustomMissile("PlayerHomRocket2",0,0,4,0)
	TNT1 A 0 A_FireCustomMissile("PlayerHomRocket3",0,0,4,0)
	TNT1 A 0 A_FireCustomMissile("PlayerHomRocket4",0,1,4,0)
	QDRL D 2 Bright Offset(0,40)
	QDRL E 2 Bright Offset(0,44)
	QDRL F 2 Bright Offset(0,48)
	QDRL G 2 Offset(0,44)
	QDRL H 2 Offset(0,40)
	QDRL A 2 Offset(0,36)
	QDRL A 2 Offset(0,32)
	QDRL A 17
	QDRL A 3 A_Refire
	Goto Ready
  AltFireUpgrade:
	TNT1 A 0 A_GunFlash
	QGRL B 2 Bright Offset(0,32)
	QGRL C 2 Bright Offset(0,36)
	TNT1 A 0 A_FireCustomMissile("PlayerDemonTechSeekerRocket",0,0,4,0)
	TNT1 A 0 A_FireCustomMissile("PlayerDemonTechSeekerRocket2",0,0,4,0)
	TNT1 A 0 A_FireCustomMissile("PlayerDemonTechSeekerRocket3",0,0,4,0)
	TNT1 A 0 A_FireCustomMissile("PlayerDemonTechSeekerRocket4",0,1,4,0)
	QGRL D 2 Bright Offset(0,40)
	QGRL E 2 Bright Offset(0,44)
	QGRL F 2 Bright Offset(0,48)
	QGRL G 2 Offset(0,44)
	QGRL H 2 Offset(0,40)
	QGRL A 2 Offset(0,36)
	QGRL A 2 Offset(0,32)
	QGRL A 17
	QGRL A 3 A_Refire
	Goto Ready
  GrenadeCheck:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderQuadRocketLauncher",1,"GrenadeCheckUpgrade")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("QuadRocketLauncherType",1,4)
	TNT1 A 0 A_Print("Grenade Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod4")
	QDRL A 15 A_GiveInventory("QuadRocketLauncherType",1)
	Goto Ready
	TNT1 A 0 A_Print("Rocket Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod5")
	QDRL A 15 A_TakeInventory("QuadRocketLauncherType",1)
	Goto Ready
  GrenadeCheckUpgrade:
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("QuadRocketLauncherType",1,4)
	TNT1 A 0 A_Print("Grenade Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod4")
	QGRL A 15 A_GiveInventory("QuadRocketLauncherType",1)
	Goto Ready
	TNT1 A 0 A_Print("Rocket Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod5")
	QGRL A 15 A_TakeInventory("QuadRocketLauncherType",1)
	Goto Ready
  MineCheck:
	TNT1 A 0
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_JumpIfInventory("Missile",32,1)
	Goto Nope2
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderQuadRocketLauncher",1,"MineCheckUpgrade")
	QDRL AAA 17 A_PlayWeaponSound("efg/charge2")
	QDRL B 0 A_GunFlash
	QDRL B 2 Bright Offset(0,32)
	QDRL C 2 Bright Offset(0,36)
	TNT1 A 0 A_PlayWeaponSound("mrl/fire")
	TNT1 A 0 A_FireCustomMissile("HellStormRocket",0,0,-8,-12)
	TNT1 A 0 A_FireCustomMissile("HellStormRocket",0,0,8,-12)
	TNT1 A 0 A_FireCustomMissile("HellStormRocket",0,0,-8,0)
	TNT1 A 0 A_FireCustomMissile("HellStormRocket",0,0,8,0)
	TNT1 A 0 A_TakeInventory("Missile",32,TIF_NOTAKEINFINITE)
	QDRL D 2 Bright Offset(0,40)
	QDRL E 2 Bright Offset(0,44)
	QDRL F 2 Bright Offset(0,48)
	QDRL G 2 Offset(0,44)
	QDRL H 2 Offset(0,40)
	QDRL A 2 Offset(0,36)
	QDRL A 2 Offset(0,32)
	QDRL A 17
	QDRL A 3 A_Refire
	Goto Ready
  MineCheckUpgrade:
	TNT1 A 0
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_JumpIfInventory("Missile",32,1)
	Goto Nope2
	QGRL AAA 17 A_PlayWeaponSound("efg/charge2")
	QGRL B 0 A_GunFlash
	QGRL B 2 Bright Offset(0,32)
	QGRL C 2 Bright Offset(0,36)
	TNT1 A 0 A_PlayWeaponSound("mrl/fire")
	TNT1 A 0 A_FireCustomMissile("HellStormRocket",0,0,-8,-12)
	TNT1 A 0 A_FireCustomMissile("HellStormRocket",0,0,8,-12)
	TNT1 A 0 A_FireCustomMissile("HellStormRocket",0,0,-8,0)
	TNT1 A 0 A_FireCustomMissile("HellStormRocket",0,0,8,0)
	TNT1 A 0 A_TakeInventory("Missile",32,TIF_NOTAKEINFINITE)
	QGRL D 2 Bright Offset(0,40)
	QGRL E 2 Bright Offset(0,44)
	QGRL F 2 Bright Offset(0,48)
	QGRL G 2 Offset(0,44)
	QGRL H 2 Offset(0,40)
	QGRL A 2 Offset(0,36)
	QGRL A 2 Offset(0,32)
	QGRL A 17
	QGRL A 3 A_Refire
	Goto Ready
  Nope:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderQuadRocketLauncher",1,"NopeUpgrade")
	QDRL A 15 Bright A_PlaySound("sentry/warn")
	Goto Ready
  NopeUpgrade:
	QGRL A 15 Bright A_PlaySound("sentry/warn")
	Goto Ready
  Nope2:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderQuadRocketLauncher",1,"Nope2Upgrade")
	QDRL A 0 A_Print("The Hellstorm Fire requires 32 Rockets!")
	QDRL A 15 Bright A_PlaySound("sentry/warn")
	Goto Ready
  Nope2Upgrade:
	TNT1 A 0 A_Print("The Hellstorm Fire requires 32 Rockets!")
	QGRL A 15 Bright A_PlaySound("sentry/warn")
	Goto Ready
  Flash:
	TNT1 A 5 A_Light1
	TNT1 A 6 A_Light2
	TNT1 A 5 A_Light1
	TNT1 A 0 A_Light0
	Stop
  Spawn:
	QDRL W -1
	Stop
}
}

ACTOR PlayerV2NewRocket : NewRocket
{
Damage 30
Speed 42
SeeSound "mrl/fire"
+MTHRUSPECIES
+SKYEXPLODE
Decal RocketScorch
States
{
  Spawn:
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(4,6),Random(-2,2))
    TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(4,6),Random(-2,2))
    MIS8 A 1 Bright A_Weave(2,2,1.0,1.0)
    Loop
  Fly:
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(4,6),Random(-2,2))
    TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(4,6),Random(-2,2))
    MIS8 A 1 Bright A_Weave(2,2,1.0,1.0)
    Loop
  Death:
	TNT1 A 0
    TNT1 A 0 A_Explode
    TNT1 AAA 0 A_CustomMissile("Kaboom3",0,0,random(0,360),2,random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
    TNT1 A 0 A_SpawnItemEx("RocketExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("RocketExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("OrangeParticleSpawner",0,0,0,0,0,0,0,128) 
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 A 1 A_SpawnItem("RocketEx")
    Stop
}
}

Actor PlayerV2NewRocket2 : PlayerV2NewRocket
{
States
{
  Spawn:
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAA 0 A_Weave(2,2,1.0,1.0)
	Goto Fly
}
}

Actor PlayerV2NewRocket3 : PlayerV2NewRocket
{
States
{
  Spawn:
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Weave(2,2,1.0,1.0)
	Goto Fly
}
}

Actor PlayerV2NewRocket4 : PlayerV2NewRocket
{
States
{
  Spawn:
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Weave(2,2,1.0,1.0)
	Goto Fly
}
}

ACTOR PlayerHomRocket1 : PlayerHomRocket
{
+MTHRUSPECIES
States
{
  Fly:
  Spawn:
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS A 1 Bright A_Weave(2,2,1.0,1.0)
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS A 1 Bright A_Weave(2,2,1.0,1.0)
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS A 1 Bright A_Weave(2,2,1.0,1.0)
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS A 1 Bright A_Weave(2,2,1.0,1.0)
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS A 1 Bright A_Weave(2,2,1.0,1.0)
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS A 1 Bright A_Weave(2,2,1.0,1.0)
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS A 1 Bright A_Weave(2,2,1.0,1.0)
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS A 1 Bright A_Weave(2,2,1.0,1.0)
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS A 1 Bright A_Weave(2,2,1.0,1.0)
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS A 1 Bright A_Weave(2,2,1.0,1.0)
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS A 1 Bright A_Weave(2,2,1.0,1.0)
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS A 1 Bright A_Weave(2,2,1.0,1.0)
	TNT1 A 0 A_PlaySound("monster/homingrockbeep")
    Loop
}
}

Actor PlayerHomRocket2 : PlayerHomRocket1
{
States
{
  Spawn:
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAA 0 A_Weave(2,2,1.0,1.0)
	Goto Fly
}
}

Actor PlayerHomRocket3 : PlayerHomRocket1
{
States
{
  Spawn:
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Weave(2,2,1.0,1.0)
	Goto Fly
}
}

Actor PlayerHomRocket4 : PlayerHomRocket1
{
States
{
  Spawn:
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Weave(2,2,1.0,1.0)
	Goto Fly
}
}

Actor HellStormRocket
{
Projectile
Height 8
Radius 11
Speed 25
Decal "RocketScorch"
Damage 20
+DONTREFLECT
+FORCERADIUSDMG
+SKYEXPLODE
+MTHRUSPECIES
+SEEKERMISSILE
DeathSound "weapons/rocklx"
ReactionTime 25
States
{
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_PlaySound("rpg/fly",6,1.0,1)
	TNT1 A 0 A_RearrangePointers(AAPTR_DEFAULT,AAPTR_TRACER,AAPTR_DEFAULT)
  Fly:
	TNT1 A 0
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_RearrangePointers(AAPTR_DEFAULT,AAPTR_TRACER,AAPTR_DEFAULT)
	TNT1 A 0 A_JumpIfMasterCloser(150,"Death")
    MIS9 A 0 A_CustomMissile("RocketSmoke",Random(4,6),Random(-2,2))
	MIS9 AAA 0 A_CustomMissile("NewRockeParticleTrail",Random(4,6),Random(-2,2))
	MIS9 A 2 Bright A_BishopMissileWeave
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_RearrangePointers(AAPTR_DEFAULT,AAPTR_TRACER,AAPTR_DEFAULT)
	TNT1 A 0 A_JumpIfMasterCloser(150,"Death")
    MIS9 A 0 A_CustomMissile("RocketSmoke",Random(4,6),Random(-2,2))
	MIS9 AAA 0 A_CustomMissile("NewRockeParticleTrail",Random(4,6),Random(-2,2))
	MIS9 A 2 Bright A_BishopMissileWeave
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_RearrangePointers(AAPTR_DEFAULT,AAPTR_TRACER,AAPTR_DEFAULT)
	TNT1 A 0 A_JumpIfMasterCloser(150,"Death")
    MIS9 A 0 A_CustomMissile("RocketSmoke",Random(4,6),Random(-2,2))
	MIS9 AAA 0 A_CustomMissile("NewRockeParticleTrail",Random(4,6),Random(-2,2))
	MIS9 A 2 Bright A_BishopMissileWeave
	TNT1 A 0 A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_RearrangePointers(AAPTR_DEFAULT,AAPTR_TRACER,AAPTR_DEFAULT)
	TNT1 A 0 A_JumpIfMasterCloser(150,"Death")
    MIS9 A 0 A_CustomMissile("RocketSmoke",Random(4,6),Random(-2,2))
	MIS9 AAA 0 A_CustomMissile("NewRockeParticleTrail",Random(4,6),Random(-2,2))
	MIS9 A 2 Bright A_BishopMissileWeave
	TNT1 A 0 A_Countdown
	TNT1 A 0 A_PlaySound("monster/homingrockbeep",7)
	Loop
  Death:
	TNT1 A 0
	TNT1 AAA 0 A_StopSound(6)
	TNT1 AAAAAAAA 0 A_CustomMissile("HellStormSmallMissile",0,0,random(-11,11),CMF_AIMDIRECTION|CMF_SAVEPITCH|CMF_OFFSETPITCH,frandom(-2.0,2.0))
	TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,Random(4,-4),Random(4,-4),Random(4,8),0,SXF_CLIENTSIDE)
	TNT1 AAA 0 A_SpawnItemEx("OrangeParticleSpawner",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
	TNT1 AAA 0 A_CustomMissile("SmokeFX3",0,0,random(0,360),CMF_AIMDIRECTION,random(0,360))
	TNT1 AAAAAAAAAAAA 0 A_CustomMissile("Kaboom",0,0,random(0,360),CMF_AIMDIRECTION,random(0,360))
	TNT1 A 0 A_SetTranslucent(0.75,1)
	MISL B 4 Bright A_Explode(128,128)
	MISL CD 4 Bright
	Stop
}
}

ACTOR HellStormSmallMissile : SmallMissile
{
Damage 5
States
{
  Death:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("OrangeParticleSpawner", 0, 0, 1, 0, 0, 0, 0, 128)
	TNT1 AAAA 0 A_CustomMissile("Kaboom9", 0, 0, random(0,360), 2, random(0,360))
	TNT1 AAAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
	TNT1 A 0 A_Explode(10,40)
	TNT1 A 0 A_SpawnItemEx("PodMissileExplosion",0,0,0,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("ExplosiveGlowSmall",0,0,5,0,0,0,0,32)
	Stop
   }
}

Actor DoubleGrenadeLauncherType : Inventory{Inventory.MaxAmount 1}

Actor DoubleGrenadeLauncher : Weapon
{
  Tag "Double Grenade Launcher"
  Weapon.SelectionOrder 100
  Weapon.AmmoUse 1
  Weapon.AmmoUse2 4
  Weapon.AmmoGive 20
  Weapon.AmmoType "Missile"
  Weapon.AmmoType2 "Missile"
  Weapon.PreferredSkin "GrenadeLauncher-Marine"
  Weapon.UpSound "doublegl/up"
  Inventory.PickupMessage "\c[z4]Double Grenade Launcher"
  Obituary "%o ate a few of %k's grenades"
  +INVENTORY.UNDROPPABLE
  States
  {
  Spawn:
    DGLG A -1
    Stop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
    DGLG B 1 A_Raise
    Loop
  Deselect:
  	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
    DGLG B 1 A_Lower
    Loop
  Ready:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
    DGLG B 1 A_WeaponReady
    Loop
  Fire:
    DGLG C 3 Bright Offset(0,32)
    TNT1 A 0 Radius_Quake(4,3,0,1,0)
	TNT1 A 0 A_JumpIfInventory("DoubleGrenadeLauncherType",1,"Fire2")
	TNT1 A 0 A_PlayWeaponSound("DGL/fire")
    TNT1 A 0 A_FireCustomMissile("UpdatedGrenade",0,1,6)
    DGLG D 3 Bright Offset(0,36) A_FireCustomMissile("UpdatedGrenade",0,1,-6)
    DGLG E 2 Bright Offset(0,40)
	DGLG E 2 Bright Offset(0,44)
    DGLG F 2 Offset(0,40)
	DGLG F 3 Offset(0,36)
	DGLG B 2 Offset(0,32)
	DGLG B 8
    Goto Ready
  Fire2:
    TNT1 A 0 A_FireCustomMissile("UpdatedRocket",0,1,6,-6)
    DGLG D 3 Bright Offset(0,36) A_FireCustomMissile("UpdatedRocket",0,1,-6,-6)
    DGLG E 2 Bright Offset(0,40)
	DGLG E 2 Bright Offset(0,44)
    DGLG F 2 Offset(0,40)
	DGLG F 3 Offset(0,36)
	DGLG B 2 Offset(0,32)
	DGLG B 8
    Goto Ready
  AltFire:
    DGLG C 3 Bright Offset(0,32)
    TNT1 A 0 Radius_Quake(4,3,0,1,0)
	TNT1 A 0 A_PlayWeaponSound("digger/fire")
    TNT1 A 0 A_FireCustomMissile("DiggerGrenade",0,1,8)
    DGLG D 3 Bright Offset(0,36) A_FireCustomMissile("DiggerGrenade",0,1,-8)
    DGLG E 2 Bright Offset(0,40)
	DGLG E 2 Bright Offset(0,44)
    DGLG F 2 Offset(0,40)
	DGLG F 3 Offset(0,36)
	DGLG B 2 Offset(0,32)
	DGLG B 50
    Goto Ready
  GrenadeCheck:
	TNT1 A 0
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDoubleGrenadeLauncher",1,2)
	TNT1 A 0 A_Print("Requires Weapon Upgrade!")
	Goto Empty
	TNT1 A 0 A_JumpIfInventory("DoubleGrenadeLauncherType",1,4)
	TNT1 A 0 A_Print("Primary Fire: Rocket Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod2")
	DGLG B 15 A_GiveInventory("DoubleGrenadeLauncherType",1)
	Goto Ready
	TNT1 A 0 A_Print("Primary Fire: Grenade Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod1")
	DGLG B 15 A_TakeInventory("DoubleGrenadeLauncherType",1)
	Goto Ready
  Empty:
	DGLG B 15 A_PlaySound("sentry/warn")
	Goto Ready
}
}

ACTOR DiggerGrenade
{
Speed 32
Damage 10
Radius 5
Height 5
PROJECTILE
-NOGRAVITY
+ROCKETTRAIL
+MTHRUSPECIES
ReactionTime 700
Gravity 0.88
Scale 1.5
Decal RocketScorch
States
{
  Spawn:
    5DKP A 0 A_PlaySound("artillery/fly",CHAN_BODY,1.0,1)
	5DKP A 0 A_CountDown
	5DKP A 1 Bright A_CustomMissile("RocketSmoke",Random(4,6),Random(-2,2))
	Loop
  Death:
    TNT1 A 0
    TNT1 A 0 A_PlaySoundEx("blanksnd","Body",0)
	TNT1 A 0 A_SpawnItemEx("DiggerGrenadeContinue",0,0,0,8,0,0,0,32,0)
	Stop
}
}

ACTOR DiggerGrenadeContinue
{
Speed 32
Damage 40
Radius 5
Height 5
PROJECTILE
+FLOORHUGGER
+ROCKETTRAIL
+MTHRUSPECIES
-NOGRAVITY
ReactionTime 700
Scale 1.5
Decal RocketScorch
States
{
  Spawn:
	5DKP A 0
	5DKP A 0 A_ChangeVelocity(velx*4,vely*4,velz*4)
  Fly:
    5DKP A 0
    5DKP A 0 A_PlaySound("artillery/fly",CHAN_BODY,1.0,1)
	5DKP A 0 A_CountDown
	5DKP A 1 Bright A_SpawnItemEx("RocketSmoke",Random(-2,2),0,Random(4,6))
	Loop
  Death:
	TNT1 A 0 
    TNT1 A 0 A_StopSoundEx("SoundSlot7")
	TNT1 A 0 A_Explode(16,428,0)
	TNT1 A 0 A_Explode(76,325,0)
	TNT1 A 0 A_Explode(196,192,1)
	TNT1 A 0 A_CustomMissile("DiggerExplosion",0,0,random(80,100),2,random(80,100))
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
	TNT1 A 1 A_SpawnItem("DiggerEx")
    Stop
}
}

Actor MineLauncherType : Inventory{Inventory.MaxAmount 1}
Actor MineLauncher : Weapon
{
Weapon.PreferredSkin "GrenadeLauncher-Marine"
Weapon.SelectionOrder 50
Weapon.KickBack 200
Inventory.PickupSound "misc/w_pkup"
Weapon.AmmoType "Missile"
Weapon.AmmoGive 24
Weapon.AmmoUse 2
Weapon.UpSound "MineLauncher/Up"
Inventory.Pickupmessage "\c[G5]Mine Launcher"
Obituary "%o got too close to %k's land mine."
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOALERT
+INVENTORY.UNDROPPABLE
Tag "Mine Launcher"
States
{
  Spawn:
	PRXP A -1
	Loop
  Ready:
	PRXL A 0
	PRXL A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	PRXL A 0 A_TakeInventory("MineAction",1)
	PRXL A 0 A_TakeInventory("RailgunAction",1)
	PRXL A 0 A_TakeInventory("MineLauncherDetonator",1)
	PRXL A 1 A_WeaponReady
	Loop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
	PRXL A 1 A_Raise
	Loop
  Deselect:
	PRXL A 1 A_Lower
	Loop
  Fire:
	TNT1 A 0
  	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderMineLauncher",1,"FireUpdated")
	TNT1 A 0 A_JumpIfNoAmmo("Ready")
	TNT1 A 0 A_JumpIfInventory("MineLauncherType",1,"FlyFire")
	TNT1 A 0 A_PlaySound("weapons/minebounce")
	TNT1 A 0 A_PlayWeaponSound("MineLauncher/Fire")
	TNT1 A 0 A_FireCustomMissile("MineLauncherProj",0,1,0,0,FALSE)
	TNT1 A 0 A_FireCustomMissile("MineLauncherProj",4,1,0,0,FALSE)
	TNT1 A 0 A_FireCustomMissile("MineLauncherProj",-4,1,0,0,FALSE)
	PRXL B 4 Bright Offset(0,36)
	PRXL C 3 Bright Offset(0,40)
	PRXL D 2 Offset(0,44)
	PRXL A 0 A_PlaySound("weapon/cool")
	PRXL AAA 2 Offset(0,44) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 2 Offset(0,40) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 2 Offset(0,36) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 2 Offset(0,32) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 1 A_ReFire
	Goto Ready
  FireUpdated:
	TNT1 A 0
    TNT1 A 0 A_JumpIfInventory("Missile",10,1)
    Goto Empty
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("MineLauncherType",1,"FlyFireUpdated")
	TNT1 A 0 A_PlaySound("weapons/minebounce")
	TNT1 A 0 A_PlayWeaponSound("MineLauncher/Fire")
    TNT1 A 0 A_TakeInventory("Missile",10,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_FireCustomMissile("UpgradedMineProj",0,0,0,0,FALSE)
	PRXL B 8 Bright Offset(0,36)
	PRXL C 6 Bright Offset(0,40)
	PRXL D 4 Offset(0,44)
	PRXL A 0 A_PlaySound("weapon/cool")
	PRXL AAA 3 Offset(0,44) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 3 Offset(0,40) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 3 Offset(0,36) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 3 Offset(0,32) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 2 A_ReFire
	Goto Ready
  FlyFire:
	TNT1 A 0 A_PlaySound("weapons/minebounce")
	TNT1 A 0 A_PlayWeaponSound("MineLauncher/Fire")
	PRXL B 4 Bright Offset(0,36) A_FireCustomMissile("FloatingMineProj",0,1,0,0,FALSE)
	PRXL C 3 Bright Offset(0,40)
	PRXL D 2 Offset(0,44)
	PRXL A 0 A_PlaySound("weapon/cool")
	PRXL AAA 2 Offset(0,44) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 2 Offset(0,40) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 2 Offset(0,36) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 2 Offset(0,32) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 1 A_ReFire
	Goto Ready
  FlyFireUpdated:
	TNT1 A 0 A_PlaySound("weapons/minebounce")
	TNT1 A 0 A_PlayWeaponSound("MineLauncher/Fire")
    TNT1 A 0 A_TakeInventory("Missile",10,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_FireCustomMissile("UpgradedFloatingMineProj",0,0,0,0,FALSE)
	PRXL B 8 Bright Offset(0,36)
	PRXL C 6 Bright Offset(0,40)
	PRXL D 4 Offset(0,44)
	PRXL A 0 A_PlaySound("weapon/cool")
	PRXL AAA 3 Offset(0,44) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 3 Offset(0,40) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 3 Offset(0,36) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 3 Offset(0,32) A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,-8)
	PRXL A 2 A_ReFire
	Goto Ready
  AltFire:
	PRXL E 3 Bright Offset(0,36) A_PlayWeaponSound("efg/charge3")
    PRXL E 2 Bright Offset(0,40) A_GiveInventory("MineLauncherDetonator",1)
	PRXL E 2 Bright Offset(0,44)
    PRXL E 2 Offset(0,40)
	PRXL E 3 Offset(0,36)
	PRXL E 2 Offset(0,32) A_TakeInventory("MineLauncherDetonator",1)
	PRXL A 5
	Goto Ready
  Empty:
    PRXL E 15 A_PlayWeaponSound("weapons/click4")
    Goto Ready
  GrenadeCheck:
	PRXL A 0
	PRXL A 0 A_TakeInventory("HandGrenadeAction",1)
	PRXL A 0 A_JumpIfInventory("MineLauncherType",1,4)
	PRXL A 0 A_Print("Floating Mine Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod6")
	PRXL A 15 A_GiveInventory("MineLauncherType",1)
	Goto Ready
	PRXL A 0 A_Print("Land Mine Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod3")
	PRXL A 15 A_TakeInventory("MineLauncherType",1)
	Goto Ready
}
}

ACTOR MineLauncherDetonator : Inventory{Inventory.MaxAmount 1}

Actor MineLauncherProj
{
Projectile
-NOGRAVITY
+HEXENBOUNCE
+FORCEPAIN
+MTHRUSPECIES
+USEBOUNCESTATE
+FORCERADIUSDMG
+CANBOUNCEWATER
+SKYEXPLODE
+DONTSPLASH
Gravity 0.4
WallBounceFactor 0.25
BounceFactor 0.36
Speed 30
Damage (5)
ReactionTime 40
BounceCount 999
Radius 10
States
{
  Spawn:
	LMIN AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_JumpIfInTargetInventory("MineLauncherDetonator",1,"Death")
	LMIN B 0 A_CountDown
	LMIN BBBBBBBBBB 1 Bright A_JumpIfInTargetInventory("MineLauncherDetonator",1,"Death")
    Loop
  Death:
	LMIN B 15 Bright A_PlaySound("weapons/minebeep")
	TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_Explode(186,162)
	TNT1 A 0 A_PlaySound("weapons/mineexplode")
    TNT1 AAA 0 A_CustomMissile("Kaboom3",0,0,random(0,360),2,random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
    TNT1 A 0 A_SpawnItemEx("GrenadeExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("GrenadeExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("OrangeParticleSpawner",0,0,0,0,0,0,0,128) 
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 A 1 A_SpawnItem("RocketEx")
    Stop
}
}

Actor UpgradedMineProj : UpdatedGrenade
{
Scale 1.5
Speed 28
Damage 30
DamageType "Marine"
States
{
  Spawn:	
	M0RT ABCD 4 Bright
	Loop
  Death:
	TNT1 A 0 
    TNT1 A 0 A_StopSoundEx("SoundSlot7")
	TNT1 A 0 A_Explode(8,428,0)
	TNT1 A 0 A_Explode(32,325,0)
	TNT1 A 0 A_Explode(128,192,1)
	TNT1 A 0 A_CustomMissile("DiggerExplosion",0,0,random(80,100),2,random(80,100))
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 AAAAAAAAAA 0 A_SpawnItemEx("MineLauncherProj",random(4,-4),random(4,-4),random(4,-4),random(2,12),0,random(1,6),random(0,359),SXF_TRANSFERPOINTERS)
	TNT1 A 1 A_SpawnItem("DiggerEx")
	Stop
}
}

Actor FloatingMineProj
{
Projectile
+HEXENBOUNCE
+FORCEPAIN
+MTHRUSPECIES
+USEBOUNCESTATE
+FORCERADIUSDMG
+CANBOUNCEWATER
+SKYEXPLODE
+SEEKERMISSILE
+FLOATBOB
WallBounceFactor 0.25
BounceFactor 0.36
Speed 40
Damage (8)
ReactionTime 70
BounceCount 999
Scale 2.0
Radius 10
var int user_timer;
States
{
  Spawn:
	FLMN B 1 Bright A_ChangeVelocity(velx/4,vely/4,velz/4,CVF_REPLACE)
    FLMN B 20 Bright A_JumpIfInTargetInventory("MineLauncherDetonator",1,"Seeking")
	FLMN B 1 Bright A_ChangeVelocity(0,0,0,CVF_REPLACE)
  Fly:
    FLMN B 0 A_PlaySound("legbabysentient/trap")
	FLMN B 0 A_JumpIf(user_timer >= 15,"Seeking")
    FLMN B 0 A_SetUserVar("user_timer",user_timer+1)
    FLMN BBBB 1 Bright A_JumpIfInTargetInventory("MineLauncherDetonator",1,"Seeking")
	FLMN AAAAAAAAAAAAAAAA 1 Bright A_JumpIfInTargetInventory("MineLauncherDetonator",1,"Seeking")
    Loop
  Seeking:
    FLMN B 0
	FLMN B 0 A_CountDown
    FLMN B 0 A_SeekerMissile(20,50,SMF_LOOK|SMF_PRECISE)
	FLMN B 0 A_PlaySound("legbabysentient/trap")
	FLMN A 2 Bright A_SpawnItemEx("FloatingMineProjTrail",0,0,0,0,0,0,0,128,0)
	FLMN B 0 A_SeekerMissile(20,50,SMF_LOOK|SMF_PRECISE)
	FLMN B 2 Bright A_SpawnItemEx("FloatingMineProjTrail",0,0,0,0,0,0,0,128,0)
	FLMN B 0 A_SeekerMissile(20,50,SMF_LOOK|SMF_PRECISE)
	FLMN B 2 Bright A_SpawnItemEx("FloatingMineProjTrail",0,0,0,0,0,0,0,128,0)
	Loop
  Death:
	FLMN B 15 Bright A_PlaySound("weapons/minebeep")
	TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_Explode(186,162)
	TNT1 A 0 A_PlaySound("weapons/mineexplode")
    TNT1 AAA 0 A_CustomMissile("Kaboom3",0,0,random(0,360),2,random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
    TNT1 A 0 A_SpawnItemEx("GrenadeExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("GrenadeExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("OrangeParticleSpawner",0,0,0,0,0,0,0,128) 
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 A 1 A_SpawnItem("RocketEx")
    Stop
}
}


Actor FloatingMineProjTrail
{
RenderStyle Add
PROJECTILE
+CLIENTSIDEONLY
+NOBLOCKMAP
+BRIGHT
+DONTSPLASH
+NOTIMEFREEZE
Scale 1.6
States
{
  Spawn:
    TNT1 A 0
    TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
    FLMN B 1 Bright A_FadeOut(0.1)
    Loop
  Toaster:
    TNT1 A 0
	Stop
  }
}

Actor UpgradedFloatingMineProj : FloatingMineProj
{
ReactionTime 7
DamageType "Marine"
States
{
  Spawn:	
	M2RT ABCD 4 Bright A_CountDown
	Loop
  Death:
	TNT1 A 0 
    TNT1 A 0 A_StopSoundEx("SoundSlot7")
	TNT1 A 0 A_Explode(8,428,0)
	TNT1 A 0 A_Explode(32,325,0)
	TNT1 A 0 A_Explode(128,192,1)
	TNT1 A 0 A_CustomMissile("DiggerExplosion",0,0,random(80,100),2,random(80,100))
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 AAAAA 0 A_SpawnItemEx("FloatingMineProj",random(48,-48),random(48,-48),random(48,-48),0,0,0,0,SXF_TRANSFERPOINTERS)
	TNT1 A 1 A_SpawnItem("DiggerEx")
	Stop
}
}

/*
Actor M79GrenadeLauncher : Weapon
{
Weapon.AmmoUse 10
Weapon.AmmoGive 40
Weapon.AmmoType "Missile"
Weapon.PreferredSkin "GrenadeLauncher-Marine"
Weapon.Kickback 100
Weapon.UpSound "m79/up"
Inventory.PickupMessage "\c[G5]M79 Grenade Launcher"
Obituary "%o was Thumped by %k's M79."
Decal Scorch
Tag "M79 Grenade Launcher"
States
{
  Ready:
	M79G A 1 A_WeaponReady
    Loop
  Deselect:
    M79G A 1 A_Lower
    Loop
  Select:
    TNT1 A 0
    TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
    M79G A 1 A_Raise
    Loop
  Fire:
    TNT1 A 0 A_PlayWeaponSound("M79/Fire")
  	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderM79GrenadeLauncher",1,"FireUpdated")
    TNT1 A 0 A_FireCustomMissile("M79Grenade",0,1,8,8,0)
    Goto Reloading
  FireUpdated:
    TNT1 A 0 A_JumpIfInventory("Missile",20,2)
    TNT1 A 0 A_Jump(256,"Empty")
    TNT1 A 0 A_FireCustomMissile("FlakGrenade",0,0,8,8,0)
    TNT1 A 0 A_TakeInventory("Missile",20,TIF_NOTAKEINFINITE)
    Goto Reloading
  Reloading:
    M79G BCD 4
    TNT1 A 0 A_CheckReload
    M79G EFGHIJK 2
    TNT1 A 2 A_PlayWeaponSound("M79/Open")
    TNT1 A 10
    TNT1 A 0 A_PlayWeaponSound("M79/S-Out")
    TNT1 A 10
    TNT1 A 0 A_PlayWeaponSound("M79/S-In")
    TNT1 A 10
    TNT1 A 0 A_PlayWeaponSound("M79/Close")
    TNT1 A 10
    M79G KJIHGFE 2
    M79G A 2 A_ReFire
    Goto Ready
  Empty:
    M79G A 15 A_PlayWeaponSound("weapons/click4")
    Goto Ready
  Spawn:
	M79P A -1
    Stop
}
}
*/

Actor M79GrenadeLauncher : Weapon
{
Weapon.AmmoUse 10
Weapon.AmmoGive 40
Weapon.AmmoType "Missile"
Weapon.PreferredSkin "GrenadeLauncher-Marine"
Weapon.Kickback 100
Weapon.UpSound "m79/up"
Inventory.PickupMessage "\c[G5]M79 Grenade Launcher"
Obituary "%o was Thumped by %k's M79."
Decal Scorch
Tag "M79 Grenade Launcher"
Scale 1.25
States
{
  Ready:
	M79G A 1 A_WeaponReady
    Loop
  Deselect:
    M79G A 1 A_Lower
    Loop
  Select:
    TNT1 A 0
    TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
    M79G A 1 A_Raise
    Loop
  Fire:
    TNT1 A 0 A_PlayWeaponSound("M79/Fire")
  	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderM79GrenadeLauncher",1,"FireUpdated")
    TNT1 A 0 A_FireCustomMissile("M79Grenade",0,1,0,0,0)
    Goto Reloading
  FireUpdated:
    TNT1 A 0 A_JumpIfInventory("Missile",20,2)
    TNT1 A 0 A_Jump(256,"Empty")
    TNT1 A 0 A_FireCustomMissile("FlakGrenade",0,0,0,0,0)
    TNT1 A 0 A_TakeInventory("Missile",20,TIF_NOTAKEINFINITE)
    Goto Reloading
  Reloading:
	TNT1 A 0 Radius_Quake(6,3,0,1,0)
	M79F AB 2 Bright	
	M79F CDEF 3	
	M79R ABCDE 3
	M79R F 4 A_PlayWeaponSound("M79/Open")
	M79R GH 3
	M79R I 4 A_PlayWeaponSound("M79/S-Out")
	M79R JKLM 3
	M79R N 4 A_PlayWeaponSound("M79/S-In")
	M79R O 3
	M79R PQRS 3
	M79R T 4 A_PlayWeaponSound("M79/Close")
	M79R UV 3
    M79G A 2 A_ReFire
    Goto Ready
  Empty:
    M79G A 15 A_PlayWeaponSound("weapons/click4")
    Goto Ready
  Spawn:
	M79P A -1
    Stop
}
}

ACTOR M79Grenade
{
Radius 11
Height 8
Projectile
Speed 72
Damage 65
+RANDOMIZE
+DEHEXPLOSION
+SKYEXPLODE
+EXPLODEONWATER
+FORCERADIUSDMG
+MTHRUSPECIES
+NODAMAGETHRUST
-NOGRAVITY
Gravity 0.25
Scale 0.75
SeeSound "40mmgrenade/bounce"
DeathSound "thumper/explode"
Decal BigRocketScorch
States
{
  Spawn:
    NGRN A 0 A_CustomMissile("RocketSmoke",Random(4,6),Random(-2,2))
    NGRN A 1 Bright
    Loop
  Death:
	TNT1 A 0 
	TNT1 A 0 A_Explode(24,628,0)
	TNT1 A 0 A_Explode(96,400,0)
	TNT1 A 0 A_Explode(256,256,1)
	TNT1 A 0 A_CustomMissile("HugeExplosion",0,0,random(80,100),2,random(80,100))
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
	TNT1 A 1 A_SpawnItem("HugeRocketEx")
    Stop
}
}

ACTOR M79GrenadeKaBoom : ClientSideEffect
{
Scale 1.8
Renderstyle Add
PROJECTILE
+CLIENTSIDEONLY
+NOINTERACTION
+NOGRAVITY
States
{
  Spawn:
	BIGB ABCDEFGHIJKLMNOPQRSTU 1 Bright
	Stop
}
}

ACTOR FlakGrenade : M79Grenade
{
+FOILINVUL
DamageType "Marine"
States
{
  Spawn:
    NGRN A 0 A_CustomMissile("RocketSmoke",Random(4,6),Random(-2,2))
    NGRN A 1 Bright
    Loop
  Death:
	TNT1 A 0 
	TNT1 A 0 A_Explode(24,628,0)
	TNT1 A 0 A_Explode(96,400,0)
	TNT1 A 0 A_Explode(256,256,1)
	TNT1 A 0 A_CustomMissile("HugeExplosion",0,0,random(80,100),2,random(80,100))
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 AAAAAAAA 0 A_SpawnItemEx("FlakSmallGrenade",0,0,0,random(6,-6),random(6,-6),random(6,-6),random(0,359))
	TNT1 A 1 A_SpawnItem("HugeRocketEx")
    Stop
}
}

Actor FlakSmallGrenade
{
Projectile
+THRUACTORS
+HEXENBOUNCE
+MTHRUSPECIES
+FOILINVUL
+FORCERADIUSDMG
+CANBOUNCEWATER
+SKYEXPLODE
+NODAMAGETHRUST
DamageType "MarinePierce"
WallBounceFactor 0.25
BounceFactor 0.36
Speed 0
Damage 0
ReactionTime 35
BounceCount 999
Scale 1.5
Radius 10
States
{
  Spawn:
	FLMN AB 1 Bright A_Countdown
    Loop
  Death:
	TNT1 A 0 A_Explode(155,384)
	TNT1 A 0 A_CustomMissile("DiggerExplosion",0,0,random(80,100),2,random(80,100))
    TNT1 AAAAAAAA 0 A_SpawnItemEx("FlakTinyGrenade",0,0,0,random(6,-6),random(6,-6),random(6,-6),random(0,359))
	TNT1 A 1 A_SpawnItem("DiggerEx")
    Stop
}
}

Actor FlakTinyGrenade : FlakSmallGrenade
{
Scale 1.0
States
{
  Spawn:	
	M0RT ABCD 1 Bright A_CountDown
	Loop
  Death:
	TNT1 A 0 A_PlaySound("weapons/rocklx")
    TNT1 A 0 A_Explode(64,256)
    TNT1 AAA 0 A_CustomMissile("Kaboom3",0,0,random(0,360),2,random(0,360))
	TNT1 A 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
    TNT1 A 0 A_SpawnItemEx("RocketExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("RocketExplosionShockWave",0,0,0,0,0,0,0,128)
    TNT1 A 1 A_SpawnItem("RocketEx")
    Stop
}
}

Actor PlasmaRepeaterCooldown : Ammo
{
	Inventory.Amount 0
	Inventory.MaxAmount 10
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 10
	Inventory.Icon "R3PGZ0"
	+IGNORESKILL
}

Actor PlasmaRepeater : Weapon
{
  Tag "Plasma Repeater"
  Weapon.Selectionorder 4050
  Weapon.KickBack 100
  Weapon.AmmoType "NewCell"
  Weapon.AmmoGive 120
  Weapon.AmmoUse 1
  Weapon.AmmoType2 "PlasmaRepeaterCooldown"
  Weapon.PreferredSkin "Repeater-Marine"
  Weapon.UpSound "repeater/up"
  Inventory.PickupMessage "\c[J8]Plasma Repeater"
  Inventory.PickupSound "weapons/pickuprg"
  Obituary "%o was liquefied by %k"
  +INVENTORY.UNDROPPABLE
  States
  {
  Spawn:
    STPP A -1
    Loop
  Ready:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderPlasmaRepeater",1,"ReadyUpgraded")
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
    STPO AAABBBCCC 1 Bright A_WeaponReady
    Loop
  ReadyUpgraded:
	TNT1 A 0
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
    R3PG A 1 A_WeaponReady
    Loop
  Deselect:
  	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderPlasmaRepeater",1,"DeselectUpgraded")
	STPO E 0 A_Lower
    STPO E 1 A_Lower
    Loop
  DeselectUpgraded:
	TNT1 A 0 A_Lower
    R3PG A 1 A_Lower
    Loop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderPlasmaRepeater",1,"SelectUpgraded")
  Selecting:
	TNT1 A 0 A_Raise
    STPO E 1 A_Raise
    Loop
  SelectUpgraded:
	TNT1 A 0 A_Raise
    R3PG A 1 A_Raise
    Loop
  Fire:
	TNT1 A 0
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderPlasmaRepeater",1,"FireUpgraded")
    STPO F 1 Bright A_FireCustomMissile("PlasmaReapShot",random(-3,3),1,0,0,0,random(-3,3))
    STPO G 1 Bright
	STPO H 1 Bright A_ReFire
    STPO E 4
    STPO D 6 Bright A_ReFire
    Goto Ready
  FireUpgraded:
    R3PG A 0 A_PlaySound("FocusedPlasma/Spin")
    R3PG ABCD 4
    R3PG ABCD 3
    R3PG ABCD 2
    TNT1 A 0 A_Refire("HoldUpgraded")
    TNT1 A 0 A_PlaySound("FocusedPlasma/Down")
    R3PG AABBCCDD 1 A_WeaponReady(11)
    R3PG AAABBBCCCDDD 1 A_WeaponReady(11)
    R3PG AAAABBBBCCCCDDDD 1 A_WeaponReady(11)
    R3PG AAAABBBBCCCCDDDD 1 A_WeaponReady(11)
    Goto ReadyUpgraded
  HoldUpgraded:
    TNT1 A 0 A_Gunflash
    TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(4,2,0,1,0)
    R3PG E 1 A_FireCustomMissile("PlayerFocusedPlasma",frandom(-6,6),1,0,-8)
    R3PG F 1 Bright
    TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(4,2,0,1,0)
    R3PG G 1 Bright A_FireCustomMissile("PlayerFocusedPlasma",frandom(-6,6),1,0,-8)
    R3PG H 1 Bright
    TNT1 A 0 A_Refire("HoldUpgraded")
    TNT1 A 0 A_PlaySound("FocusedPlasma/Down")
    R3PG AABBCCDD 1 A_WeaponReady(11)
    R3PG AAABBBCCCDDD 1 A_WeaponReady(11)
    R3PG AAAABBBBCCCCDDDD 1 A_WeaponReady(11)
    R3PG AAAABBBBCCCCDDDD 1 A_WeaponReady(11)
    Goto ReadyUpgraded
  AltFire:
	TNT1 A 0
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderPlasmaRepeater",1,"AltFireUpgraded")
	TNT1 A 0 A_JumpIfInventory("NewCell",49,3)
	TNT1 A 0 A_Print("Secondary Fire Requires 49 Cells!")
    STPO E 10 A_PlaySound("weapon/off")
	Goto Ready
	TNT1 A 0 A_TakeInventory("NewCell",49,TIF_NOTAKEINFINITE)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",0,0,0,0,0,0)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",1,0,0,0,0,0)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-1,0,0,0,0,0)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",2,0,0,0,0,0)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-2,0,0,0,0,0)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",3,0,0,0,0,0)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-3,0,0,0,0,0)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",0,0,0,0,0,1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",1,0,0,0,0,1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-1,0,0,0,0,1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",2,0,0,0,0,1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-2,0,0,0,0,1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",3,0,0,0,0,1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-3,0,0,0,0,1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",0,0,0,0,0,-1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",1,0,0,0,0,-1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-1,0,0,0,0,-1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",2,0,0,0,0,-1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-2,0,0,0,0,-1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",3,0,0,0,0,-1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-3,0,0,0,0,-1)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",0,0,0,0,0,2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",1,0,0,0,0,2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-1,0,0,0,0,2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",2,0,0,0,0,2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-2,0,0,0,0,2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",3,0,0,0,0,2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-3,0,0,0,0,2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",0,0,0,0,0,-2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",1,0,0,0,0,-2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-1,0,0,0,0,-2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",2,0,0,0,0,-2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-2,0,0,0,0,-2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",3,0,0,0,0,-2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-3,0,0,0,0,-2)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",0,0,0,0,0,3)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",1,0,0,0,0,3)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-1,0,0,0,0,3)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",2,0,0,0,0,3)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-2,0,0,0,0,3)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",3,0,0,0,0,3)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-3,0,0,0,0,3)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",0,0,0,0,0,-3)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",1,0,0,0,0,-3)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-1,0,0,0,0,-3)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",2,0,0,0,0,-3)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-2,0,0,0,0,-3)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",3,0,0,0,0,-3)
    STPO F 0 A_FireCustomMissile("PlasmaReapShot",-3,0,0,0,0,-3)
    STPO FGH 4 Bright
    STPO E 15
	STPO E 0 A_PlaySound("weapons/dtech10ksteam")
	STPO EEEEEEEEEEEE 1 A_FireCustomMissile("DTech10KSteam",Random(-4,4),0,0,0)
    STPO E 35
    STPO D 20 Bright A_PlaySound("PlasmaCaster/Charge",5)
    STPO D 6 Bright A_ReFire
    Goto Ready
  AltFireUpgraded:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("NewCell",100,3)
	TNT1 A 0 A_Print("Secondary Fire Requires 100 Cells!")
    R3PG A 10 A_PlaySound("weapon/off")
	Goto Ready
	TNT1 A 0 A_JumpIfInventory("PlasmaRepeaterCooldown",1,2) 
	TNT1 A 0 A_Jump(256,3)
	TNT1 A 0 A_Print("The Secondary Fire is in cooldown!")
    R3PG A 10 A_PlaySound("weapon/off")
	Goto Ready
    R3PG A 0 A_PlaySound("FocusedPlasma/Spin")
    R3PG A 0 A_PlayWeaponSound("ChaoticPlasmaRepeater/Charge")
    R3PG ABCD 4
    R3PG ABCD 3
    R3PG ABCD 2
    R3PG E 1
    R3PG F 1 Bright
	TNT1 A 0 Radius_Quake(4,2,0,1,0)
	TNT1 A 0 A_TakeInventory("NewCell",100,TIF_NOTAKEINFINITE)
    R3PG G 1 Bright A_FireCustomMissile("PlayerChaosSuperLightningProj",frandom(-6,6),1,0,-8)
    R3PG H 1 Bright
    R3PG E 1
    R3PG F 1 Bright
	TNT1 A 0 Radius_Quake(4,2,0,1,0)
    R3PG G 1 Bright A_FireCustomMissile("PlayerChaosSuperLightningProj",frandom(-6,6),1,0,-8)
    R3PG H 1 Bright
    R3PG E 1
    R3PG F 1 Bright
	TNT1 A 0 Radius_Quake(4,2,0,1,0)
    R3PG G 1 Bright A_FireCustomMissile("PlayerChaosSuperLightningProj",frandom(-6,6),1,0,-8)
    R3PG H 1 Bright
    R3PG E 1
    R3PG F 1 Bright
	TNT1 A 0 Radius_Quake(4,2,0,1,0)
    R3PG G 1 Bright A_FireCustomMissile("PlayerChaosSuperLightningProj",frandom(-6,6),1,0,-8)
    R3PG H 1 Bright
    R3PG E 1
    R3PG F 1 Bright
	TNT1 A 0 Radius_Quake(4,2,0,1,0)
    R3PG G 1 Bright A_FireCustomMissile("PlayerChaosSuperLightningProj",frandom(-6,6),1,0,-8)
    R3PG H 1 Bright
    R3PG E 1
    R3PG F 1 Bright
	TNT1 A 0 Radius_Quake(4,2,0,1,0)
    R3PG G 1 Bright A_FireCustomMissile("PlayerChaosSuperLightningProj",frandom(-6,6),1,0,-8)
    R3PG H 1 Bright
    TNT1 A 0 A_PlaySound("FocusedPlasma/Down")
	TNT1 A 0 A_GiveInventory("PlasmaRepeaterCooldown",10) 
    R3PG AABBCCDD 1 A_WeaponReady(11)
    R3PG AAABBBCCCDDD 1 A_WeaponReady(11)
    R3PG AAAABBBBCCCCDDDD 1 A_WeaponReady(11)
    R3PG AAAABBBBCCCCDDDD 1 A_WeaponReady(11)
    Goto ReadyUpgraded
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready
  GrenadeToss:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderPlasmaRepeater",1,"GrenadeTossUpgraded")
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	STPO A 1 Bright Offset(0,30)
	STPO A 1 Bright Offset(0,40)
	STPO A 1 Bright Offset(0,50)
	STPO A 1 Bright Offset(0,60)
	STPO A 1 Bright Offset(0,70)
	TNT1 A 4 Offset(0,10)
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	STPO A 1 Bright Offset(0,70)
	STPO A 1 Bright Offset(0,60)
	STPO A 1 Bright Offset(0,50)
	STPO A 1 Bright Offset(0,40)
	STPO A 1 Bright Offset(0,30)
	Goto Ready
  GrenadeTossUpgraded:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	R3PG A 1 Bright Offset(0,30)
	R3PG A 1 Bright Offset(0,40)
	R3PG A 1 Bright Offset(0,50)
	R3PG A 1 Bright Offset(0,60)
	R3PG A 1 Bright Offset(0,70)
	TNT1 A 4 Offset(0,10)
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	R3PG A 1 Bright Offset(0,70)
	R3PG A 1 Bright Offset(0,60)
	R3PG A 1 Bright Offset(0,50)
	R3PG A 1 Bright Offset(0,40)
	R3PG A 1 Bright Offset(0,30)
	Goto ReadyUpgraded
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready
  MineToss:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderPlasmaRepeater",1,"MineTossUpgraded")
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	STPO A 1 Bright Offset(0,30)
	STPO A 1 Bright Offset(0,40)
	STPO A 1 Bright Offset(0,50)
	STPO A 1 Bright Offset(0,60)
	STPO A 1 Bright Offset(0,70)
	TNT1 A 8 Offset(0,10)
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	STPO A 1 Bright Offset(0,70)
	STPO A 1 Bright Offset(0,60)
	STPO A 1 Bright Offset(0,50)
	STPO A 1 Bright Offset(0,40)
	STPO A 1 Bright Offset(0,30)
	Goto Ready
  MineTossUpgraded:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	R3PG A 1 Bright Offset(0,30)
	R3PG A 1 Bright Offset(0,40)
	R3PG A 1 Bright Offset(0,50)
	R3PG A 1 Bright Offset(0,60)
	R3PG A 1 Bright Offset(0,70)
	TNT1 A 8 Offset(0,10)
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	R3PG A 1 Bright Offset(0,70)
	R3PG A 1 Bright Offset(0,60)
	R3PG A 1 Bright Offset(0,50)
	R3PG A 1 Bright Offset(0,40)
	R3PG A 1 Bright Offset(0,30)
	Goto ReadyUpgraded
  Flash:
    TNT1 A 1 A_Light1
    TNT1 A 1 A_Light2
    TNT1 A 1 A_Light1
    TNT1 A 1 A_Light0
    Stop
}
}

ACTOR PlasmaReapShot
{
PROJECTILE
Radius 13
Height 8
Speed 29
Damage 6
Scale 0.75
RenderStyle Add 
SeeSound "monsters/fusionfire"
DeathSound "weapons/hrballexplode"
+MTHRUSPECIES
Decal DoomImpScorch
  States
  {
  Spawn:
    FS03 AB 1 Bright A_SpawnItemEx("FusionTrail",0,0,0,0,0,0,0,128,0)
    Loop
  Death:
	TNT1 A 0
    TNT1 A 0 A_SpawnItemEx("PurpleParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
	TNT1 AAA 0 A_CustomMissile("Kaboom8", 0, 0, random(0,360), 2, random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
    FS03 HIJ 3 Bright
	Stop
}
}

ACTOR PlasmaTestShot : PlasmaReapShot
{
Damage 20
+FORCEPAIN
+FOILINVUL
Speed 80
}

ACTOR PlayerFocusedPlasma
{
Projectile
Radius 13
Height 8
Speed 85
Damage 12
+FORCERADIUSDMG
+MTHRUSPECIES
+FOILINVUL
DamageType "MarinePierce"
Renderstyle Add
SeeSound "FocusedPlasma/Fire"
DeathSound "FocusedPlasma/Explode"
Decal DoomImpScorch
States
{
  Spawn:
	FCPL AB 1 Bright A_SpawnItemEx("FocusedPlasmaTrail",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION,0)
	Loop
  Death:
	TNT1 A 0
	TNT1 A 0 A_Explode(16,32,0)
	TNT1 A 0 A_SpawnItemEx("GreenParticleSpawner",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION,0)
	TNT1 AAA 0 A_CustomMissile("Kaboom7",0,0,random(0,360),CMF_AIMDIRECTION,random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX4",0,0,random(0,360),CMF_AIMDIRECTION,random(0,360))
	FCPL HIJ 3 Bright
	Stop
}
}

ACTOR PlayerChaosSuperLightningProj : FastProjectile
{
Radius 12
Height 6
Speed 110
Damage 48
RenderStyle ADD
+NODAMAGETHRUST
+FORCEXYBILLBOARD
+FORCERADIUSDMG
+FOILINVUL
Damagetype "MarinePierce"
SeeSound "FocusedPlasma/Fire"
Deathsound "BFlan/LightningExp"
Missiletype "ChaosSuperLightningTrailSpawner"
Missileheight 8
Decal Scorch
States
{
  Spawn:
	CL2G ABCDE 1 Bright
	Loop
  Death:
	//TNT1 AAAAAA 0 A_SpawnItemEx("GreenParticleSpawner", 0, 0, random(15,35), 0, 0, 0, 0, 128)	  
	//TNT1 AAAAAAAAA 0 A_CustomMissile("Kaboom11",random(15,35),0,random(0,360),2,random(0,360))
	//TNT1 A 0 A_SpawnItem("PlayerDTBFGEx",0,-10)
	//TNT1 A 0 Radius_Quake(20,8,0,12,0)
    TNT1 A 0 A_SpawnItemEx("ChaosSuperLightningProjExplosion",0,0,0,0,0,0,0,128)
	BFE3 AB 4 Bright A_Explode(192,256)
	BFE3 CDEF 5 Bright
	Stop
}
}

ACTOR LightningRifle : Weapon
{
Scale 0.85
Weapon.PreferredSkin "Ionspray-Marine"
Inventory.PickupMessage "\c[K1]Lightning Rifle"
Inventory.PickupSound "LightningRifle/Pick"
Weapon.Selectionorder 4050
Weapon.KickBack 100
Weapon.AmmoUse 1
Weapon.AmmoType "LightningRifleCell"
Weapon.AmmoType2 "NewCell"  
Weapon.AmmoGive 100
Weapon.AmmoGive2 100
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOALERT
+INVENTORY.UNDROPPABLE
Tag "Lightning Rifle"
Decal RailScorch
States
{
  Spawn:
    CDLP A -1
    Stop
  Ready:
	TNT1 A 0 A_PlayWeaponSound("LightningRifle/Up")
	CDLR ABCD 2
  Ready2:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
    CDLG AAABBB 1 Bright A_WeaponReady
    Loop
  Deselect:
	TNT1 A 0 
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	CDLR D 1 A_Lower
    Goto Deselect+1
  Select:
    TNT1 A 0
    TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
	TNT1 A 0 A_Raise
    Wait
  Fire:
	TNT1 A 0
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlaySound("LightningGun/Charge",7)
	CDLF ABC 3 Bright
  Hold:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("LightningRifleType",1,"Hold2")
	TNT1 A 0 A_PlaySound("LightningGun/Loop",1,1.0,1)
	TNT1 A 0 A_FireCustomMissile("LightningImpact",0,0)
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	CDLF D 1 Bright A_RailAttack(random(3,7)*2,0,1,"none","none",RGF_SILENT|RGF_NOPIERCING,30,"PlayerRailPuff",0,0,1586,0,12.0,0,"LightningAttackParticle",-2)
	CDLF DE 1 Bright A_RailAttack(random(3,7)*2,0,0,"none","none",RGF_SILENT|RGF_NOPIERCING,30,"PlayerRailPuff",0,0,1586,0,12.0,0,"LightningAttackParticle",-2)
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderLightningRifle",1,2)
	TNT1 A 0 A_Jump(256,3)
	TNT1 A 0 A_Jump(240,2)
 	TNT1 A 0 A_FireCustomMissile("LightningRifleCannonBall",0,0)
	TNT1 A 0 A_JumpIfInventory("LightningRifleCell",1,1)
	Goto Recoil
	TNT1 A 0 A_ReFire
  Recoil:
	TNT1 A 0
	TNT1 A 0 A_PlaySound("LightningGun/End",1)
	TNT1 A 0 A_JumpIfInventory("LightningRifleCell",1,2)
	TNT1 A 0 A_Jump(256,"Empty")
    CDLR D 20
	Goto Ready2
  Hold2:
	TNT1 A 0 A_PlayWeaponSound("LightningRifle/Fire")
	CDLF D 1 Bright A_FireBullets(2,2,random(1,4),random(4,9),"LightningRifleVoltagePuff",1,1024)
	CDLF E 2
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderLightningRifle",1,2)
	TNT1 A 0 A_Jump(256,3)
	TNT1 A 0 A_Jump(240,2)
 	TNT1 A 0 A_FireCustomMissile("LightningRifleCannonBall",0,0)
	TNT1 A 0 A_JumpIfInventory("LightningRifleCell",1,1)
	Goto Recoil
	TNT1 A 0 A_ReFire("Hold2")
	Goto Recoil
  Empty:
    CLGR A 10 A_PlayWeaponSound("weapons/click3")
  AltFire:
  	TNT1 A 0 A_JumpIfInventory("LightningRifleCell",100,2)
    TNT1 A 0 A_JumpIfInventory("NewCell",1,2)
	TNT1 A 0
	Goto Ready2
	TNT1 A 0 A_PlayWeaponSound("weapons/plasmacellout")
	CLGR B 1 A_FireCustomMissile("PlasmaCellCasingSpawner", 0, 0, 0, 1) 
	CLGR CD 2
	CLGR E 10
	CLGR FGH 1
	TNT1 A 0 A_JumpIfInventory("NewCell",1,"Reload")
	CLGR I 2
	CLGR J 8 A_PlayWeaponSound("weapons/plasmacellin")
	CLGR KL 2
	CLGR MNO 1
	Goto Ready2
  Reload:
	TNT1 A 0 A_TakeInventory("NewCell",1)
	TNT1 A 0 A_GiveInventory("LightningRifleCell",1)
	TNT1 A 0 A_JumpIfInventory("LightningRifleCell",100,"Full")
	TNT1 A 0 A_JumpIfInventory("NewCell",1,"Reload")
	Goto AltFire+12
  Full:
    TNT1 A 0
    Goto AltFire+12
  Zoom:
	CDLR A 0
	CDLR A 0 A_TakeInventory("RailgunAction",1)
	CDLR A 0 A_JumpIfInventory("LightningRifleType",1,4)
	CDLR A 0 A_Print("Shock Rifle Mod")
	CDLR A 0 A_PlayWeaponSound("Weapon/Mod1")
	CDLR A 15 A_GiveInventory("LightningRifleType",1)
	Goto Ready
	CDLR A 0 A_Print("Lightning Rifle Mod")
	CDLR A 0 A_PlayWeaponSound("Weapon/Mod5")
	CDLR A 15 A_TakeInventory("LightningRifleType",1)
	Goto Ready
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready2
  GrenadeToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
    CDLR DCBA 2
	TNT1 A 4
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	Goto Ready+1
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready2
  MineToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
    CDLR DCBA 2
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1		
	TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	Goto Ready+1
}
}

Actor LightningRifleType : Inventory{Inventory.MaxAmount 1}

Actor LightningRifleVoltagePuff 
{
Renderstyle Add
Alpha 0.5
+PUFFONACTORS
+ALWAYSPUFF
+CLIENTSIDEONLY
+NOINTERACTION
+FORCEXYBILLBOARD
+MTHRUSPECIES
DamageType "Marine"
Scale 0.3
States 
{
  Spawn:
	VOLX A 2 Bright
	VOLX A 0 A_SpawnItemEx("LightningRifleVoltageDecay",0,0,0,0,0,0,0,128,192)
	VOLX BCDEFEDCB 2 Bright
	VOLX A 1 A_FadeOut
	Wait
}
}

Actor LightningRifleVoltageDecay 
{
+CLIENTSIDEONLY
+NOINTERACTION
+FORCEXYBILLBOARD
Renderstyle Add
Alpha 1
Scale 0.375
States 
{
  Spawn:
    TNT1 A 0
	TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
	TNT1 AA 0 A_PlaySound("LightningRifle/Decay")
	TNT1 A 0 A_Jump(128,"AltSpawn")
	VOLX AABBCCDDEEFFEECCB 2 bright A_SpawnItemEx("LightningRifleVoltageSpark",0,0,0,random(-6,6)/2,random(-6,6)/2,random(-3,3)/1.25,random(-180,180),128,64)
	VOLX A 1 A_FadeOut
	Wait
  AltSpawn:
	VOLX AACCBBDDFFEECCB 2 bright A_SpawnItemEx("LightningRifleVoltageSpark",0,0,0,random(-6,6)/1.85,random(-6,6)/1.85,random(-3,3),random(-180,180),128,64)
	VOLX A 1 A_FadeOut
	Wait
  Toaster:
	TNT1 A 0
	Stop
}
}

Actor LightningRifleVoltageSpark
{
Projectile
+CLIENTSIDEONLY
+NOINTERACTION
+FORCEXYBILLBOARD
+NOCLIP 
+NONETID
Renderstyle Add	
Alpha 0.8
Scale 0.6
Speed 10
States 
{
  Spawn:
    TNT1 A 0
	TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
	TNT1 A 0 A_Jump(96,"Toaster")
	TNT1 A 0 A_Jump(128,"AltSpawn")
	VOLX ABCDEFCB 2 bright
	VOLX A 1 A_FadeOut
	Wait
  AltSpawn:
	VOLX ACBDFECB 2 bright
	VOLX A 1 A_FadeOut
	Wait
  Toaster:
	TNT1 A 0
	Stop
}
}

Actor LightningRifleCannonBall 
{
Projectile
Radius 8
Height 8
Speed 50
Damage 128
Renderstyle Add
Alpha 0.9
Scale 1.5
+MTHRUSPECIES
+SKYEXPLODE
+FORCERADIUSDMG
DamageType "Marine"
SeeSound "LightningRifleCannonBall/Fire"
DeathSound "LightningRifleCannonBall/Explode"
+BRIGHT
States 
{
  Spawn:
	PPCX A 1
    TNT1 A 0 A_SpawnItemEx("LightningRifleVoltagePuff2", random(-64,64), random(-64,64), random(-64,64), random(-8,8), random(-8,8), random(-8,8), 0, 128, 0)
	TNT1 A 0 A_Explode(10,256)
	Loop
  Death:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("LightningRifleCannonBallImpact",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
	TNT1 AAAA 0 A_SpawnItemEx("LightningRifleCannonBallFX",0,0,0,random(-8,8),random(-8,8),random(-8,8),0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
	TNT1 A 0 A_PlayWeaponSound("ppc/explode")
	TNT1 AAAAAA 1 A_Explode(64,512,0)
	TNT1 A 15
	Stop
}
}

ACTOR LightningRifleCell : Ammo
{
Inventory.Amount 0
Inventory.MaxAmount 100
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 100
Inventory.Icon "CDLPA0"
+IGNORESKILL
}

Actor PlasmaCaster : Weapon
{
Tag "Plasma Caster"
Weapon.Selectionorder 4051
Weapon.KickBack 100
Weapon.AmmoType "NewCell"
Weapon.AmmoGive 120
Weapon.AmmoUse 5
Weapon.AmmoType2 "NewCell"
Weapon.AmmoUse2 5
Weapon.UpSound "PlasmaCaster/Reload"
Weapon.PreferredSkin "Ionspray-Marine"
Inventory.PickupMessage "\c[m5]Plasma Caster"
Inventory.PickupSound "PlasmaCaster/Full"
Obituary "%o got plasmaficated rapidly by %k's plasma caster"
Decal DoomImpScorch
+INVENTORY.UNDROPPABLE
States
{
  Spawn:
	PLCA Z -1
	Loop
  Ready:
    PLCA A 1 A_WeaponReady
    Loop
  Deselect:
    TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	PLCA A 0 A_Lower
    PLCA A 1 A_Lower
    Loop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
    TNT1 A 0 A_Raise
    PLCA A 1 A_Raise
    Loop
  Fire:
    TNT1 A 0
	TNT1 A 0 A_PlaySound("PlasmaCaster/Full")
	TNT1 A 0 A_PlaySound("PlasmaCaster/Charge",5)
    PLCA ABCABCABCABC 3
  Hold:
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderPlasmaCaster",1,"HoldUpgraded")
    TNT1 A 0 A_PlaySound("weapons/expmgunspin",5)
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_GunFlash
	PLCA E 2 Bright Offset(0,40)
	PLCA E 2 Bright Offset(0,36)
	TNT1 A 0 A_PlayWeaponSound("PlasmaCaster/Shot")
	TNT1 AAAA 0 A_FireCustomMissile("PlasmaCasterBall",random(-64,64)/10.0,0,0,0,0,random(-120,120)/100.00)
	TNT1 A 0 A_FireCustomMissile("PlasmaCasterBall",0,1,0)
	PLCA F 2 Bright Offset(0,32)
	PLCA B 2 Offset(0,40)
	PLCA C 2 Offset(0,36)
	PLCA A 2 Offset(0,32)
    TNT1 A 0 A_ReFire
	TNT1 A 0 A_PlaySound("PlasmaCaster/Reload",5)
	PLCA ABCABCABC 3
	Goto Ready
  HoldUpgraded:
    TNT1 A 0 A_PlaySound("weapons/expmgunspin",5)
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_GunFlash
	PLCA E 2 Bright Offset(0,40)
	PLCA E 2 Bright Offset(0,36)
	TNT1 A 0 A_PlaySound("PlasmaBlaster/Fire")
	TNT1 A 0 A_PlayWeaponSound("PlasmaBlaster/Add")
	TNT1 AAAA 0 A_FireCustomMissile("PlasmaBlasterProj",random(-64,64)/10.0,0,0,0,0,random(-120,120)/100.00)
	TNT1 A 0 A_FireCustomMissile("PlasmaBlasterProj",0,1,0)
	PLCA F 2 Bright Offset(0,32)
	PLCA B 2 Offset(0,40)
	PLCA C 2 Offset(0,36)
	PLCA A 2 Offset(0,32)
    TNT1 A 0 A_ReFire("HoldUpgraded")
	TNT1 A 0 A_PlaySound("PlasmaCaster/Reload",5)
	PLCA ABCABCABC 3
	Goto Ready
  AltFire:
    PLCA A 0
	TNT1 A 0 A_PlaySound("PlasmaCaster/Full")
	TNT1 A 0 A_PlaySound("Weapons/KarasawaCharge",5)
    PLCA ABCABCABCABC 3
  AltHold:
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderPlasmaCaster",1,"AltHoldUpgraded")
    TNT1 A 0 A_PlaySound("weapons/expmgunspin",5)
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_GunFlash
	PLCA E 2 Bright Offset(0,40)
	PLCA E 2 Bright Offset(0,36)
	TNT1 A 0 A_PlayWeaponSound("Weapons/KarasawaFire")
	TNT1 AAAA 0 A_FireCustomMissile("PlasmaCasterBolt",random(-64,64)/10.0,0,0,0,0,random(-120,120)/100.00)
	TNT1 A 0 A_FireCustomMissile("PlasmaCasterBolt",0,1,0)
	PLCA F 2 Bright Offset(0,32)
	PLCA B 2 Offset(0,40)
	PLCA C 2 Offset(0,36)
	PLCA A 2 Offset(0,32)
    TNT1 A 0 A_ReFire
	TNT1 A 0 A_PlaySound("PlasmaCaster/Reload",5)
	PLCA ABCABCABC 3
	Goto Ready
  AltHoldUpgraded:
    TNT1 A 0 A_PlaySound("weapons/expmgunspin",5)
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_GunFlash
	PLCA E 2 Bright Offset(0,40)
	PLCA E 2 Bright Offset(0,36)
	TNT1 A 0 A_PlayWeaponSound("Weapons/KarasawaFire")
	TNT1 AAAA 0 A_FireCustomMissile("PlasmaCasterBoltBouncing",random(-64,64)/10.0,0,0,0,0,random(-120,120)/100.00)
	TNT1 A 0 A_FireCustomMissile("PlasmaCasterBoltBouncing",0,1,0)
	PLCA F 2 Bright Offset(0,32)
	PLCA B 2 Offset(0,40)
	PLCA C 2 Offset(0,36)
	PLCA A 2 Offset(0,32)
    TNT1 A 0 A_ReFire
	TNT1 A 0 A_PlaySound("PlasmaCaster/Reload",5)
	PLCA ABCABCABC 3
	Goto Ready
  Flash:
    TNT1 A 1 A_Light1
    TNT1 A 1 A_Light2
    TNT1 A 1 A_Light1
    TNT1 A 1 A_Light0
    Stop
}
}

Actor PlasmaCasterBall : FastProjectile
{
Speed 192
Radius 12
Height 8
Damage 8
Alpha 0.6
Renderstyle Add
MissileType "PlasmaCasterBallTrail"
Scale 0.1
+MTHRUSPECIES
Decal HeatScorch
States
{
  Spawn:
	TNT1 A 5
	Loop
  Death:
	TNT1 A 0 A_PlaySound("PlasmaCaster/Hit")
	TNT1 A 0 A_Explode(12,16,0)
	TNT1 AAAAAAAAAAA 0 A_SpawnItemEx("PlasmaCasterBallParticles",random(-8,8),random(-8,8),random(-2,2),random(-4,4),random(-4,4),random(-2,2),random(0,359))
	VNFX A 4 Bright
	VNFX A 2 Bright A_SetScale(0.1,0.1)
	VNFX A 2 Bright A_SetScale(0.08,0.08)
	VNFX A 2 Bright A_SetScale(0.06,0.06)
	VNFX A 2 Bright A_SetScale(0.04,0.04)
	VNFX A 2 Bright A_SetScale(0.02,0.02)
	Stop
}
}

Actor MPlasmaCasterBall : PlasmaCasterBall
{
Damage 16
States
{
  Death:
	TNT1 A 0 A_PlaySound("PlasmaCaster/Hit")
	TNT1 A 0 A_Explode(32,16,0)
	TNT1 AAAAAAAAAAA 0 A_SpawnItemEx("PlasmaCasterBallParticles",random(-8,8),random(-8,8),random(-2,2),random(-4,4),random(-4,4),random(-2,2),random(0,359))
	VNFX A 4 Bright
	VNFX A 2 Bright A_SetScale(0.1,0.1)
	VNFX A 2 Bright A_SetScale(0.08,0.08)
	VNFX A 2 Bright A_SetScale(0.06,0.06)
	VNFX A 2 Bright A_SetScale(0.04,0.04)
	VNFX A 2 Bright A_SetScale(0.02,0.02)
	Stop
}
}

Actor PlasmaCasterBallParticles : ClientSideEffect
{
+CLIENTSIDEONLY
+NOGRAVITY
Scale 1.4
Translation "112:127=[128,128,192]:[64,64,240]"
States
{
   Spawn:
	TNT1 A 0
	TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
	VINP BCBC 7 Bright
	Stop
}
}

ACTOR PlasmaCasterBallTrail
{
+NOBLOCKMAP
+NOGRAVITY
+NOTELEPORT
+CANNOTPUSH
+NODAMAGETHRUST
+CLIENTSIDEONLY
Alpha 0.85
Scale 0.1
Renderstyle Add
States
{
   Spawn:
	VNFX B 3
	VNFX B 2 Bright A_SetScale(0.1,0.1)
	VNFX B 0 A_FadeOut(0.15)
	VNFX B 2 Bright A_SetScale(0.08,0.08)
	VNFX B 0 A_FadeOut(0.15)
	VNFX B 2 Bright A_SetScale(0.06,0.06)
	VNFX B 0 A_FadeOut(0.15)
	VNFX B 2 Bright A_SetScale(0.04,0.04)
	VNFX B 0 A_FadeOut(0.15)
	VNFX B 2 Bright A_SetScale(0.02,0.02)
	Stop
}
}

Actor PlasmaBlasterProj : FastProjectile
{
Projectile
Speed 250
+MTHRUSPECIES
+SKYEXPLODE
Damage 18
Scale 0.5
Radius 1
Height 1
Renderstyle Add
Decal HeatScorch
States
{
  Spawn:
	PLST A 1 Bright
	Loop
  Death:
	TNT1 A 0 A_Explode(32,55,0)
	TNT1 A 0 A_PlaySound("PlasmaCaster/Hit")
	TNT1 A 0 A_SpawnItem("PlasmaBlasterProjImpact")
	TNT1 A 0 A_SpawnItem("PlasmaBlasterProjTrail")
	TNT1 AAAAAAAAAA 0 A_SpawnItemEx("PlasmaBlasterProjSpark",frandom(5.0,-5.0),frandom(5.0,-5.0),frandom(5.0,-5.0),0,0,0,0,128,0)
	TNT1 AAAAAAAA 0 A_SpawnItemEx("PlasmaBlasterProjSmoke",0,0,0,frandom(2,3),0,frandom(-1,1),frandom(0,359))
	TNT1 A 20 A_SpawnItemEx("PlasmaBlasterProjSmoke",0,0,0,frandom(2,3),0,frandom(-1,1),frandom(0,359))
	Stop
}
}

Actor PlasmaCasterBolt
{
Projectile
+Ripper
+BloodSplatter
+SkyExplode
+MTHRUSPECIES
Radius 6
Height 4
Speed 80
Damage 4
Alpha 1.0
XScale 1.5
YScale 0.4
RenderStyle Add
SeeSound ""
DeathSound "Weapons/KarasawaHit"
ReactionTime 8
Decal HeatScorch
DamageType "Marine"
States
{
  Spawn:
    KWBB A 0 A_PlaySound("KsawBoltFly")
  Fly:
    KWBB A 0 A_CountDown
    KWBB ABCD 1 Bright A_SpawnItemEx("PlasmaCasterBoltBlur",0,0,0,1,0,0,180,128)
    Goto Spawn+1
  Death:
    TNT1 A 0 A_SpawnItemEx("BlueParticleSpawner",0,0,0,0,0,0,0,128)
    TNT1 AAAA 0 A_CustomMissile("Kaboom6", 0, 0, random(0,360), 2, random(0,360))
    KWBD ABCDEF 2 Bright
    Stop
  }
}

Actor PlasmaCasterBoltBouncing : PlasmaCasterBolt
{
+HexenBounce
+CanBounceWater
BounceFactor 1.2
ReactionTime 14
}

Actor MPlasmaCasterBolt : PlasmaCasterBolt
{
-MTHRUSPECIES
Damage 8
}

Actor PlasmaCasterBoltBlur : ClientSideEffect
{
  Height 2
  Radius 6
  Damage 0
  Speed 0.2
  RenderStyle Add
  Alpha 0.9
  XScale 1.3
  YScale 0.3
  +NoGravity
  +DropOff
  +NoTeleport
  +CLIENTSIDEONLY
  states
  {
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
    KWBR AB 2 Bright A_FadeOut(0.3)
    Loop
  }
}

Actor PulseShotgun : Weapon
{
Tag "Pulse Shotgun"
Weapon.AmmoType "NewCell"
Weapon.AmmoUse 10
Weapon.AmmoGive 120
Weapon.AmmoType2 "NewCell"
Weapon.AmmoUse2 10
Weapon.PreferredSkin "CombatSG-Marine"
Weapon.UpSound "hrl/up"
Inventory.PickupMessage "\c[m5]Pulse Shotgun"
AttackSound "plasmasg/up"
Inventory.PickupSound "weapons/pulseshotgun/pump"
Decal DoomImpScorch
+INVENTORY.UNDROPPABLE
States
{
  Spawn:
	STBE X -1
	Stop
  Ready:
    TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	PSGA A 1 A_WeaponReady
	Loop
  Select:
    PSGA A 0 A_Raise
	PSGA A 1 A_Raise
	Loop
  Deselect:
    TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
    PSGA A 0 A_Lower
	PSGA A 1 A_Lower
	Loop
  Fire:
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlaySound("weapons/pulseshotgun/add",7)
	TNT1 A 0 A_FireBullets(5,6,7,24,"ShotgunPlasmaPuff")
	TNT1 A 0 Radius_Quake(3,3,0,1,0)
	TNT1 A 0 A_Light1
	PSGF AB 1 Bright
	TNT1 A 0 A_Light0
	PSGF CDE 1
	PSGA A 3
	PSGR ABCDEFGHIJK 1
	TNT1 A 0 A_PlaySound("plasmashotgun/load")
	TNT1 A 0 A_PlaySound("weapons/pulseshotgun/pump",7)
	TNT1 A 0 A_SpawnItemEx("ShotgunCellCasing",30,-6,25,Random(2,4),Random(3,6),Random(3,6),0)
	PSGR LM 1
	PSGR N 2
	PSGR MLKJIHGFEDCBA 1
	Goto Ready
  AltFire:
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlaySound("weapons/pulseshotgun/add",7)
	TNT1 A 0 A_FireBullets(5,6,7,24,"ShotgunPlasmaPuff")
	TNT1 A 0 Radius_Quake(3,3,0,1,0)
	TNT1 A 0 A_Light1
	PSGF AB 1 Bright
	TNT1 A 0 A_Light0
	PSGF CDE 1
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlaySound("weapons/pulseshotgun/add",7)
	TNT1 A 0 A_FireBullets(5,6,7,24,"ShotgunPlasmaPuff")
	TNT1 A 0 Radius_Quake(3,3,0,1,0)
	TNT1 A 0 A_Light1
	PSGF AB 1 Bright
	TNT1 A 0 A_Light0
	PSGF CDE 1
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlaySound("weapons/pulseshotgun/add",7)
	TNT1 A 0 A_FireBullets(5,6,7,24,"ShotgunPlasmaPuff")
	TNT1 A 0 Radius_Quake(3,3,0,1,0)
	TNT1 A 0 A_Light1
	PSGF AB 1 Bright
	TNT1 A 0 A_Light0
	PSGF CDE 1
	PSGA A 3
	PSGR ABCDEFGHIJK 1
	TNT1 A 0 A_PlaySound("plasmashotgun/load")
	TNT1 A 0 A_PlaySound("weapons/pulseshotgun/pump",7)
	TNT1 A 0 A_SpawnItemEx("ShotgunCellCasing",30,-6,25,Random(2,4),Random(3,6),Random(3,6),0)
	PSGR LMNMLKJJIJK 1
	TNT1 A 0 A_PlaySound("plasmashotgun/load")
	TNT1 A 0 A_PlaySound("weapons/pulseshotgun/pump",7)
	TNT1 A 0 A_SpawnItemEx("ShotgunCellCasing",30,-6,25,Random(2,4),Random(3,6),Random(3,6),0)
	PSGR LMNMLKJJIJK 1
	TNT1 A 0 A_PlaySound("plasmashotgun/load")
	TNT1 A 0 A_PlaySound("weapons/pulseshotgun/pump",7)
	TNT1 A 0 A_SpawnItemEx("ShotgunCellCasing",30,-6,25,Random(2,4),Random(3,6),Random(3,6),0)
	PSGR LMNMLKJJIJK 1
	TNT1 A 0 A_PlaySound("plasmashotgun/load")
	TNT1 A 0 A_PlaySound("weapons/pulseshotgun/pump",7)
	TNT1 A 0 A_SpawnItemEx("ShotgunCellCasing",30,-6,25,Random(2,4),Random(3,6),Random(3,6),0)
	PSGR LMNMLKJJIJK 1
	TNT1 A 0 A_PlaySound("plasmashotgun/load")
	TNT1 A 0 A_PlaySound("weapons/pulseshotgun/pump",7)
	TNT1 A 0 A_SpawnItemEx("ShotgunCellCasing",30,-6,25,Random(2,4),Random(3,6),Random(3,6),0)
	PSGR LM 1
	PSGR N 2
	PSGR MLKJIHGFEDCBA 1
	Goto Ready
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready
  GrenadeToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	PSGA A 1 Offset(0,30)
	PSGA A 1 Offset(0,40)
	PSGA A 1 Offset(0,50)
	PSGA A 1 Offset(0,60)
	PSGA A 1 Offset(0,70)
	TNT1 A 4 Offset(0,10)
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	PSGA A 1 Offset(0,70)
	PSGA A 1 Offset(0,60)
	PSGA A 1 Offset(0,50)
	PSGA A 1 Offset(0,40)
	PSGA A 1 Offset(0,30)
	Goto Ready
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready
  MineToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	PSGA A 1 Offset(0,30)
	PSGA A 1 Offset(0,40)
	PSGA A 1 Offset(0,50)
	PSGA A 1 Offset(0,60)
	PSGA A 1 Offset(0,70)
	TNT1 A 8 Offset(0,10)
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	PSGA A 1 Offset(0,70)
	PSGA A 1 Offset(0,60)
	PSGA A 1 Offset(0,50)
	PSGA A 1 Offset(0,40)
	PSGA A 1 Offset(0,30)
	Goto Ready
	}
}

Actor ShotgunPlasmaPuff
{
  Radius 6
  Height 6
  +NOBLOCKMAP
  +NOGRAVITY
  +ACTIVATEIMPACT
  +ACTIVATEPCROSS
  +NOTELEPORT
  +PUFFONACTORS
  +BLOODLESSIMPACT
  +FORCERADIUSDMG
  +MTHRUSPECIES
  +ALWAYSPUFF
  +NODAMAGETHRUST
  Scale 0.5
  Renderstyle Add
  Alpha 0.75
  Decal Bulletchip
  DamageType "Marine"
  States
  {
  Spawn:
	TNT1 A 0
    TNT1 A 0 A_SpawnItemEx("BlueParticleSpawner",0,0,0,0,0,0,0,128)
	TNT1 AAA 0 A_CustomMissile("Kaboom6", 0, 0, random(0,360), 2, random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
    BFOG A 3 Bright A_Explode(4,64)
    BFOG BCDEF 3 Bright
    Stop
  }
}

Actor DemonTechMinigunType : Inventory{Inventory.MaxAmount 1}
ACTOR "Demon Tech Minigun" : Weapon
{
   Tag "Demon Tech Minigun"
   Weapon.SelectionOrder 10
   Weapon.PreferredSkin "Minigun-Marine"
   Weapon.KickBack 10
   Weapon.AmmoUse 1
   Weapon.AmmoGive 100
   Weapon.AmmoType "DemonAmmo"
   Weapon.UpSound "weapons/demontechload"
   Inventory.PickupSound "weapons/demontechload"
   Inventory.PickupMessage "\c[l2]Demon Tech Minigun"
   +INVENTORY.UNDROPPABLE
   States
   {
   Spawn:
      DTM0 Z -1
      Stop
   Ready:
      DTM1 A 0 A_JumpIfInventory("DemonTechMinigunType",1,"Ready2")
      DTM1 A 1 A_WeaponReady
      Loop
   Ready2:
      DTM2 A 1 A_WeaponReady
      Loop
   Deselect:
      TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	  TNT1 A 0 A_TakeInventory("MineAction",1)
	  TNT1 A 0 A_TakeInventory("RailgunAction",1)
      DTM1 A 0 A_Lower
      DTM1 A 1 A_Lower
      Loop
   Select:
      DTM1 A 0 A_Raise
      DTM1 A 1 A_Raise
      Loop
   Fire:
      DTM1 A 0 A_JumpIfInventory("DemonTechMinigunType",1,"Fire2")
	  TNT1 A 0 A_PlaySound("weapons/expmgunspinstart",5)
      DTM1 BCDE 3
	  DTM1 EFGHI 3
   Hold:
      TNT1 A 0 A_PlaySound("weapons/expmgunspin",5)
	  TNT1 A 0 Radius_Quake(2,2,0,1,0)
	  TNT1 A 0 A_GunFlash
	  TNT1 A 0 A_PlaySound("demontechminigun/fire1")
	  TNT1 A 0 A_FireCustomMissile("Nothing",0,1,0,0)
	  TNT1 AA 0 A_FireCustomMissile("GreenExpMissileBullet",Random(1,-1),0,0,0,0,Random(1,-1))
	  DTM0 A 2 Bright A_FireCustomMissile("GreenExpMissileBullet",Random(1,-1),1,0,0,0,Random(1,-1))
	  TNT1 A 0 Radius_Quake(2,2,0,1,0)
	  TNT1 A 0 A_GunFlash
	  TNT1 A 0 A_PlaySound("demontechminigun/fire1")
	  TNT1 A 0 A_FireCustomMissile("Nothing",0,1,0,0)
	  TNT1 AA 0 A_FireCustomMissile("GreenExpMissileBullet",Random(1,-1),0,0,0,0,Random(1,-1))
	  DTM0 B 2 Bright A_FireCustomMissile("GreenExpMissileBullet",Random(1,-1),1,0,0,0,Random(1,-1))
	  DTM0 C 2
      TNT1 A 0 A_ReFire
	  TNT1 A 0 A_PlaySound("weapons/expmgunspinstop",5)
	  DTM1 EFGHI 3
	  DTM1 JKLA 3
	  Goto Ready
   Fire2:
	  TNT1 A 0 A_PlaySound("weapons/expmgunspinstart",5)
      DTM2 BCDE 3
	  DTM2 EFGHI 3
   Hold2:
      TNT1 A 0 A_PlaySound("weapons/expmgunspin",5)
	  TNT1 A 0 Radius_Quake(2,2,0,1,0)
	  TNT1 A 0 A_GunFlash
	  TNT1 A 0 A_PlaySound("demontechminigun/fire2")
	  TNT1 A 0 Radius_Quake(2,2,0,1,0)
	  TNT1 A 0 A_GunFlash
	  TNT1 AA 0 A_FireCustomMissile("Nothing",0,1,0,0)
	  DTM0 A 6 Bright A_FireCustomMissile("DTMinigunSoulRage",0,1,0,0,0,0)
	  TNT1 A 0 A_PlaySound("demontechminigun/fire2")
	  TNT1 A 0 Radius_Quake(2,2,0,1,0)
	  TNT1 A 0 A_GunFlash
	  TNT1 AA 0 A_FireCustomMissile("Nothing",0,1,0,0)
	  DTM0 B 6 Bright A_FireCustomMissile("DTMinigunSoulRage",0,1,0,0,0,0)
	  DTM0 C 6
      TNT1 A 0 A_ReFire("Hold2")
	  TNT1 A 0 A_PlaySound("weapons/expmgunspinstop",5)
	  DTM2 EFGHI 3
	  DTM2 JKLA 3
	  Goto Ready
   AltFire:
  	  DTM1 A 0 A_JumpIfInventory("DemonTechMinigunType",1,"AltFire2")
	  DTM1 A 1 A_GiveInventory("DemonTechMinigunType",1)
      DTM1 A 0 A_GunFlash
      DTM1 A 4 Offset(0,32)
	  DTM1 A 4 Offset(0,36)
	  DTM1 A 4 Offset(0,40)
	  DTM1 A 4 Offset(0,44)
	  DTM1 A 4 Offset(0,48)
	  DTM1 A 4 Offset(0,52)
	  DTM1 A 4 Offset(0,54)
	  DTM2 A 0 A_PlaySound("weapons/demontechsteam")
	  DTM1 A 0 A_PlayWeaponSound("weapons/spirit1")
	  DTM1 A 4 Offset(0,58)
	  DTM2 A 4 Offset(0,54)
	  DTM2 A 4 Offset(0,52)
	  DTM2 A 4 Offset(0,48)
	  DTM2 A 4 Offset(0,44)
	  DTM2 A 4 Offset(0,40)
	  DTM2 A 4 Offset(0,36)
	  DTM2 A 4 Offset(0,32)
      DTM2 A 12
	  DTM2 A 3 A_Refire
      Goto Ready
    AltFire2:
	  DTM2 A 0
	  DTM2 A 1 A_TakeInventory("DemonTechMinigunType",1)
      DTM2 A 0 A_GunFlash
      DTM2 A 4 Offset(0,32)
	  DTM2 A 4 Offset(0,36)
	  DTM2 A 4 Offset(0,40)
	  DTM2 A 4 Offset(0,44)
	  DTM2 A 4 Offset(0,48)
	  DTM2 A 4 Offset(0,52)
	  DTM2 A 4 Offset(0,54)
	  DTM2 A 0 A_PlaySound("weapons/demontechsteam")
	  DTM2 A 0 A_PlayWeaponSound("veloghost/death")
	  DTM2 A 4 Offset(0,58)
	  DTM1 A 4 Offset(0,54)
	  DTM1 A 4 Offset(0,52)
	  DTM1 A 4 Offset(0,48)
	  DTM1 A 4 Offset(0,44)
	  DTM1 A 4 Offset(0,40)
	  DTM1 A 4 Offset(0,36)
	  DTM1 A 4 Offset(0,32)
      DTM1 A 12
	  DTM1 A 3 A_Refire
      Goto Ready
   Flash:
      TNT1 A 5 A_Light1
      TNT1 A 6 A_Light2
      TNT1 A 5 A_Light1
      TNT1 A 0 A_Light0
      Stop
   }
}

ACTOR DTMinigunSoulRage
{
Speed 45
Radius 6
Height 6
Damage 15
RenderStyle "Translucent"
Alpha 0.75
SeeSound "weapons/spirit1"
DeathSound "veloghost/death"
PROJECTILE
+MTHRUSPECIES
+FORCERADIUSDMG
+SEEKERMISSILE
Decal DTRScorch
States
{
Spawn:
    TNT1 A 0 A_SeekerMissile(20,50,SMF_LOOK|SMF_PRECISE)
	SPI2 A 2 Bright A_SpawnItemEx("GHellionSmoke")
	TNT1 A 0 A_SeekerMissile(20,50,SMF_LOOK|SMF_PRECISE)
	SPI2 B 2 Bright A_SpawnItemEx("GHellionSmoke")
	Loop
Death:
	TNT1 A 0
	TNT1 A 0 A_Explode(16,48,0)
    TNT1 A 0 A_SpawnItemEx("GreenParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
	TNT1 AAA 0 A_CustomMissile("Kaboom7", 0, 0, random(0,360), 2, random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
	SPI2 EFGHIJ 3 Bright
	Stop
	}
}

Actor GreenExpMissileBullet
{
Projectile
+RANDOMIZE
+FORCEXYBILLBOARD
+DONTSPLASH
+MTHRUSPECIES
+FORCERADIUSDMG
Damage 4
Speed 144
RenderStyle ADD
Alpha 0.9
Scale 0.2
DeathSound "weapons/demontechex"
Decal DTRScorch
States
{
    Spawn:
	 TRA2 A 1 BRIGHT
	 Loop
   Death:
   	 TNT1 A 0
	 TNT1 A 0 A_SpawnItemEx("GreenParticleSpawnerDT", 0, 0, 0, 0, 0, 0, 0, 128)
	 TNT1 AAA 0 A_CustomMissile("Kaboom7", 0, 0, random(0,360), 2, random(0,360))
	 TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
	 TNT1 A 25 A_Explode(8,32,0)
     Stop
}
}

ACTOR "Demon Tech Railgun" : Weapon
{
Scale 0.8
Weapon.PreferredSkin "DTechRailgun-Marine"
Weapon.Selectionorder 4000
Weapon.KickBack 200
Weapon.AmmoUse 10
Weapon.AmmoGive 60
Weapon.AmmoGive2 60
Weapon.AmmoType "DemonAmmoCharge"
Weapon.AmmoType2 "DemonAmmo"
Inventory.PickupSound "weapons/pickupdtrg"
Inventory.Pickupmessage "\c[l2]Demon Tech Railgun"
Obituary "%o sucked on %k's Demon Tech Railgun slug."
DamageType "DTRailgun"
//Decal GreenRocketScorch
//AttackSound "weapons/dtrailf"
AttackSound ""
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOALERT
+WEAPON.NOAUTOAIM
+INVENTORY.UNDROPPABLE
States 
{
  Spawn:
    DRGI A -1
    Stop
  Ready:
    TNT1 A 0
    TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRailgun",1,"ReadyUpdated")
	TNT1 A 0 A_PlaySound("weapons/dtrgselect")
    TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",10,"ReadyCharged")
	DRGS FGHIJ 1
	Goto ReadyWait
  ReadyCharged:
	DRGS ABCDE 1
	Goto ReadyWaitCharged
  ReadyWait:
    TNT1 A 0
    TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRailgun",1,"ReadyUpdatedWait")
    TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",10,"ReadyWaitCharged")
	DRGG D 3 A_WeaponReady
    Loop
  ReadyWaitCharged:
	TNT1 A 0
    TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",10,1)
	Goto ReadyWait
    TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRailgun",1,"ReadyUpdatedWaitCharged")
    TNT1 A 0 A_PlayWeaponSound("weapons/dtrailgunhum")
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DRGG A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DRGG A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DRGG A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DRGG B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DRGG B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DRGG B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DRGG C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DRGG C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DRGG C 1 A_WeaponReady
    Loop
  ReadyUpdated:
    TNT1 A 0
	TNT1 A 0 A_PlaySound("UpgradedDemonTechRailgun/Select")
    TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",30,"ReadyUpdatedCharged")
	PDRS FGHIJ 1
	Goto ReadyUpdatedWait
  ReadyUpdatedCharged:
	PDRS ABCDE 1
	Goto ReadyWaitCharged
  ReadyUpdatedWait:
    TNT1 A 0
    TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",30,"ReadyUpdatedWaitCharged")
	PDRG D 3 A_WeaponReady
    Loop
  ReadyUpdatedWaitCharged:
	TNT1 A 0
    TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",30,1)
	Goto ReadyUpdatedWait
    TNT1 A 0 A_PlayWeaponSound("UpgradedDemonTechRailgun/Idle")
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	PDRG A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	PDRG A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	PDRG A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	PDRG B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	PDRG B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	PDRG B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	PDRG C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	PDRG C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	PDRG C 1 A_WeaponReady
    Loop
   Select:
	 TNT1 A 0
 	 TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
   Selecting:
    TNT1 A 0 A_Raise
    Wait
  Deselect:
    TNT1 A 0
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
    TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRailgun",1,"DeselectUpdated")
    TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",10,"Deselect2")
	DRGS JIHGF 1 A_Lower
    Wait
  Deselect2:
	DRGS EDCBA 1 A_Lower
    Wait
  DeselectUpdated:
	TNT1 A 0 
	TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",10,"DeselectUpdated2")
	PDRS JIHGF 1 A_Lower
	Wait
  DeselectUpdated2:
	PDRS EDCBA 1 A_Lower
	Wait
  Fire:
	TNT1 A 0
    TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRailgun",1,"FireUpdated")
    TNT1 A 0 A_JumpIfNoAmmo("Empty")
    TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(12,4,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 A 0 A_FireCustomMissile("DTRail", 0, 0, 0, 5)
   	TNT1 A 0 A_RailAttack(450, 0, 1, "00 FF 85", None, 0, 0, "PlayerRailPuffGreen", 0, 0, 8192, 35, 0.5, 0.5, "DTRailCoreTrail")
	DRGF A 2 Bright A_PlayWeaponSound("weapons/dtrailf")
	DRGF B 2 Bright A_Light2
	TNT1 A 0 A_Light0
	TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",10,"ChargedRecoil")
	DRGF KLMN 2
	DRGF OPQ 1
	DRGG D 39
	DRGG D 1 A_JumpIfNoAmmo("Empty")
    Goto ReadyWait
  ChargedRecoil:
    DRGF CDEF 2
	DRGF GHI 1
	DRGF J 40
    TNT1 A 0 A_JumpIfNoAmmo("Empty")
	Goto ReadyWait
  FireUpdated:
    TNT1 A 0 
    TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",30,1)
	Goto EmptyUpdated
    TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(12,4,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 A 0 A_FireCustomMissile("UpgradedDTRail", 0, 0, 0, 5)
    TNT1 A 0 A_RailAttack(550, 0, 1, "00 FF 85", None, 0, 0, "PlayerUpgradedRailPuffRed", 0, 0, 8192, 35, 0.5, 0.5, "UpgradedDTRailCoreTrail")
	PDRF A 2 Bright A_PlayWeaponSound("UpgradedDemonTechRailgun/Fire")
	PDRF B 2 Bright A_Light2
	TNT1 A 0 A_Light0
	PDRF KLMN 1
    TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(12,4,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 A 0 A_FireCustomMissile("UpgradedDTRail", 0, 0, 0, 5)
    TNT1 A 0 A_RailAttack(550, 0, 1, "00 FF 85", None, 0, 0, "PlayerUpgradedRailPuffRed", 0, 0, 8192, 35, 0.5, 0.5, "UpgradedDTRailCoreTrail")
	PDRF A 2 Bright A_PlayWeaponSound("UpgradedDemonTechRailgun/Fire")
	PDRF B 2 Bright A_Light2
	TNT1 A 0 A_Light0
	PDRF KLMN 1
    TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(12,4,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 A 0 A_FireCustomMissile("UpgradedDTRail", 0, 0, 0, 5)
    TNT1 A 0 A_RailAttack(550, 0, 1, "00 FF 85", None, 0, 0, "PlayerUpgradedRailPuffRed", 0, 0, 8192, 35, 0.5, 0.5, "UpgradedDTRailCoreTrail")
	PDRF A 2 Bright A_PlayWeaponSound("UpgradedDemonTechRailgun/Fire")
	PDRF B 2 Bright A_Light2
	TNT1 A 0 A_Light0
	TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",30,"ChargedRecoilUpdated")
	PDRF KLMN 1
	PDRF OPQ 1
	PDRG D 38
	PDRG D 1 A_JumpIfInventory("DemonAmmoCharge",30,1)
	Goto EmptyUpdated
	PDRG D 1
    Goto ReadyUpdatedWait
  ChargedRecoilUpdated:
    PDRF CDEF 2
	PDRF GHI 1
	PDRF J 40
	Goto ReadyUpdatedWait
  Empty:
	TNT1 A 0
    TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRailgun",1,"EmptyUpdated")
    DRGG D 15 A_PlaySound("weapons/click2")
  AltFire:
	TNT1 A 0
    TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRailgun",1,"AltFireUpdated")
    TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",60,"ReadyWait")
    TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",10,8)
    TNT1 A 0 A_JumpIfInventory("DemonAmmo",10,1)
	Goto ReadyWait
	DRGR WXYZ 2
    TNT1 A 0 A_Jump(256,6)
    TNT1 A 0 A_JumpIfInventory("DemonAmmo",10,1)
	Goto ReadyWait
	DRGR ABCDEF 2
	DRGR G 4 A_PlayWeaponSound("weapons/demontecheject")
	TNT1 A 0 A_PlayWeaponSound("weapons/demontechsteam")
	DRGR HIJ 2
	DRGR K 3
	DRGR L 20 A_FireCustomMissile("DemonTechEmptyMagSpawner", random(-13,-15), 0, 2, 1)
	DRGR MNO 1
	DRGR PQ 2
	DRGR R 4
	DRGR R 6 A_PlayWeaponSound("weapons/demontechload")
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",10,"Reload")
  AltFireEnd:
	DRGR S 4
	DRGR T 3 A_PlayWeaponSound("weapons/demontechclick")
	DRGR U 2
	DRGR V 4
	Goto ReadyWait
  Reload:
    TNT1 A 0 A_TakeInventory("DemonAmmo",10)
	TNT1 A 0 A_GiveInventory("DemonAmmoCharge",10)
	TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",60,"Full")
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",1,"Reload")
	Goto AltFireEnd
  Full:
    TNT1 A 0
	Goto AltFireEnd
  EmptyUpdated:
    PDRG D 15 A_PlaySound("weapons/click2")
  AltFireUpdated:
    TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",120,"ReadyUpdatedWait")
    TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",10,8)
    TNT1 A 0 A_JumpIfInventory("DemonAmmo",10,1)
	Goto ReadyUpdatedWait
	PDRR WXYZ 2
    TNT1 A 0 A_Jump(256,6)
    TNT1 A 0 A_JumpIfInventory("DemonAmmo",10,1)
	Goto ReadyUpdatedWait
	PDRR ABCDEF 2
	PDRR G 4 A_PlayWeaponSound("weapons/demontecheject")
	TNT1 A 0 A_PlayWeaponSound("weapons/demontechsteam")
	PDRR HIJ 2
	PDRR K 3
	PDRR L 20 A_FireCustomMissile("DemonTechEmptyMagSpawner", random(-13,-15), 0, 2, 1)
	PDRR MNO 1
	PDRR PQ 2
	PDRR R 4
	PDRR R 6 A_PlayWeaponSound("weapons/demontechload")
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",10,"ReloadUpdated")
  AltFireUpdatedEnd:
	PDRR S 4
	PDRR T 3 A_PlayWeaponSound("weapons/demontechclick")
	PDRR U 2
	PDRR V 4
	Goto ReadyUpdatedWait
  ReloadUpdated:
    TNT1 A 0 A_TakeInventory("DemonAmmo",10)
	TNT1 A 0 A_GiveInventory("DemonAmmoCharge",10)
	TNT1 A 0 A_JumpIfInventory("DemonAmmoCharge",120,"FullUpdated")
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",1,"ReloadUpdated")
	Goto AltFireUpdatedEnd
  FullUpdated:
    TNT1 A 0
	Goto AltFireUpdatedEnd
  GrenadeCheck:
	TNT1 A 0 
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto ReadyWait
    TNT1 A 0
	Goto ReadyWait
  GrenadeToss:
    TNT1 A 0
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
    TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRailgun",1,"GrenadeTossUpdated")
	TNT1 A 0 A_JumpIfInventory("CellCharge",10,"GrenadeToss2")
	DRGS EDCBA 1
	TNT1 A 4
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	Goto Ready+3
  GrenadeToss2:
	DRGS EDCBA 1
	TNT1 A 6
	HGRN ABC 1
	HGRN D 3
	HGRN EFGHI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	Goto Ready+3
  GrenadeTossUpdated:
    TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("CellCharge",10,"GrenadeTossUpdated2")
	PDRS EDCBA 1
	TNT1 A 4
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	Goto ReadyUpdated+2
  GrenadeTossUpdated2:
	PDRS EDCBA 1
	TNT1 A 6
	HGRN ABC 1
	HGRN D 3
	HGRN EFGHI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	Goto ReadyUpdated+2
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto ReadyWait
    TNT1 A 0
	Goto ReadyWait
  MineToss:
    TNT1 A 0
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
    TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRailgun",1,"MineTossUpdated")
	TNT1 A 0 A_JumpIfInventory("CellCharge",10,"MineToss2")
	DRGS EDCBA 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	Goto Ready+3
  MineToss2:
	DRGS EDCBA 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	Goto Ready+3
  MineTossUpdated:
    TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("CellCharge",10,"MineTossUpdated2")
	PDRS EDCBA 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	Goto ReadyUpdated+2
  MineTossUpdated2:
	PDRS EDCBA 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	Goto ReadyUpdated+2
}
}

ACTOR DemonAmmoCharge : Ammo
{
	Inventory.Amount 0
	Inventory.MaxAmount 60
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 60
	Inventory.Icon "DRGIA0"
	+IGNORESKILL
}

ACTOR DTRail : DarkCyberRail
{
Radius 6
Height 12
Speed 500
Scale 0.25
DamageType "Marine"
Damage (Random(60,80))
SeeSound "weapons/dtrail"
MissileType "DTRailTrail"
MissileHeight 8
Species "Player"
DeathSound "cyberrail/impact"
+RIPPER
+THRUSPECIES
+EXTREMEDEATH
+BLOODLESSIMPACT
+FORCERADIUSDMG
Decal GreenRocketScorch
States
{
  Spawn:
    TNT1 A 1
    Loop
  Death:
	TNT1 A 0
	TNT1 A 0 A_Explode(156,128,0)
	TNT1 A 0 A_SpawnItemEx("BFGShockwave", 0, 0, 0, 0, 0, 0, 0, 128)
    TNT1 AAAA 0 A_CustomMissile("GreenKaboom2", 0, 0, random(0,360), 2, random(0,360))
	TNT1 A 1 A_SpawnItem("RailGunImpactEffectGreen")
	Stop
}
}

ACTOR UpgradedDTRail : DTRail
{
DamageType "Pierce"
Damage (Random(80,120))
MissileType "UpgradedDTRailTrail"
Decal Scorch
+FOILINVUL
States
{
  Death:
	TNT1 A 0
	TNT1 A 0 A_Explode(192,156,0)
	TNT1 A 0 A_SpawnItemEx("BFGShockwaveRed", 0, 0, 0, 0, 0, 0, 0, 128)
    TNT1 AAAA 0 A_CustomMissile("UpgradedDTRailKaboom", 0, 0, random(0,360), 2, random(0,360))	
	TNT1 A 1 A_SpawnItem("RailGunImpactEffectRed")
	Stop
}
}

ACTOR MinigunTechProjectile
{
   Height 4
   Radius 4
   Speed 50
   Damage 12
   Scale 0.06
   PROJECTILE
   +THRUSPECIES
   +FORCERADIUSDMG
   Species "Player"
   DeathSound "weapons/demontechex"
   Decal DTRScorch
   States
   {
   Spawn:
	  TNT1 A 0
	  TNT1 A 0 A_Jump(128,"Spawn2")
   Normal:
   	  TNT1 A 0 A_Jump(128,"NormalFX")
      DB57 A 1 Bright A_SpawnItemEx("DemonTechTrail",Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-20,20),128)
      Loop
   NormalFX:
	  TNT1 A 0 A_SpawnItemEx("DTechLightning",Random(1,-1),Random(1,-1),Random(1,-1),0,0,0,0,128)
      DB57 A 1 Bright A_SpawnItemEx("DemonTechTrail",Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-20,20),128)
	  TNT1 A 0 A_SpawnItemEx("DTechLightning2",Random(1,-1),Random(1,-1),Random(1,-1),0,0,0,0,128)
      DB57 A 1 Bright A_SpawnItemEx("DemonTechTrail",Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-20,20),128)
      Goto Normal
   Spawn2:
	  TNT1 A 0 A_Jump(128,"Spawn2FX")
      DB57 A 1 Bright A_SpawnItemEx("DemonTechTrail2",Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-20,20),128)
      Loop
   Spawn2FX:
	  TNT1 A 0 A_SpawnItemEx("DTechLightning",Random(1,-1),Random(1,-1),Random(1,-1),0,0,0,0,128)
      DB57 A 1 Bright A_SpawnItemEx("DemonTechTrail",Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-20,20),128)
	  TNT1 A 0 A_SpawnItemEx("DTechLightning2",Random(1,-1),Random(1,-1),Random(1,-1),0,0,0,0,128)
      DB57 A 1 Bright A_SpawnItemEx("DemonTechTrail",Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-1,1),Random(-20,20),128)
      Goto Spawn2
   Death:
   	  TNT1 A 0
	  TNT1 A 0 A_SpawnItemEx("GreenParticleSpawnerDT", 0, 0, 0, 0, 0, 0, 0, 128)
	  TNT1 A 0 A_SpawnItemEx("DemonTechEx",0,0,0,0,0,0,0,128,0)
	  TNT1 AAA 0 A_CustomMissile("Kaboom7", 0, 0, random(0,360), 2, random(0,360))
	  TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
	  TNT1 A 1 Bright A_Explode(24,64)
      Stop
	  }
}

ACTOR PlayerRailPuffGreen : BulletPuff
{
DamageType "Marine"
States
{
  Spawn:
	TNT1 A 0
	TNT1 A 1 A_SpawnItem("RailgunImpactEffectGreen")
	Stop
}
}

ACTOR PlayerUpgradedRailPuffRed : PlayerRailPuffGreen
{
DamageType "MarinePierce"
+FOILINVUL
States
{
  Spawn:
	TNT1 A 0
	TNT1 A 1 A_SpawnItem("RailgunImpactEffectRed")
	Stop
}
}

Actor TechVulcan : Weapon
{
  Tag "Eradication Vulcan"
  Weapon.Selectionorder 4050
  Weapon.KickBack 100
  Weapon.AmmoType "EradicationCell"
  Weapon.AmmoGive 80
  Weapon.AmmoUse 1
  Weapon.AmmoType2 "EradicationCell"
  Weapon.AmmoUse2 10
  Weapon.UpSound "vulcan/up"
  Weapon.PreferredSkin "Minigun-Marine"
  Inventory.PickupMessage "\c[m6]Eradication Vulcan"
  Inventory.PickupSound "weapons/demontechload"
  Obituary "%o got plasmaficated rapidly by %k's eradication vulcan"
  Decal DoomImpScorch
  +INVENTORY.UNDROPPABLE
  States
  {
  Spawn:
    VULC Z -1
    Loop
  Ready:
    VULC A 1 A_WeaponReady
    Loop
  Deselect:
    TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	VULC A 0 A_Lower
    VULC A 1 A_Lower
    Loop
  Select:
    VULC A 0 A_Raise
    VULC A 1 A_Raise
    Loop
  Fire:
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlayWeaponSound("plasmaminigun/fire")
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_SpawnItemEx("RedCasing",25,-8,25,Random(2,4),Random(-3,-6),Random(3,6),0)
    VULC A 0 A_FireBullets(4.3,2.6,-1,15,"VulcanPlasmaPuff")
	VULC B 1 Bright Offset(0,36)
	VULC A 1 Offset(0,40)
	VULC A 1 Offset(0,36)
	VULC A 1 Offset(0,32)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlayWeaponSound("plasmaminigun/fire")
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_SpawnItemEx("RedCasing",25,-8,25,Random(2,4),Random(-3,-6),Random(3,6),0)
    VULC A 0 A_FireBullets(4.3,2.6,-1,15,"VulcanPlasmaPuff")
	VULC C 1 Bright Offset(0,36)
	VULC A 1 Offset(0,40)
	VULC A 1 Offset(0,36)
	VULC A 1 Offset(0,32)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlayWeaponSound("plasmaminigun/fire")
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_SpawnItemEx("RedCasing",25,-8,25,Random(2,4),Random(-3,-6),Random(3,6),0)
    VULC A 0 Bright A_FireBullets(4.3,2.6,-1,15,"VulcanPlasmaPuff")
	VULC D 1 Bright Offset(0,36)
	VULC A 1 Offset(0,40)
	VULC A 1 Offset(0,36)
	VULC A 1 Offset(0,32)
	VULC A 1 Bright A_ReFire
    VULC A 4
    VULC A 6 A_ReFire
    Goto Ready
  AltFire:
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlayWeaponSound("vulcan/altfire")
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 AAA 0 A_SpawnItemEx("RedCasing",25,-8,25,Random(2,4),Random(-3,-6),Random(3,6),0)
	VULC E 0 A_FireCustomMissile("VulcanLazer",0,0,-8,8)
	VULC E 0 A_FireCustomMissile("VulcanLazer",0,0,8,8)
    VULC E 0 A_FireCustomMissile("VulcanLazer",0,1,0,8)
    VULC E 2 Bright Offset(0,36)
	VULC A 1 Offset(0,40)
	VULC A 1 Offset(0,44)
	VULC A 1 Offset(0,48)
	VULC A 1 Offset(0,44)
	VULC A 1 Offset(0,40)
	VULC A 1 Offset(0,36)
	VULC A 1 Offset(0,32)
	VULC A 7 Bright
    VULC A 6 A_ReFire
    Goto Ready
  Flash:
    TNT1 A 1 A_Light1
    TNT1 A 1 A_Light2
    TNT1 A 1 A_Light1
    TNT1 A 1 A_Light0
    Stop
  }
}


Actor VulcanPlasmaPuff
{
Radius 6
Height 6
+NOBLOCKMAP
+NOGRAVITY
+ACTIVATEIMPACT
+ACTIVATEPCROSS
+BLOODLESSIMPACT
+NOTELEPORT
+PUFFONACTORS
+ALWAYSPUFF
+MTHRUSPECIES
+NODAMAGETHRUST
+FOILINVUL
Scale 0.5
Renderstyle Add
Alpha 0.75
Decal Bulletchip
DamageType "MarinePierce"
States
{
  Spawn:
    TNT1 A 0
  	TNT1 A 0 A_SpawnItemEx("RedParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
	TNT1 AAA 0 A_CustomMissile("Kaboom10", 0, 0, random(0,360), 2, random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
    RFOG A 3 Bright A_Explode(26,48)
    RFOG BCDEF 3 Bright
    Stop
}
}

Actor VulcanLazer : FastProjectile
{
Projectile
Radius 6
Height 8
Speed 75
Damage 1
Scale 0.45
DamageType "MarinePierce"
RenderStyle Add
DeathSound "monsters/newfireexplode"
Decal DoomImpScorch
MissileType "VulcanLazerEffect"
ReactionTime 35
+RIPPER
+BLOODLESSIMPACT
+MTHRUSPECIES
+NODAMAGETHRUST
+FOILINVUL
States
{
  Spawn:
    TNT1 A 1 A_CountDown
    Loop
  Death:
	TNT1 A 0
  	TNT1 A 0 A_SpawnItemEx("RedParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
	TNT1 AAA 0 A_CustomMissile("Kaboom10", 0, 0, random(0,360), 2, random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
    TNT1 A 25
    Stop
}
}

Actor VulcanLazerEffect
{
  +NOBLOCKMAP
  +NOGRAVITY
  +PAINLESS
  //+NOTIMEFREEZE
  +FORCERADIUSDMG
  +NODAMAGETHRUST
  Scale 0.22
  RenderStyle Add
  DamageType "Marine"
  Radius 1
  Height 2
  States
  {
  Spawn:
    VUEL A 0 A_Explode(4,8)
    VUEL A 1 Bright A_FadeOut(0.3)
    Loop
  }
}

Actor SniperRifle : Weapon
{
Tag "Sniper Rifle"
Weapon.AmmoUse 1
Weapon.AmmoGive 15
Weapon.AmmoGive2 90
Weapon.AmmoType "SniperRifleAmmo"
Weapon.AmmoType2 "BulletMag"
Weapon.PreferredSkin "Sniper-Marine"
Weapon.UpSound "sniper/up"
Inventory.PickupMessage "\c[S7]Sniper Rifle"
Inventory.PickupSound "items/assaultrifle"
Obituary "%o was sniped by %k."
AttackSound "sniper/fire2"
Decal "BulletChip"
-WEAPON.AMMO_CHECKBOTH
+WEAPON.AMMO_OPTIONAL
+WEAPON.ALT_AMMO_OPTIONAL
+NOALERT
+INVENTORY.UNDROPPABLE
Scale 0.6
Decal BulletChip
States
{
  Ready:
  	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
     TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
	 TNT1 A 0 A_JumpIfInventory("InZoom",1,"Ready2")
	 TNT1 A 0 A_ZoomFactor(1.0)
     SNP3 A 1 A_WeaponReady
     Loop
  Ready2:
  	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
     TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
     SNP3 F 0 A_ZoomFactor(3.5)
     SNP3 F 1 A_WeaponReady
     Loop
  Deselect:
   	 TNT1 A 0 A_TakeInventory("InZoom",1)
	 TNT1 A 0 A_TakeInventory("RailgunAction",1)
	 TNT1 A 0 A_ZoomFactor(1.0)
     SNP3 A 1 A_Lower
     Loop
  Select:
    TNT1 A 0
    TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
     SNP3 A 1 A_Raise
     Loop
  Fire:
	 TNT1 A 0 A_JumpIfNoAmmo("Empty")
     TNT1 A 0 A_JumpIfInventory("SniperRifleAmmo",1,1)
     Goto Empty
	 TNT1 A 0 A_AlertMonsters
	 TNT1 A 0 A_JumpIfInventory("InZoom",1,"Fire2")
	 SNP3 B 0 A_SpawnItemEx("RifleCasing",30,3,25,Random(2,4),Random(3,6),Random(3,6),0)
	 TNT1 A 0 A_Recoil(0.48)
     SNP3 B 4 Bright A_FireBullets(3,3,-1,100,"SniperBulletPuff")
     SNP3 B 0 A_GunFlash
	 SNP3 A 1 Offset(0,40)
	 SNP3 A 1 Offset(0,44)
	 SNP3 A 1 Offset(0,48)
	 SNP3 A 1 Offset(0,52)
	 SNP3 A 1 Offset(0,56)
	 SNP3 A 17 Offset(0,60)
	 SNP3 A 1 Offset(0,56)
	 SNP3 A 1 Offset(0,52)
	 SNP3 A 1 Offset(0,48)
	 SNP3 A 1 Offset(0,44)
	 SNP3 A 1 Offset(0,40)
     Goto Ready
  Fire2:
	 SNP3 F 0 A_SpawnItemEx("RifleCasing",30,3,25,Random(2,4),Random(3,6),Random(3,6),0)
	 TNT1 A 0 A_Recoil(0.18)
	 SNP3 F 1 Bright A_FireBullets(1,1,1,125,"SniperBulletPuff")
     SNP3 F 0 A_GunFlash
     SNP3 F 25
     Goto Ready
  Flash:
     TNT1 A 1 Bright A_Light1
     Goto LightDone
     TNT1 A 1 Bright A_Light1
     Goto LightDone
  AltFire:
     TNT1 A 0 A_JumpIfInventory("SniperRifleAmmo",15,"Empty")
	 Goto Loading
  Empty:
     SNP3 A 15 A_PlaySound("weapons/click")
  Loading:
	 TNT1 A 0 A_ZoomFactor(1)
     TNT1 A 0 A_JumpIfInventory("SniperRifleAmmo",15,2)
     TNT1 A 0 A_JumpIfInventory("BulletMag",3,2)
	 TNT1 A 0
	 Goto Ready
	 TNT1 A 0 A_ZoomFactor(1)
	 SNP3 IJK 2
	 SNP3 L 20 A_FireCustomMissile("AREmptyMagSpawner", 0, 0, 0, 1)
	 SNP3 MNOPQR 2
	 SNP3 R 2 A_PlayWeaponSound("weapons/arreload")
	 TNT1 A 0 A_JumpIfInventory("BulletMag",3,"Reload")
  LoadingDone:
	 SNP3 LKJI 2
	 Goto Ready
  Reload:
     TNT1 A 0 A_TakeInventory("BulletMag",3)
	 TNT1 A 0 A_GiveInventory("SniperRifleAmmo",1)
	 TNT1 A 0 A_JumpIfInventory("SniperRifleAmmo",15,"Full")
	 TNT1 A 0 A_JumpIfInventory("BulletMag",3,"Reload")
	 Goto LoadingDone
  Full:
	 SNP3 STUVWXYZ 2
	 SNP3 Y 0 A_PlayWeaponSound("weapons/arclick")
	 SNP3 YXWVUTS 3
	 SNP3 LKJI 2
	 Goto Ready
  Zoom:
     SNP3 C 0
	 SNP3 C 0 A_TakeInventory("RailgunAction",1)
     SNP3 C 0 A_JumpIfInventory("InZoom",1,5)
     SNP3 C 0 A_GiveInventory("InZoom",1)
	 SNP3 CDE 4
     Goto Ready
     SNP3 E 0 A_TakeInventory("InZoom",1)
	 SNP3 EDC 4
     Goto Ready
  GrenadeCheck:
     TNT1 A 0
	 TNT1 A 0 A_ZoomFactor(1)
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	 TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	 Goto Ready
  GrenadeToss:
  	 TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	 SNP3 A 1 Offset(0,30)
	 SNP3 A 1 Offset(0,40)
	 SNP3 A 1 Offset(0,50)
	 SNP3 A 1 Offset(0,60)
	 SNP3 A 1 Offset(0,70)
	 TNT1 A 4 Offset(0,10)
	 HGRN ABC 1
	 HGRN D 2
	 HGRN EFG 1
	 HGRN HI 2
	 TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	 TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	 TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	 HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	 HGRN J 1
	 HGRN KLM 2
	 HGRN NO 1
	 TNT1 A 6
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
     TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	 TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	 TNT1 A 0
	 SNP3 A 1 Offset(0,70)
	 SNP3 A 1 Offset(0,60)
	 SNP3 A 1 Offset(0,50)
	 SNP3 A 1 Offset(0,40)
	 SNP3 A 1 Offset(0,30)
	Goto Ready
  MineCheck:
     TNT1 A 0
	 TNT1 A 0 A_ZoomFactor(1)
	 TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	 TNT1 A 0 A_TakeInventory("MineAction",1)
	 Goto Ready
  MineToss:
  	 TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	 SNP3 A 1 Offset(0,30)
	 SNP3 A 1 Offset(0,40)
	 SNP3 A 1 Offset(0,50)
	 SNP3 A 1 Offset(0,60)
	 SNP3 A 1 Offset(0,70)
	 TNT1 A 8 Offset(0,10)
	 TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	 MINE ABCDEF 1
	 TNT1 A 0 A_TakeInventory("MineAmmo",1)
	 MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	 MINE HI 1
	 MINE JK 2
	 TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
     TNT1 A 0 A_TakeInventory("Land Mine",1)
	 TNT1 A 0 A_TakeInventory("MineAction",1)
	 TNT1 A 0
	 TNT1 A 5
	 SNP3 A 1 Offset(0,70)
	 SNP3 A 1 Offset(0,60)
	 SNP3 A 1 Offset(0,50)
	 SNP3 A 1 Offset(0,40)
	 SNP3 A 1 Offset(0,30)
	 Goto Ready
   Spawn:
     SNP2 Z -1
     Stop
   }
}

ACTOR SniperRifleAmmo : Ammo
{
   Inventory.Amount 0
   Inventory.MaxAmount 15
   Ammo.BackpackAmount 0
   Ammo.BackpackMaxAmount 15
   Inventory.Icon "SNP2Z0"
}

Actor SniperBulletPuff : MarineBulletPuff{+NOEXTREMEDEATH}
ACTOR InZoom : Inventory{Inventory.MaxAmount 1}

Actor D-BFGType : Inventory{Inventory.MaxAmount 1}

Actor D-BFGCooldown : Ammo
{
	Inventory.Amount 0
	Inventory.MaxAmount 90
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 90
	Inventory.Icon "BFG3A0"
	+IGNORESKILL
}

Actor "D-BFG" : Weapon
{
  Weapon.Selectionorder 2820
  Weapon.AmmoUse 1
  Weapon.AmmoGive 40
  Weapon.AmmoType "DCell"
  //Weapon.AmmoUse2 20
  Weapon.AmmoType2 "D-BFGCooldown"
  Weapon.Kickback 100
  Inventory.PickupSound "misc/w_pkup2"
  Inventory.Pickupmessage "\cnD-BFG"
  Weapon.PreferredSkin "DBFG-Marine"
  Obituary "%o was blasted by %k's D-BFG"
  Tag "D-BFG"
  +Weapon.NoAutoFire
  Decal DBFGLightning
  AttackSound ""
  Weapon.UpSound "Weapons/dbfgup"
  Weapon.SlotNumber 7
  Weapon.SlotPriority 1
  +INVENTORY.UNDROPPABLE
  States
  {
  Spawn:
    BFG3 A -1
    Stop
  Ready:
    TNT1 A 0
    TNT1 A 0 A_PlaySound("Weapons/dbfgready",CHAN_AUTO,0.5)
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
    BG3G A 3 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
    BG3G B 3 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
    BG3G C 3 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
    BG3G D 3 A_WeaponReady
    Loop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
    BG3G I 1 A_Raise
    BG3G I 0 A_Raise
    Loop
  Deselect:
    BG3G I 1 A_Lower
    BG3G I 0 A_Lower
    Loop
  GrenadeCheck:
	TNT1 A 0
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderD-BFG",1,3)
	TNT1 A 0 A_Print("Requires Weapon Upgrade!")
	TNT1 A 0 A_PlaySound("weapon/off")
	Goto DryAltFire3
	BG3G A 1
	BG3G A 0 A_JumpIfInventory("D-BFGType",1,4)
	BG3G A 0 A_Print("Altfire: Annihilation Mod")
	BG3G A 0 A_PlayWeaponSound("Weapon/Mod5")
	BG3G A 15 A_GiveInventory("D-BFGType",1)
	Goto Ready
	BG3G A 0 A_Print("Altfire: Assault Mod")
	BG3G A 0 A_PlayWeaponSound("Weapon/Mod6")
	BG3G A 15 A_TakeInventory("D-BFGType",1)
	Goto Ready
  Fire:
    BG3G A 0 Bright A_JumpIfInventory("DCell",1,1)
    Goto DryFire
    TNT1 A 0 A_PlaySound("Weapons/dbfgcharge2", CHAN_WEAPON)
    BG3G JKL 4 Bright
	BG3G JKL 3 Bright
	BG3G JKLMNM 2 Bright
    Goto Hold
  Hold:
    BG3G J 0 Bright A_JumpIfInventory("DCell",1,1)
    Goto DryFire
    BG3G JKL 1 Bright A_GunFlash
    BG3G E 1 Bright A_GunFlash
    TNT1 A 0 A_SetBlend("Blue", 0.02, 3)
    BG3G F 1 Bright A_FireCustomMissile("PlayerT3DBFG10kShot",Random(100,-100)/100.00,0,0,0,0,Random(100,-100)/100.00)
	TNT1 A 0 A_TakeInventory("DCell",1)
    TNT1 A 0 A_PlaySound("Weapons/dbfgfire2", CHAN_BODY)
    BG3G G 2 Bright A_Recoil(3)
    BG3G H 2 Bright A_ReFire
    BG3G I 30 A_PlaySound("Weapons/dbfgcooldown2", CHAN_WEAPON)
    Goto Ready
  AltFire:
	BG3G A 0 A_JumpIfInventory("D-BFGType",1,"AnnihilationFire")
    BG3G A 0 A_JumpIfInventory("DCell",20,1)
    Goto DryAltFire
    TNT1 A 0 A_PlaySound("Weapons/dbfgcharge", CHAN_WEAPON)
    BG3G JKLJKL 3 Bright
    BG3G MNMJKLJKLJKLJKLMNMJKLJKLJKLMNMJKLJKLJKL 2 Bright
    Goto AltHold
  AltHold:
    BG3G MNMJKLMNM 2 Bright
    BG3G JKLMNMJKLMNME 1 Bright
    TNT1 A 0 A_SetBlend("Blue",0.02,3)
    TNT1 A 0 A_PlaySound("Weapons/dbfgfire",CHAN_AUTO)
	TNT1 A 0 A_TakeInventory("DCell",20)
	BG3G F 2 A_FireCustomMissile("PlayerT3DBFGBall",0,FALSE)
    BG3G G 2 Bright A_Recoil(20)
    BG3G H 2 Bright //A_ReFire
    BG3G I 50 A_PlaySound("Weapons/dbfgcooldown")
    Goto Ready
  AnnihilationFire:
    BG3G A 0 Bright A_JumpIfInventory("DCell",200,1)
    Goto DryAltFire2
	HG2G A 0 A_JumpIfInventory("D-BFGCooldown",1,2) 
	HG2G A 0 A_Jump(256,2)
	HG2G A 0 A_Print("The Annihilation Fire is in cooldown!")
    Goto DryAltFire3
    TNT1 A 0 A_PlaySound("Weapons/dbfgcharge", CHAN_WEAPON)
    BG3G JKLJKL 3 Bright
    BG3G MNMJKLJKLJKLJKLMNMJKLJKLJKLMNMJKLJKLJKL 2 Bright
    BG3G MNMJKLMNM 2 Bright
    BG3G JKLMNMJKLMNME 1 Bright
    TNT1 A 0 A_SetBlend("Blue",0.02,3)
    TNT1 A 0 A_PlaySound("Weapons/dbfgfire",CHAN_AUTO)
	TNT1 A 0 A_TakeInventory("DCell",200)
    TNT1 A 0 A_GiveInventory("D-BFGCooldown",90)
	BG3G F 2 A_FireCustomMissile("DProtoBFGUltraProjectile",0,FALSE)
    BG3G G 2 Bright A_Recoil(35)
    BG3G H 2 Bright
    BG3G I 50 A_PlaySound("Weapons/dbfgcooldown")
    Goto Ready
  DryFire:
    BG3G A 0 A_Print("No ammunition!")
    BG3G A 10 A_PlaySound("weapon/off")
    Goto Ready
  DryAltFire:
    BG3G A 0 A_Print("20 ammunition for secondary fire!")
    BG3G A 10 A_PlaySound("weapon/off")
    Goto Ready
  DryAltFire2:
    BG3G A 0 A_Print("200 ammunition for annihilation fire!")
    BG3G A 10 A_PlaySound("weapon/off")
    Goto Ready
  DryAltFire3:
    BG3G A 10 A_PlaySound("weapon/off")
    Goto Ready
  }
}

ACTOR DCell : Ammo
{
Inventory.Amount 10
Inventory.MaxAmount 50
Ammo.BackpackAmount 2
Ammo.BackpackMaxAmount 100
Inventory.PickupMessage "Picked up an D-Cell."
Inventory.PickupSound "items/cell"
Inventory.Icon "BG3CA0"
States
{
  Spawn:
	BG3C AB 3
	Loop
}
}

ACTOR DCellPack : DCell
{
Inventory.PickupMessage "Picked up an D-Cellpack."
Inventory.PickupSound "items/cellpack"
Inventory.Amount 50
States
{
  Spawn:
	BG3B AB 3
	Loop
}
}

Actor PlayerT3DBFG10kShot : FastProjectile
{
Height 1
Radius 1
Speed 200
Projectile
Renderstyle Add
Alpha 0.75
DeathSound "Weapons/dbfgexplode2"
Damage 80
DamageType "Pierce"
+MTHRUSPECIES
+NOEXTREMEDEATH
+ACTIVATEPCROSS
+FORCEXYBILLBOARD
+FORCERADIUSDMG
+FOILINVUL
+SKYEXPLODE
Decal DBFGLightning
States
{
  Spawn:
    TRC5 A 1 Bright
    Loop
  Death:
  XDeath:
    TNT1 A 0 A_SpawnItemEx("T3DBFG10kDeathParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
    TNT1 A 0 A_SpawnItemEx("T3DBFGShotShockwave", 0, 0, 0, 0, 0, 0, 0, 128)
	TNT1 A 0 A_Explode(192,128)
    BG3X ABCDEF 3 Bright A_Explode(42,128,0)
    Stop
}
}

Actor MarineT3DBFG10kShot : PlayerT3DBFG10kShot {DamageType "MarinePierce"}

Actor PlayerT3DBFGBall : BFGBall
{
Alpha 0.75
Scale 1.5
Speed 26
Radius 20
Height 40
Damage 384
Decal "DBFGLightning"
DeathSound "Weapons/bfg27ex"
DamageType "Pierce"
SeeSound ""
+MTHRUSPECIES
+FORCERADIUSDMG
+NODAMAGETHRUST
+SKYEXPLODE
+FOILINVUL
Species "Player"
Decal DBFGLightning
States
{
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_Jump(128,"SpawnSFX")
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 A_PlaySound("Weapons/dbfgball", CHAN_VOICE, 1.0, True)
	TNT1 A 0 A_Jump(128,2)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBoltSmlExpB",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_Jump(256,1)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBoltSmlExpC",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_Explode(128,256,0)
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGShockAttack",0,0,0,0,0,0,0,SXF_SETMASTER)
	D3PP A 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGShockAttack",0,0,0,0,0,0,0,SXF_SETMASTER)
	D3PP A 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_Explode(128,256,0)
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGShockAttack",0,0,0,0,0,0,0,SXF_SETMASTER)
	D3PP B 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGShockAttack",0,0,0,0,0,0,0,SXF_SETMASTER)
	D3PP B 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_Explode(128,256,0)
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGShockAttack",0,0,0,0,0,0,0,SXF_SETMASTER)
	D3PP C 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGShockAttack",0,0,0,0,0,0,0,SXF_SETMASTER)
	D3PP C 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	Loop
  "SpawnSFX":
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 A_PlaySound("Weapons/dbfgball", CHAN_VOICE, 1.0, True)
	TNT1 A 0 A_Jump(128,2)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBoltSmlExpB",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_Jump(256,1)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBoltSmlExpC",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_Explode(128,256,0)
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGShockAttack",0,0,0,0,0,0,0,SXF_SETMASTER)
	D3PP A 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallLightningBolt",Random(6,-6),Random(6,-6),Random(16,8),0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGShockAttack",0,0,0,0,0,0,0,SXF_SETMASTER)
	D3PP A 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallLightningBolt",Random(6,-6),Random(6,-6),Random(16,8),0,0,0,0,128)
	TNT1 A 0 A_Explode(128,256,0)
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGShockAttack",0,0,0,0,0,0,0,SXF_SETMASTER)
	D3PP B 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallLightningBolt",Random(6,-6),Random(6,-6),Random(16,8),0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGShockAttack",0,0,0,0,0,0,0,SXF_SETMASTER)
	D3PP B 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallLightningBolt",Random(6,-6),Random(6,-6),Random(16,8),0,0,0,0,128)
	TNT1 A 0 A_Explode(128,256,0)
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGShockAttack",0,0,0,0,0,0,0,SXF_SETMASTER)
	D3PP C 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallLightningBolt",Random(6,-6),Random(6,-6),Random(16,8),0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGShockAttack",0,0,0,0,0,0,0,SXF_SETMASTER)
	D3PP C 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallLightningBolt",Random(6,-6),Random(6,-6),Random(16,8),0,0,0,0,128)
	Loop
  Death:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGBoltExp")
	TNT1 A 0 A_Quake(4,70,0,4096,None)
	TNT1 AAAAAAAA 2 Bright A_Explode(384,256,0)
	TNT1 AAAAAAAA 2 Bright A_Explode(384,384,0)
	TNT1 A 0 A_BFGSpray("PlayerT3DBFGExtra",40,30)
	TNT1 AAAAAAAA 2 Bright A_Explode(384,512,0)
	TNT1 AAAAAAAA 2 Bright A_Explode(384,684,0) 
	Stop
}
}

Actor MarineT3DBFGBall : PlayerT3DBFGBall
{
Damagetype "MarinePierce"
States
{
  Death:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("MarineT3DBFGBoltExp")
	TNT1 A 0 A_Quake(4,70,0,4096,None)
	TNT1 AAAAAAAA 2 Bright A_Explode(384,256,0)
	TNT1 AAAAAAAA 2 Bright A_Explode(384,384,0)
	//TNT1 A 0 A_BFGSpray("PlayerT3DBFGExtra",40,30)
	TNT1 AAAAAAAA 2 Bright A_Explode(384,512,0)
	TNT1 AAAAAAAA 2 Bright A_Explode(384,684,0) 
	Stop
}
}

Actor Proto-D-BFGCooldown : Ammo
{
	Inventory.Amount 0
	Inventory.MaxAmount 60
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 60
	Inventory.Icon "WAFGZ0"
	+IGNORESKILL
}

Actor Proto-D-BFG : Weapon
{
  Weapon.PreferredSkin "BFG9500-Marine"
  Weapon.SelectionOrder 2800
  Weapon.AmmoUse 1
  Weapon.AmmoGive 25
  Weapon.AmmoType "DCell"
  Weapon.AmmoType2 "Proto-D-BFGCooldown"
  Weapon.UpSound "dprotobfg/up"
  Inventory.PickupSound "weapons/bfgpickup"
  Inventory.PickupMessage "\cnProto-D-BFG!"
  +INVENTORY.UNDROPPABLE
  +WEAPON.NOAUTOFIRE
  Scale 1.25
  States
  {
  Ready:
	WAFG BCD 1 A_WeaponReady
	Loop
  Deselect:
	WAFG A 1 A_Lower
	Loop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
	WAFG A 1 A_Raise
	Loop
  Fire:
    WAFG A 0 
    WAFG A 0 A_JumpIfInventory("DCell",25,2)
    WAFG A 0 A_Print("The Primary Fire requires 25 D-Cells!")
    Goto DryFire
	WAFG A 0 A_GunFlash
	WAFG A 0 A_PlayWeaponSound("cydes/mischrg")
	WAFG GHIHGHIHGH 2 Bright
	WAFG IHGHIHGHIH 2 Bright
	WAFG GHIHG 2 Bright
	WAFG E 9 Bright
	WAFG F 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_TakeInventory("DCell",25)
	TNT1 A 0 A_PlayWeaponSound("lrball3/shot")
	WAFG F 0 A_GunFlash
	WAFG FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF 1 Bright A_FireCustomMissile("DProtoBFGProjectile",random(-8,8),FALSE,random(-5,5),random(-5,5),0,random(-5,5))
	WAFG A 0 A_Light0
	WAFG A 0 Radius_Quake(3,10,0,1,0)
	WAFG A 0 A_PlaySound("weapons/dtech10ksteam")
	WAFG AAAAAAAAAAAA 1 A_FireCustomMissile("DTech10KSteam",-58+Random(-4,4),0,0,0)
	WAFG A 20
	WAFG A 3 A_Refire
	Goto Ready
  AltFire:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderProto-D-BFG",1,2)
	TNT1 A 0 A_Print("Requires Weapon Upgrade!")
	Goto DryFire
    TNT1 A 0 A_JumpIfInventory("DCell",300,2)
	TNT1 A 0 A_Print("The Secondary Fire requires 300 D-Cells!")
    Goto DryFire
	TNT1 A 0 A_JumpIfInventory("Proto-D-BFGCooldown",1,2) 
	TNT1 A 0 A_Jump(256,2)
	TNT1 A 0 A_Print("The Secondary Fire is in cooldown!")
    Goto DryFire
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlayWeaponSound("cydes/mischrg")
	WAFG GHIHGHIHGH 2 Bright
	WAFG IHGHIHGHIH 2 Bright
	WAFG GHIHG 2 Bright
	WAFG E 9 Bright
	WAFG F 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_TakeInventory("DCell",300)
	TNT1 A 0 A_PlayWeaponSound("lrball3/shot")
    TNT1 A 0 A_GiveInventory("Proto-D-BFGCooldown",60)
	WAFG F 6 Bright A_FireCustomMissile("Proto-D-BFGBall2",0,FALSE)
	TNT1 A 0 A_Light0
	TNT1 A 0 Radius_Quake(3,10,0,1,0)
	TNT1 A 0 A_PlaySound("weapons/dtech10ksteam")
	WAFG AAAAAAAAAAAA 1 A_FireCustomMissile("DTech10KSteam",-58+Random(-4,4),0,0,0)
	WAFG A 20
	WAFG A 3 A_Refire
	Goto Ready
  Spawn:
	WAFG Z -1
	Stop
  DryFire:
    WAFG A 10 A_PlaySound("weapon/off")
    Goto Ready
}
}

ACTOR DProtoBFGProjectile
{
Radius 4
Height 4
Speed 35
Projectile
+DONTREFLECT
+SEEKERMISSILE
+HEXENBOUNCE
+MTHRUSPECIES
+NOEXTREMEDEATH
+FORCEXYBILLBOARD
+FOILINVUL
+CANBOUNCEWATER
+SKYEXPLODE
+FORCERADIUSDMG
Damage 50
DamageType "Kaboom"
Renderstyle Add
Alpha 0.75
DeathSound "Weapons/dbfgexplode2"
BounceCount 6
BounceFactor 1.0
WallBounceFactor 1.0
ReactionTime 160
Decal DBFGLightning
States
{
  Spawn:
    SSKB A 0 A_Countdown
    SSKB A 0 A_SeekerMissile(30,45,SMF_LOOK)
    SSKB A 3 Bright A_SpawnItemEx("T3DBFGBallParticleTrail",0,0,0,0)
    Loop
  Death:
  XDeath:
    TNT1 A 0 A_SpawnItemEx("T3DBFG10kDeathParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
    TNT1 A 0 A_SpawnItemEx("T3DBFGShotShockwave", 0, 0, 0, 0, 0, 0, 0, 128)
    BG3X ABCDEF 3 Bright A_Explode(128,148)
    Stop
}
}

ACTOR DProtoBFGProjectileIlding : DProtoBFGProjectile
{
BounceCount 16
ReactionTime 108
DamageType "MarineKaboom"
var int user_delay;
+SEEKERMISSILE
States
{
  Spawn:
    TNT1 A 0 
	TNT1 A 0 A_JumpIf(user_delay >= 35,"Fly")
	TNT1 A 0 A_SetUserVar("user_delay",user_delay+1)
    TNT1 A 0 A_Countdown
    TNT1 A 0 A_ChangeVelocity(frandom(-4,4),frandom(-4,4),frandom(-2,2),0)
    SSKB A 4 Bright A_SpawnItemEx("T3DBFGBallParticleTrail",0,0,0,0)
    Loop
  Fly:
    TNT1 A 0 A_Countdown
    TNT1 A 0 A_SeekerMissile(30,45,SMF_LOOK)
    SSKB A 4 Bright A_SpawnItemEx("T3DBFGBallParticleTrail",0,0,0,0)
    Loop
}
}

ACTOR DProtoBFGUltraProjectile : DProtoBFGProjectile
{
Radius 20
Height 20
Speed 20
Scale 5.0
-SEEKERMISSILE
-HEXENBOUNCE
+NODAMAGETHRUST
Damage 1000
DamageType "Kaboom"
DeathSound "Weapons/dbfgexplode2"
States
{
  Spawn:
	TNT1 A 0 
	TNT1 A 0 A_Explode(64,512,0)
    SSKB A 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",0,random(-64,64),random(-64,64),0)
    Loop
  Death:
  XDeath:	
	TNT1 A 0
	TNT1 A 0 A_PlaySound("dprotobfg/hit",1,1.0,0,ATTN_NONE)
	TNT1 A 0 A_Quake(4,156,0,4000,0)
	TNT1 A 0 A_SetScale(7.0,7.0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 AAAAAAA 0 A_CustomMissile("DProtoBFGProjectileIlding",24,0,random(0,359),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-40,40))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 AAAAAAA 0 A_CustomMissile("DProtoBFGProjectileIlding",24,0,random(0,359),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-40,40))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 AAAAAAA 0 A_CustomMissile("DProtoBFGProjectileIlding",24,0,random(0,359),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-40,40))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 AAAAAAA 0 A_CustomMissile("DProtoBFGProjectileIlding",24,0,random(0,359),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-40,40))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 AAAAAAA 0 A_CustomMissile("DProtoBFGProjectileIlding",24,0,random(0,359),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-40,40))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 AAAAAAA 0 A_CustomMissile("DProtoBFGProjectileIlding",24,0,random(0,359),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-40,40))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 AAAAAAA 0 A_CustomMissile("DProtoBFGProjectileIlding",24,0,random(0,359),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-40,40))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 A 0 A_SpawnItemEx("MarineT3DBFGBoltExp",random(-64,64),random(-64,64))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 A 0 A_SpawnItemEx("MarineT3DBFGBoltExp",random(-64,64),random(-64,64))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 A 0 A_SpawnItemEx("MarineT3DBFGBoltExp",random(-64,64),random(-64,64))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 A 0 A_SpawnItemEx("MarineT3DBFGBoltExp",random(-64,64),random(-64,64))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 A 0 A_SpawnItemEx("MarineT3DBFGBoltExp",random(-64,64),random(-64,64))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 A 0 A_SpawnItemEx("MarineT3DBFGBoltExp",random(-64,64),random(-64,64))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 A 0 A_SpawnItemEx("MarineT3DBFGBoltExp",random(-64,64),random(-64,64))
	B3FL ABCABC 3 Bright A_SpawnItemEx("T3DBFGBallUltraParticleTrail",random(-64,64),random(-64,64),random(-64,64),0)
    TNT1 A 0 A_Explode(768,1159)
	TNT1 A 0 A_SetScale(10.0,10.0)
	TNT1 A 0 A_PlaySound("dprotobfg/explode",1,1.0,0,ATTN_NONE)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBoltHugeExpB",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBoltHugeExpC",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 AAAAAA 0 A_CustomMissile("PlayerT3DBFGBallIlding",24,0,random(0,359),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-40,40))
	TNT1 A 0 A_SpawnItemEx("MarineT3DBFGBoltExp")
    BG3X ABCDEF 8 Bright A_Explode(1024,2048)
    Stop
}
}

Actor PlayerT3DBFGBallIlding : MarineT3DBFGBall
{
+HEXENBOUNCE
+CANBOUNCEWATER
+SKYEXPLODE
+SEEKERMISSILE
BounceCount 16
ReactionTime 72
DamageType "Kaboom"
var int user_delay;
States
{
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_JumpIf(user_delay >= 24,"Fly")
	TNT1 A 0 A_SetUserVar("user_delay",user_delay+1)
	TNT1 A 0 A_PlaySound("Weapons/dbfgball", CHAN_VOICE, 1.0, True)
	TNT1 A 0 A_Jump(128, 2)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBoltSmlExpB",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_Jump(256, 1)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBoltSmlExpC",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_Explode(128, 256, 0, false, 64)
	TNT1 A 0 A_Countdown
	TNT1 A 0 A_ChangeVelocity(frandom(-4,4),frandom(-4,4),frandom(-2,2),0) 
	D3PP A 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_ChangeVelocity(frandom(-4,4),frandom(-4,4),frandom(-2,2),0)
	D3PP A 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_Explode(128, 256, 0, false, 64)
	TNT1 A 0 A_ChangeVelocity(frandom(-4,4),frandom(-4,4),frandom(-2,2),0)
	D3PP B 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_ChangeVelocity(frandom(-4,4),frandom(-4,4),frandom(-2,2),0)
	D3PP B 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_Explode(128, 256, 0, false, 64)
	TNT1 A 0 A_ChangeVelocity(frandom(-4,4),frandom(-4,4),frandom(-2,2),0)
	D3PP C 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_ChangeVelocity(frandom(-4,4),frandom(-4,4),frandom(-2,2),0)
	D3PP C 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	Loop
  Fly:
	TNT1 A 0 A_PlaySound("Weapons/dbfgball", CHAN_VOICE, 1.0, True)
	TNT1 A 0 A_Jump(128, 2)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBoltSmlExpB",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_Jump(256, 1)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBoltSmlExpC",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_Explode(128, 256, 0, false, 64)
	TNT1 A 0 A_Countdown
	TNT1 A 0 A_SeekerMissile(30,45,SMF_LOOK)
	D3PP A 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_SeekerMissile(30,45,SMF_LOOK)
	D3PP A 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_Explode(128, 256, 0, false, 64)
	TNT1 A 0 A_SeekerMissile(30,45,SMF_LOOK)
	D3PP B 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_SeekerMissile(30,45,SMF_LOOK)
	D3PP B 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_Explode(128, 256, 0, false, 64)
	TNT1 A 0 A_SeekerMissile(30,45,SMF_LOOK)
	D3PP C 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_SeekerMissile(30,45,SMF_LOOK)
	D3PP C 1 Bright A_SpawnItemEx("T3DBFGBallTrail",0,random(2,-2),random(2,-2),0,0,0,0,128,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticle",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallParticleFloater",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	Loop
}
}

Actor Proto-D-BFGBall2
{
Radius 8
Height 8
Speed 110
Damage 100
Scale 3.5
Projectile
+RANDOMIZE
+EXTREMEDEATH
+FORCERADIUSDMG
+SEEKERMISSILE
+HEXENBOUNCE
+USEBOUNCESTATE
+BOUNCEONACTORS
+CANBOUNCEWATER
+NODAMAGETHRUST
+SKYEXPLODE
+MTHRUSPECIES
+FOILINVUL
SeeSound ""
DeathSound "lrball3/exp"
SeeSound "MMBurst"
DamageType "MarinePierce"
RenderStyle Add
ReactionTime 840
BounceFactor 1.0
WallBounceFactor 1.0
BounceCount 256
States
{
  Spawn:
	SSKB A 0 
	SSKB A 0 A_CountDown
	SSKB A 0 A_SeekerMissile(350,45,SMF_LOOK,256,25)
	SSKB A 0 A_Jump(225,5)
	SSKB A 0 A_Explode(384,384,0)
	SSKB A 0 A_PlaySound("Weapons/dbfgexplode")
    SSKB A 0 A_SpawnItemEx("T3DBFGBoltLrgExpB",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359),SXF_TRANSFERPITCH)
    SSKB A 0 A_SpawnItemEx("T3DBFGBoltLrgExpC",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359),SXF_TRANSFERPITCH)
	SSKB A 0 A_Explode(138,192,0)
    SSKB A 1 Bright A_SpawnItemEx("Proto-D-BFGBall2Trail",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
    Loop
  Death:
    TNT1 A 0 
    TNT1 A 0 A_Explode(128,128,0)
	TNT1 A 0 A_Explode(256,256,0)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallExp")
	TNT1 A 0 A_SpawnItemEx("PlayerT3DBFGBoltExpImpact")
	TNT1 A 0 A_SpawnItemEx("T3DBFGBallShockwaveLrg", 0, 0, 15, 0, 0, 0, 0, 128)
	TNT1 A 0 A_SpawnItemEx("T3DBFGBoltLrgExpC",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 A_SpawnItemEx("T3DBFGBoltExtLrgExpB",random(1,-1),frandom(1,-1),frandom(1,-1),frandom(1,1),frandom(1,1),frandom(1,-1),random(0,359))
	TNT1 A 0 Radius_Quake(3,35,0,10,0)
	TNT1 A 0 Radius_Quake(20,12,0,12,0)
	SSKB A 8 Bright
    Stop
}
}

ACTOR TechErasus : Weapon
{
	Tag "Erasus"
	Weapon.AmmoUse 1
	Weapon.AmmoUse2 1
	Weapon.AmmoType "EradicationCell"
	Weapon.AmmoType2 "EradicationCell"
	Weapon.AmmoGive 80
    Weapon.PreferredSkin "Railgun-Marine"
	Weapon.UpSound "erasus/up"
	Inventory.PickupMessage "\c[m6]Erasus"
	Inventory.PickupSound "weapons/demontechload"
	Decal DoomImpScorch
	Scale 0.9
	+INVENTORY.UNDROPPABLE
	States
	{
	Ready:
		ERGG A 1 A_WeaponReady
		Loop
	Deselect:
		ERGG A 1 A_Lower
		Loop
	Select:
		ERGG A 1 A_Raise
		Loop
	Fire:
		ERGL A 0 A_PlayWeaponSound("erasus/load")
		ERGL A 0 A_Quake(2,24,0,32,"none")
		ERGL A 0 A_SetBlend("Red",0.1,22)
	Hold:
		ERGL ABCDEFGHIJK 4
		ERGG B 3 A_Refire
		ERGL A 0 A_Quake(3,25,0,128,"none")
		ERGL A 0 A_PlaySound("erasus/fire")
		ERGL A 0 A_AlertMonsters
		ERGL A 0 A_Recoil(6)
		ERGL A 0 A_GunFlash
		ERGL A 0 A_FireCustomMissile("ErasusProj",0,1,4,-5)
		ERGF A 1 Bright Offset(4,36) A_ZoomFactor(0.995)
		ERGL B 0 A_FireCustomMissile("ErasusProj",0,1,4,-5)
		ERGF B 1 Bright Offset(8,40) A_ZoomFactor(0.98)
		ERGL C 0 A_FireCustomMissile("ErasusProj",0,1,4,-5)
		ERGF C 1 Bright Offset(12,44) A_ZoomFactor(0.97)
		ERGL D 0 A_FireCustomMissile("ErasusProj",0,1,4,-5)
		ERGF D 1 Bright Offset(15,47) A_ZoomFactor(0.965)
		ERGL D 0 A_FireCustomMissile("ErasusProj",0,1,4,-5)
		ERGF D 1 Bright Offset(18,50) A_ZoomFactor(0.96)
		ERGL E 0 A_FireCustomMissile("ErasusProj",0,1,4,-5)
		ERGF E 1 Bright Offset(20,51) A_ZoomFactor(0.97)
		ERGL E 0 A_FireCustomMissile("ErasusProj",0,1,4,-5)
		ERGF E 1 Bright Offset(21,52) A_ZoomFactor(0.98)
		ERGL F 0 A_FireCustomMissile("ErasusProj",0,1,4,-5)
		ERGF F 1 Bright Offset(22,53) A_ZoomFactor(0.985)
		ERGF F 1 Offset(23,54) A_ZoomFactor(0.99)
		ERGF G 1 A_ZoomFactor(0.995)
		ERGF G 1 A_ZoomFactor(1)
		ERGF H 6
		ERGF I 4
		ERGF I 1 Offset(22,53)
		ERGF I 1 Offset(21,52)
		ERGF J 1 Offset(20,51)
		ERGF J 1 Offset(19,50)
		ERGF K 1 Offset(17,48)
		ERGF K 1 Offset(15,46)
		ERGF L 1 Offset(13,44)
		ERGF L 1 Offset(10,41)
		ERGF M 1 Offset(8,39)
		ERGF M 1 Offset(6,37)
		ERGF N 1 Offset(4,35)
		ERGF N 1 Offset(2,33)
		Goto Ready
	AltFire:
		ERGL A 0 A_PlayWeaponSound("erasus/load")
		ERGL A 0 A_Quake(2,24,0,32,"none")
		ERGL A 0 A_SetBlend("Red",0.1,22)
		ERGL ABCDEFGHIJK 4
	AltHold:
	    ERGL A 0 A_PlayWeaponSound("drone/fire")
		ERGF A 1 Bright Offset(4,36) A_FireCustomMissile("ErasusSmallProj",0,1,9,9)
		ERGF B 1 Bright Offset(8,40) A_FireCustomMissile("ErasusSmallProj",0,0,9,9)
		ERGF C 1 Bright Offset(12,44) A_FireCustomMissile("ErasusSmallProj",0,0,9,9)
		ERGF B 1 Bright Offset(8,40) A_FireCustomMissile("ErasusSmallProj",0,0,9,9)
		ERGF A 1 Bright Offset(4,36) A_FireCustomMissile("ErasusSmallProj",0,0,9,9)
		ERGF D 2 A_Refire
		ERGF D 1 Offset(15,47)
		ERGF D 1 Offset(18,50) A_ZoomFactor(0.96)
		ERGF E 1 Offset(20,51) A_ZoomFactor(0.97)
		ERGF E 1 Offset(21,52) A_ZoomFactor(0.98)
		ERGF F 1 Offset(22,53) A_ZoomFactor(0.985)
		ERGF F 1 Offset(23,54) A_ZoomFactor(0.99)
		ERGF G 1 A_ZoomFactor(0.995)
		ERGF G 1 A_ZoomFactor(1)
		ERGF H 6
		ERGF I 4
		ERGF I 1 Offset(22,53)
		ERGF I 1 Offset(21,52)
		ERGF J 1 Offset(20,51)
		ERGF J 1 Offset(19,50)
		ERGF K 1 Offset(17,48)
		ERGF K 1 Offset(15,46)
		ERGF L 1 Offset(13,44)
		ERGF L 1 Offset(10,41)
		ERGF M 1 Offset(8,39)
		ERGF M 1 Offset(6,37)
		ERGF N 1 Offset(4,35)
		ERGF N 1 Offset(2,33)
		Goto Ready
	Flash:
		TNT1 A 3 A_Light2
		TNT1 A 3 A_Light1
		TNT1 A 1 A_Light0
		Stop
	Spawn:
		ERGG Z -1
		Stop
	}
}

ACTOR ErasusProj : FastProjectile
{
Speed 350
Radius 17
Height 10
Damage 14//75
Renderstyle Add
PROJECTILE
-CANNOTPUSH
+NODAMAGETHRUST
+EXTREMEDEATH
+MTHRUSPECIES
+FORCERADIUSDMG
+FOILINVUL
DamageType "MarinePierce"
DeathSound "weapons/StachanovHit"
MissileType "ErasusProjTrail"
Decal Scorch
States
{
  Spawn:
    TNT1 A 0
    TNT1 A 1 A_PlaySound("erasus/fly",5,1.0,1)
    Loop
  Death:
    TNT1 A 0
    TNT1 A 0 A_PlaySound("erasus/explode",5)
    TNT1 A 0 A_SpawnItemEx("ErasusProjTrailSparks",random(19,-19),random(19,-19),random(19,-19),0,0,0,0,128,0)
    TNT1 A 0 A_SpawnItemEx("ErasusExplode",0,0,0,0,0,0,0,128,0)
	TNT1 A 0 A_Explode(512,16,0)
    TNT1 A 0 A_Explode(288,32,0)
    TNT1 A 25
    Stop
}
}

ACTOR ErasusSmallProj : ErasusProj
{
Radius 6
Height 6
Damage 3
DeathSound "weapons/demontechex"
MissileType "DroneProjTrail"
States
{
  Spawn:
    TNT1 A 1
    Loop
  Death:
    TNT1 AA 0 A_SpawnItemEx("RedParticleSpawner",0,0,0,0,0,0,0,128)
    TNT1 AAAA 0 A_CustomMissile("Kaboom10",0,0,random(0,360),2,random(0,360))
	TNT1 A 0 A_Explode(2,16,0)
    TNT1 A 1
    Stop
}
}

ACTOR ErasusProj2 : ErasusProj {MissileType "ErasusProjTrail2"}

ACTOR ErasusProjTrail
{
RenderStyle Add
Scale 0.175
Alpha 1
+NOINTERACTION
+NOGRAVITY
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 //A_SetScale(ScaleX,ScaleY-0.0875)
    YAE4 A 2 Bright A_SpawnItemEx("ErasusProjTrailSparks",random(4,-4),random(4,-4),random(4,-4),0,0,0,0,128,0)
    YAE4 A 2 Bright
  Fly:
    YAE4 A 0 //A_SetScale(ScaleX-0.01,ScaleY-0.01)
    YAE4 A 1 Bright A_FadeOut(0.295)
    Loop
  }
}

ACTOR ErasusProjTrail2 : ErasusProjTrail
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 //A_SetScale(ScaleX,ScaleY-0.0875)
    YAE4 A 2 Bright //A_SpawnItemEx("ErasusProjTrailSparks",random(4,-4),random(4,-4),random(4,-4),0,0,0,0,128,0)
    YAE4 A 2 Bright
  Fly:
    YAE4 A 0 //A_SetScale(ScaleX-0.01,ScaleY-0.01)
    YAE4 A 1 Bright A_FadeOut(0.295)
    Loop
  }
}

ACTOR ErasusProjTrailSparks : ClientSideEffect
{
RenderStyle Add
Scale 0.0125
Alpha 0.95
+NOINTERACTION
+NOGRAVITY
+CLIENTSIDEONLY
States
{
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
    YAE4 A 3 Bright A_ChangeVelocity(frandom(-0.8,0.8),frandom(-0.8,0.8),frandom(-0.8,0.8),0)
    YAE4 A 1 Bright A_FadeOut(0.05)
    Loop
}
}

ACTOR ErasusExplode
{
Radius 17
Height 10
Renderstyle Add
Scale 0.5
+CLIENTSIDEONLY
+NOINTERACTION
+NOGRAVITY
States
  {
  Spawn:
    YAE3 ABCDEFGHIJKLMNOPQRS 1 Bright A_FadeOut(0.05)
    Stop
  }
}

Actor EFG9000 : Weapon
{
Tag "EFG 9000"
Weapon.AmmoUse 40
Weapon.AmmoGive 40
Weapon.AmmoType "Missile"
//Weapon.AmmoUse2 40
//Weapon.AmmoType2 "Missile"
Weapon.UpSound "efg9000/up"
Inventory.PickupMessage "\c[z4]EFG 9000"
Inventory.PickupSound "weapons/pickupml"
Weapon.PreferredSkin "EFG9K-Marine"
Scale 0.5
+WEAPON.NOAUTOFIRE
+INVENTORY.UNDROPPABLE
States
{
  Ready:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderEFG9000",1,"ReadyUpgraded")
	EFGG A 1 A_WeaponReady
	Loop
  ReadyUpgraded:
	SEFG A 1 A_WeaponReady
	Loop
  Deselect:
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderEFG9000",1,"DeselectUpgraded")
	EFGG A 1 A_Lower
	Loop
  DeselectUpgraded:
	SEFG A 1 A_Lower
	Loop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderEFG9000",1,"SelectingUpgraded")
  Selecting: 
	EFGG A 1 A_Raise
	Loop
  SelectingUpgraded: 
	SEFG A 1 A_Raise
	Loop
  Fire:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderEFG9000",1,"FireUpgraded")
	TNT1 A 0 A_JumpIfInventory("Missile",40,"Fire2")
	Goto DryFire
  Fire2:
	EFGG A 1 Bright
	EFGG A 1 Bright A_PlayWeaponSound("efg/nukecharge")
	EFGG VIHGFED 2
	EFGG D 15
	EFGG DEFGHIV 2
	EFGG AA 2 Bright A_GunFlash
	TNT1 A 0 A_PlaySoundEx("Cardihilator/NukeFire",1,0,2)
	TNT1 A 0 A_TakeInventory("Missile",40,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_FireCustomMissile("EFGFusionNuke",0,0,0,0)
	TNT1 A 0 Radius_Quake(4,3,0,1,0)
	TNT1 A 0 A_Recoil(2)
	EFGG BCDEFGHIV 3 Bright
	EFGG A 20 A_PlayWeaponSound("weapon/warn")
	EFGG A 10
	TNT1 A 0 A_PlaySound("weapon/cool")
	EFGG AAAAAAAAAAAA 1 A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,5) 
	EFGG A 5 A_ReFire
	Goto Ready
  FireUpgraded:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("Missile",75,1)
	Goto DryFireUpgraded
	SEFG A 1 Bright
	SEFG A 1 Bright A_PlayWeaponSound("efg/nukecharge")
	SEFG VIHGFED 2
	SEFG D 15
	SEFG DEFGHIV 2
	SEFG AA 2 Bright A_GunFlash
	TNT1 A 0 A_PlaySoundEx("SonicBomb/Fire",1,0,2)
	TNT1 A 0 A_TakeInventory("Missile",75,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_FireCustomMissile("EFGSonicBomb",0,0,0,0)
	TNT1 A 0 Radius_Quake(4,3,0,1,0)
	TNT1 A 0 A_Recoil(2)
	SEFG BCDEFGHIV 3 Bright
	SEFG A 20 A_PlayWeaponSound("weapon/warn")
	SEFG A 10
	TNT1 A 0 A_PlaySound("weapon/cool")
	SEFG AAAAAAAAAAAA 1 A_FireCustomMissile("SmokeFX4",random(-1,1),0,0,5) 
	SEFG A 5 A_ReFire
	Goto Ready
  DryFire:
    EFGG A 0 A_Print("40 rockets required!")
    EFGG A 10 A_PlaySound("weapon/off")
    Goto Ready
  DryFireUpgraded:
    SEFG A 0 A_Print("75 rockets required!")
    SEFG A 10 A_PlaySound("weapon/off")
    Goto ReadyUpgraded
  Spawn:
    EFGG Z -1
    Stop
}
}

ACTOR EFGRocket
{
Radius 11
Height 8
Projectile
Speed 86
Damage 20
Obituary "%o ate %k's Rocket."
+RANDOMIZE
+DEHEXPLOSION
+SKYEXPLODE
+MTHRUSPECIES
DeathSound "weapons/rocklx"
Damagetype "Explosion"
Decal RocketScorch
States
{
  Spawn:
    MIS7 A 0 A_CustomMissile("RocketSmoke",Random(4,6),Random(-2,2))
	MIS7 AAA 0 A_CustomMissile("NewRockeParticleTrail",Random(4,6),Random(-2,2))
	MIS7 A 0 A_ChangeVelocity(1,0.5*random(-3,3),0.5*random(-2,2),CVF_RELATIVE)
    MIS7 A 1 Bright A_PlaySoundEx("rpg/fly","SoundSlot7",1)
    Loop
  Death:
	TNT1 A 0
    TNT1 A 0 A_Explode(128,158)
    TNT1 A 0 A_StopSoundEx("SoundSlot7")
    TNT1 AAA 0 A_CustomMissile("Kaboom3",0,0,random(0,360),2,random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
    TNT1 A 0 A_SpawnItemEx("RocketExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("RocketExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("OrangeParticleSpawner",0,0,0,0,0,0,0,128) 
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 A 1 A_SpawnItem("RocketEx")
    Stop
}
}

ACTOR EFGSeekRocket : EFGRocket
{
Speed 40
Damage 15
+SEEKERMISSILE
States
{
  Spawn:
    MIS8 A 0 
    MIS8 A 0 A_BishopMissileWeave
    MIS8 A 0 A_PlaySoundEx("rpg/fly","SoundSlot7",1)
	MIS8 A 0 A_CustomMissile("RocketSmoke",Random(4,6),Random(-2,2))
	MIS8 AAA 0 A_CustomMissile("NewRockeParticleTrail",Random(4,6),Random(-2,2))
    MIS8 AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    MIS8 A 0 A_BishopMissileWeave
    MIS8 A 0 A_PlaySoundEx("rpg/fly","SoundSlot7",1)
	MIS8 A 0 A_CustomMissile("RocketSmoke",Random(4,6),Random(-2,2))
	MIS8 AAA 0 A_CustomMissile("NewRockeParticleTrail",Random(4,6),Random(-2,2))
    MIS8 AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    MIS8 A 0 A_BishopMissileWeave
    MIS8 A 0 A_PlaySoundEx("rpg/fly","SoundSlot7",1)
	MIS8 A 0 A_CustomMissile("RocketSmoke",Random(4,6),Random(-2,2))
	MIS8 AAA 0 A_CustomMissile("NewRockeParticleTrail",Random(4,6),Random(-2,2))
    MIS8 AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
    MIS8 A 0 A_BishopMissileWeave
    MIS8 A 0 A_PlaySoundEx("rpg/fly","SoundSlot7",1)
	MIS8 A 0 A_CustomMissile("RocketSmoke",Random(4,6),Random(-2,2))
	MIS8 AAA 0 A_CustomMissile("NewRockeParticleTrail",Random(4,6),Random(-2,2))
    MIS8 AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	MIS8 A 0 A_PlaySound("monster/homingrockbeep")
    Loop
  Death:
	TNT1 A 0
    TNT1 A 0 A_Explode(48,158)
    TNT1 A 0 A_StopSoundEx("SoundSlot7")
    TNT1 AAA 0 A_CustomMissile("Kaboom3",0,0,random(0,360),2,random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
    TNT1 A 0 A_SpawnItemEx("RocketExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("RocketExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("OrangeParticleSpawner",0,0,0,0,0,0,0,128) 
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 A 1 A_SpawnItem("RocketEx")
    Stop
}
}

ACTOR EFGFusionNuke
{
Radius 13
Height 8
Speed 75
Damage 250
DamageType "Explosion"
Projectile
+FULLVOLDEATH
+FORCERADIUSDMG
+MTHRUSPECIES
+SKYEXPLODE
DeathSound "weapons/nuclearmissileexplode"
Decal NukeRocketScorch
States
{
  Spawn:
	TNT1 A 0 A_CustomMissile("MissileTrail",Random(4,6),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(4,6),Random(-2,2))
	NKS1 A 2 Bright A_CustomMissile("NuclearMissileTrail",0,0,0)
	Loop
  Death:
	TNT1 A 0
	TNT1 A 0 A_StopSound(5)
	TNT1 A 0 A_Explode(1024,256)
	TNT1 A 0 A_Explode(64,1024)
	TNT1 A 0 A_Explode(256,1024,0)
	TNT1 A 0 A_Explode(128,2048,0)
	TNT1 A 0 A_SpawnItemEx("FusionNukeExplosion")
	Stop
}
}

ACTOR EFGSonicBomb : EFGFusionNuke
{
Damage 400
DamageType "MarineKaboom"
+FOILINVUL
DeathSound "weapons/nuclearmissileexplode"
States
{
  Spawn:
	TNT1 A 0 A_CustomMissile("MissileTrail",Random(4,6),Random(-2,2))
	TNT1 A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(4,6),Random(-2,2))
	NKS1 A 2 Bright A_CustomMissile("NuclearMissileTrail",0,0,0)
	Loop
  Death:
	TNT1 A 0
	TNT1 A 0 A_PlaySoundEx("sonicbomb/explosion","SoundSlot6",0,1)
	TNT1 A 0 A_PlaySoundEx("sonicbomb/boom","SoundSlot7",0,1)
	TNT1 A 0 A_SpawnItemEx("ArgentSonicBombMinorBlast",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
	TNT1 A 0 A_Explode(1024,256)
	TNT1 A 0 A_Explode(64,1024)
	TNT1 A 0 A_Explode(256,1024,0)
	TNT1 A 0 A_Explode(128,2048,0)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_Explode(128,1528)
	Stop
}
}

Actor BFG3500 : Weapon
{
  Weapon.PreferredSkin "BFG9500-Marine"
  Weapon.SelectionOrder 2800
  Weapon.AmmoUse 100
  Weapon.AmmoGive 300
  Weapon.AmmoType "NewCell"
  Weapon.AmmoUse2 100
  Weapon.AmmoType2 "NewCell"
  Weapon.UpSound "freeze/up"
  +WEAPON.NOAUTOFIRE
  Inventory.PickupSound "weapons/bfgpickup"
  Inventory.PickupMessage "\c[m5]BFG 3500"
  +INVENTORY.UNDROPPABLE
  Tag "BFG 3500"
  States
  {
  Ready:
	BFG9 A 1 A_WeaponReady
	Loop
  Deselect:
	BFG9 A 1 A_Lower
	Loop
  Select:
	BFG9 A 1 A_Raise
	Loop
  Fire:
	BFG9 A 0 A_PlayWeaponSound("bfg3500/fire")
	BFG9 A 0 A_GunFlash
	BFG9 B 1 Bright Radius_Quake(1,2,0,1,0)
	BFG9 BBBBBB 1 Bright
	BFG9 C 1 Bright Radius_Quake(2,2,0,1,0)
	BFG9 CCCCCC 1 Bright
	BFG9 D 1 Bright Radius_Quake(4,2,0,1,0)
	BFG9 DDDDDD 1 Bright
	BFG9 E 1 Bright Radius_Quake(6,2,0,1,0)
	BFG9 EEEEEE 1 Bright
	BFG9 F 1 Bright Radius_Quake(8,2,0,1,0)
	BFG9 FFFFFF 1 Bright
	BFG9 A 0 Radius_Quake(10,4,0,1,0)
	BFG9 A 0 A_Recoil(10)
	BFG9 A 0 Radius_Quake(10,6,0,1,0)
	BFG9 G 1 Bright A_FireCustomMissile("BFG3500Ball")
	BFG9 GGGHHHGG 1 Bright
	BFG9 FEDCB 2
	BFG9 A 0 A_Light0
	BFG9 A 0 Radius_Quake(3,10,0,1,0)
	BFG9 A 0 A_PlaySound("weapons/dtech10ksteam")
	BFG9 AAAAAAAAAAAA 1 A_FireCustomMissile("DTech10KSteam",-58+Random(-4,4),0,0,0)
	BFG9 A 20
	BFG9 A 3 A_Refire
	Goto Ready
  AltFire:
	BFG9 A 0 A_PlayWeaponSound("bfg3500/fire")
	BFG9 A 0 A_GunFlash
	BFG9 B 1 Bright Radius_Quake(1,2,0,1,0)
	BFG9 BBBBBB 1 Bright
	BFG9 C 1 Bright Radius_Quake(2,2,0,1,0)
	BFG9 CCCCCC 1 Bright
	BFG9 D 1 Bright Radius_Quake(4,2,0,1,0)
	BFG9 DDDDDD 1 Bright
	BFG9 E 1 Bright Radius_Quake(6,2,0,1,0)
	BFG9 EEEEEE 1 Bright
	BFG9 F 1 Bright Radius_Quake(8,2,0,1,0)
	BFG9 FFFFFF 1 Bright
	BFG9 A 0 Radius_Quake(10,4,0,1,0)
	BFG9 A 0 A_Recoil(10)
	BFG9 A 0 Radius_Quake(10,6,0,1,0)
	BFG9 G 0 A_FireCustomMissile("DTech10KSteam",-58+Random(-4,4),1,0,0)
	BFG9 G 1 Bright A_SpawnItemEx("BFG3500ShieldSpawner",35,0,10,0,0,0,0,32)
	BFG9 GGGHHHGG 1 Bright
	BFG9 FEDCB 2
	BFG9 A 0 A_Light0
	BFG9 A 0 Radius_Quake(3,10,0,1,0)
	BFG9 A 0 A_PlaySound("weapons/dtech10ksteam")
	BFG9 AAAAAAAAAAAA 1 A_FireCustomMissile("DTech10KSteam",-58+Random(-4,4),0,0,0)
	BFG9 A 20
	BFG9 A 3 A_Refire
	Goto Ready
  Spawn:
	B9IG AB 17
	Loop
	}
}

Actor BFG3500Ball
{
  Radius 13
  Height 8
  Speed 25
  PROJECTILE
  Damage 88
  +RANDOMIZE
  +FORCERADIUSDMG
  +NODAMAGETHRUST
  +FORCEPAIN
  +NOEXTREMEDEATH
  +MTHRUSPECIES
  +SKYEXPLODE
  DamageType "Marine"
  Renderstyle Add
  Alpha 0.8
  DeathSound ""
  Decal DBFGLightning
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_PlaySoundEx("weapons/dtech10kball","Voice",1)
    BFS9 ABCD 1 Bright A_SpawnItemEx("BFGTrailParticleBlue",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
    Loop
  Death:
    TNT1 A 0
	TNT1 A 0 A_SetTranslucent(0.75,1)
	TNT1 A 0 A_RadiusGive("BFG3500BallEffect",584,RGF_MONSTERS|RGF_PLAYERS,1)
	TNT1 A 0 A_Explode(random(32,128),584,0)
	TNT1 A 0 A_SpawnItemEx("BFG3500ShockWave",0,0,24,0,0,0,0,128)
	BFS9 ABCDABCDABCDABCDABCDABCDABCDABCDABCD 1 Bright A_SpawnItemEx("BFGTrailParticleBlue",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_RadiusGive("BFG3500BallEffect",584,RGF_MONSTERS|RGF_PLAYERS,1)
	TNT1 A 0 A_Explode(random(32,128),584,0)
	TNT1 A 0 A_SpawnItemEx("BFG3500ShockWave",0,0,24,0,0,0,0,128)
	BFS9 ABCDABCDABCDABCDABCDABCDABCDABCDABCD 1 Bright A_SpawnItemEx("BFGTrailParticleBlue",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_RadiusGive("BFG3500BallEffect",584,RGF_MONSTERS|RGF_PLAYERS,1)
	TNT1 A 0 A_Explode(random(32,128),584,0)
	TNT1 A 0 A_SpawnItemEx("BFG3500ShockWave",0,0,24,0,0,0,0,128)
	BFS9 ABCDABCDABCDABCDABCDABCDABCDABCDABCD 1 Bright A_SpawnItemEx("BFGTrailParticleBlue",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_RadiusGive("BFG3500BallEffect",584,RGF_MONSTERS|RGF_PLAYERS,1)
	TNT1 A 0 A_Explode(random(32,128),584,0)
	TNT1 A 0 A_SpawnItemEx("BFG3500ShockWave",0,0,24,0,0,0,0,128)
	BFS9 ABCDABCDABCDABCDABCDABCDABCDABCDABCD 1 Bright A_SpawnItemEx("BFGTrailParticleBlue",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_RadiusGive("BFG3500BallEffect",584,RGF_MONSTERS|RGF_PLAYERS,1)
	TNT1 A 0 A_Explode(random(32,128),584,0)
	TNT1 A 0 A_SpawnItemEx("BFG3500ShockWave",0,0,24,0,0,0,0,128)
	BFS9 ABCDABCDABCDABCDABCDABCDABCDABCDABCD 1 Bright A_SpawnItemEx("BFGTrailParticleBlue",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_RadiusGive("BFG3500BallEffect",584,RGF_MONSTERS|RGF_PLAYERS,1)
	TNT1 A 0 A_Explode(random(32,128),584,0)
	TNT1 A 0 A_SpawnItemEx("BFG3500ShockWave",0,0,24,0,0,0,0,128)
	BFS9 ABCDABCDABCDABCDABCDABCDABCDABCDABCD 1 Bright A_SpawnItemEx("BFGTrailParticleBlue",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_RadiusGive("BFG3500BallEffect",584,RGF_MONSTERS|RGF_PLAYERS,1)
	TNT1 A 0 A_Explode(random(32,128),584,0)
	TNT1 A 0 A_SpawnItemEx("BFG3500ShockWave",0,0,24,0,0,0,0,128)
	BFS9 ABCDABCDABCDABCDABCDABCDABCDABCDABCD 1 Bright A_SpawnItemEx("BFGTrailParticleBlue",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_RadiusGive("BFG3500BallEffect",584,RGF_MONSTERS|RGF_PLAYERS,1)
	TNT1 A 0 A_Explode(random(32,128),584,0)
	TNT1 A 0 A_SpawnItemEx("BFG3500ShockWave",0,0,24,0,0,0,0,128)
	BFS9 ABCDABCDABCDABCDABCDABCDABCDABCDABCD 1 Bright A_SpawnItemEx("BFGTrailParticleBlue",Random(-12,12),Random(-12,12),Random(12,22),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 Radius_Quake(3,35,0,10,0)
	TNT1 A 0 A_RadiusGive("BFG3500BallEffect",584,RGF_MONSTERS|RGF_PLAYERS,1)
	TNT1 A 0 A_SpawnItemEx("BFG3500ShockWave",0,0,24,0,0,0,0,128)
	TNT1 A 0 A_Explode(192,584,0)
	TNT1 A 0 A_StopSoundEx("Voice")
	TNT1 A 0 Radius_Quake(20,12,0,12,0)
	TNT1 A 0 A_PlaySound("bfg3500/explode")
	TNT1 A 0 A_SpawnItemEx("BigBlueLightningSpawner",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("BlueHugeExplosionFlare",0,0,0,0,0,0,0,128)
	TNT1 AAAAAAAAA 0 A_SpawnItemEx("BlueHugeExplosionParticle",random(32,-32),random(32,-32),random(32,-32),random(8,-8),random(8,-8),random(8,-8),0,128)
    TNT1 AAAAAAAAA 0 A_SpawnItemEx("BlueHugeExplosionKaboom",0,0,0,frandom(-4,4),frandom(-4,4),frandom(-4,4)) 
	BFE9 A 8 Bright A_SpawnItem("BFG3500BallEx",0,-10)
	BFE9 BCD 8 Bright
    Stop
}
}

Actor BFG3500BallEffect : CustomInventory
{
  +INVENTORY.QUIET
  +INVENTORY.UNDROPPABLE
  +INVENTORY.ALWAYSPICKUP
  +INVENTORY.AUTOACTIVATE
  Inventory.Amount 1
  Inventory.MaxAmount 0
  States
  {
  PickUp:
    NULL A 1
	NULL A 1 //A_Jump(80,3)
	//NULL A 1 ACS_NamedExecuteAlways("Spray Damage Amount",0,0,random(64,388),0)
	NULL A 1 ACS_NamedExecuteAlways("Spray Damage Amount",0,0,0,0)
    NULL A 1 A_SpawnItemEx("BFG3500Spray",0,0,36)
	NULL A 1
    Stop
  }
}

Actor BFG3500ShieldSpawner
{
  -SOLID
  -SHOOTABLE
  +NOGRAVITY
  var int user_delay;
  States
  {
  Spawn:
    TNT1 A 1
	TNT1 A 0 A_PlaySound("ForceBarrier/On")
	Goto See
  See:
    TNT1 A 1
	TNT1 A 0 A_PlaySound("ForceBarrier/Loop")
	TNT1 A 0 A_SpawnItemEx("BFG3500ShieldSpawner2")
    TNT1 A 2
	TNT1 A 0 A_JumpIf(user_delay >= 360,2)
    TNT1 A 0 A_SetUserVar("user_delay",user_delay+1)
    Loop
  Death:
    TNT1 A 0 A_PlaySound("ForceBarrier/Off")
    TNT1 A 1
    Stop
  }
}

Actor BFG4700 : Weapon
{
  Weapon.PreferredSkin "BFG9500-Marine"
  Weapon.SelectionOrder 2800
  Weapon.AmmoUse 30
  Weapon.AmmoGive 300
  Weapon.AmmoType "NewCell"
  Weapon.AmmoUse2 20
  Weapon.AmmoType2 "NewCell"
  Weapon.UpSound "BFG47000/Beep0"
  +WEAPON.NOAUTOFIRE
  Inventory.PickupSound "weapons/bfgpickup"
  Inventory.PickupMessage "\c[m6]BFG 4700"
  +INVENTORY.UNDROPPABLE
  Tag "BFG 4700"
  States
  {
  Ready:
	BFG8 A 1 A_WeaponReady
	Loop
  Deselect:
	BFG8 A 1 A_Lower
	Loop
  Select:
	BFG8 A 1 A_Raise
	Loop
  Fire:
	BFG8 B 10 A_PlayWeaponSound("BFG47000/Beep2")
	BFG8 C 10 A_PlayWeaponSound("BFG47000/Beep2")
	BFG8 D 10 A_PlayWeaponSound("BFG47000/Beep3")
	BFG8 G 6 Bright A_Light1
	BFG8 F 0 A_GunFlash
	BFG8 F 0 A_PlayWeaponSound("BFG4700/Fire")
	BFG8 FFFFFFFFF 0 A_FireCustomMissile("BFG4700Ball",random(-8,8),0,0,0,0,random(-8,8))
	BFG8 F 0 A_FireCustomMissile("BFG4700Ball",0,1)
	BFG8 F 6 Bright A_Light2
	BFG8 F 8 Bright
	BFG8 G 8 Bright A_Light1
	BFG8 H 10 A_Light0
	BFG8 A 10 A_Refire
	Goto Ready
 AltFire:
	BFG8 B 10 A_PlayWeaponSound("BFG47000/Beep1")
	BFG8 C 10 A_PlayWeaponSound("BFG47000/Beep1")
	BFG8 D 10 A_PlayWeaponSound("BFG47000/Beep3")
 AltHold:
	BFG8 G 4 Bright A_Light1
	BFG8 F 0 A_GunFlash
	BFG8 F 0 A_PlayWeaponSound("BFG4700/Fire")
	BFG8 F 0 A_FireCustomMissile("BFG4700FastShot",0,1)
	BFG8 F 4 Bright A_Light2
	BFG8 G 4 Bright
	BFG8 H 4 A_Light1
	BFG8 H 0 A_Refire
	BFG8 H 10 A_Light0
	BFG8 A 10 A_Refire
	Goto Ready
  Spawn:
	BFG8 Z 10
	Loop
}
}

ACTOR BFG4700Ball
{
Radius 13
Height 8
Speed 40
Damage 30
Projectile
+RANDOMIZE
+MTHRUSPECIES
+FORCERADIUSDMG
+SEEKERMISSILE
+SKYEXPLODE
RenderStyle Add
Alpha 0.75
Scale 0.85
SeeSound "weapons/hrfire"
DeathSound "BFG4700/Hit"
Translation "192:207=176:191"
Decal RocketScorch
States
{
  Spawn:
    PLST A 0
    PLST A 0 A_ChangeVelocity(velx/3,vely/3,velz/3,CVF_REPLACE)
	PLST AAABBBCCCDDDEEEFFF 1 Bright A_SpawnItemEx("BFG4700BallTrail",0,0,0,0,0,0,0,128)
	PLST AAABBBCCC 1 Bright A_SpawnItemEx("BFG4700BallTrail",0,0,0,0,0,0,0,128)
	PLST A 0 A_ChangeVelocity(velx*3,vely*3,velz*3,CVF_REPLACE)
	PLST A 0 A_SetAngle(angle+random(-8,8))
	PLST A 0 A_SetPitch(pitch+random(-8,8))
	PLST A 0
  Fly:
	PLST A 0 A_SeekerMissile(20,50,SMF_LOOK|SMF_PRECISE)
	PLST AAA 1 Bright A_SpawnItemEx("BFG4700BallTrail",0,0,0,0,0,0,0,128)
	PLST A 0 A_SeekerMissile(20,50,SMF_LOOK|SMF_PRECISE)
	PLST BBB 1 Bright A_SpawnItemEx("BFG4700BallTrail",0,0,0,0,0,0,0,128)
	PLST A 0 A_SeekerMissile(20,50,SMF_LOOK|SMF_PRECISE)
	PLST CCC 1 Bright A_SpawnItemEx("BFG4700BallTrail",0,0,0,0,0,0,0,128)
	PLST A 0 A_SeekerMissile(20,50,SMF_LOOK|SMF_PRECISE)
	PLST DDD 1 Bright A_SpawnItemEx("BFG4700BallTrail",0,0,0,0,0,0,0,128)
	PLST A 0 A_SeekerMissile(20,50,SMF_LOOK|SMF_PRECISE)
	PLST EEE 1 Bright A_SpawnItemEx("BFG4700BallTrail",0,0,0,0,0,0,0,128)
	PLST A 0 A_SeekerMissile(20,50,SMF_LOOK|SMF_PRECISE)
	PLST FFF 1 Bright A_SpawnItemEx("BFG4700BallTrail",0,0,0,0,0,0,0,128)
    Loop
  Death:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("RedParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
	TNT1 AAA 0 A_CustomMissile("Kaboom10", 0, 0, random(0,360), 2, random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
    TNT1 A 0 A_Explode(48,64,0)
    IPL3 ABCDE 3 Bright
    Stop
  }
}

ACTOR BFG4700BallTrail : ClientSideEffect
{
RenderStyle Add
PROJECTILE
+CLIENTSIDEONLY
+NOBLOCKMAP
+DONTSPLASH
+NOINTERACTION
Scale 0.65
Translation "192:207=176:191"
States
{
  Spawn:
	TNT1 A 2
	TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
    PLST ABCDEF 1 Bright A_FadeOut(0.1)
    Stop
}
}

ACTOR BFG4700FastShot : FastProjectile
{
Radius 3
Height 3
Speed 50
Renderstyle add
Scale 0.5
Damage 90
PROJECTILE
SeeSound "BFG4700FastShot/Fire"
DeathSound "BFG4700FastShot/Boom"
+MTHRUSPECIES
+FORCERADIUSDMG
+SKYEXPLODE
MissileType "BFG4700FastShotTrailSpawner"
MissileHeight 8
Decal BFG9500LightningRed
States
{
  Spawn:
	RBLL ABCDEF 1 bright
	Loop
  Death:
	TNT1 A 0 A_Explode
	TNT1 A 0 A_Explode(88,356,0)
	TNT1 A 0 A_SpawnItemEx("BFG4700FastShotBoomFlash",0,0,0, 0,0,0)
	TNT1 AAAAAA 0 A_SpawnItemEx("BFG4700FastShotBoom1",0,0,30, random(-5,5),random(-8,8),random(0,7))
	TNT1 AA 0 A_SpawnItemEx("BFG4700FastShotBoom2",0,0,0, 0,0,0)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("BFG4700FastShotBoomSmoke",0,0,0, random(-4,4),random(-4,4), random(-4,4), random(180,360), 0)
	TNT1 A 50
	Stop
	}
}

/*ACTOR Waiting : Melee
{
    Weapon.PreferredSkin "Fist-Marine"
	States
	{
    Ready:
		PKFS A 1 A_WeaponReady
		Loop
	    }
}*/

Actor BFG12000Cooldown : Ammo
{
	Inventory.Amount 0
	Inventory.MaxAmount 40
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 40
	Inventory.Icon "BG12Z0"
	+IGNORESKILL
}

Actor BFG12000 : Weapon
{
Weapon.PreferredSkin "BFG9500-Marine"
Weapon.SelectionOrder 2100
Weapon.AmmoUse 80
Weapon.AmmoGive 300
Weapon.AmmoType "NewCell"
Weapon.AmmoType2 "BFG12000Cooldown"
Weapon.UpSound "BFG12000/Pickup"
Inventory.PickupSound "BFG12000/Pickup"
Inventory.PickupMessage "\c[A6]BFG 12000"
+INVENTORY.UNDROPPABLE
+WEAPON.NOAUTOFIRE
Tag "BFG 12000"
States
{
  Ready:
	TNT1 A 0
	TNT1 A 0 A_PlaySound("BFG12000/Idling",6,1.0,1)
    BG12 BBB 1 A_WeaponReady
    BG12 CCC 1 A_WeaponReady
    //BG12 DDD 1 A_WeaponReady
    BG12 EEE 1 A_WeaponReady
	Loop
  Deselect:
	TNT1 A 0
	TNT1 A 0 A_StopSound(6)
	BG12 A 1 A_Lower
	Loop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
	BG12 A 1 A_Raise
	Loop
  Fire:
	TNT1 A 0
	TNT1 A 0 A_StopSound(6)
    BG12 F 25 A_PlayWeaponSound("BFG12000/Fire")
    BG12 GHIJ 2
	TNT1 A 0 A_GunFlash
	TNT1 A 0 Radius_Quake(6,3,0,1,0)
	BG12 L 8 Bright A_FireCustomMissile("BFG12000Ball",Random(100,-100)/100.00,1,0,0,0,Random(100,-100)/100.00)
    BG12 M 8
	BG12 A 0 A_Light0
	BG12 A 0 Radius_Quake(3,10,0,1,0)
	BG12 A 0 A_PlaySound("weapons/dtech10ksteam")
	BG12 AAAAAAAAAA 1 A_FireCustomMissile("DTech10KSteam",-58+Random(-4,4),0,0,0)
	BG12 A 25
	BG12 A 3 A_Refire
    Goto Ready
  AltFire:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderBFG12000",1,2)
	TNT1 A 0 A_Print("Requires Weapon Upgrade!")
	Goto DryFire
    TNT1 A 0 A_JumpIfInventory("NewCell",300,2)
	TNT1 A 0 A_Print("The Secondary Fire requires 300 Cells!")
    Goto DryFire
	TNT1 A 0 A_JumpIfInventory("BFG12000Cooldown",1,2) 
	TNT1 A 0 A_Jump(256,2)
	TNT1 A 0 A_Print("The Secondary Fire is in cooldown!")
    Goto DryFire
	BG12 FF 8
    TNT1 A 0 A_PlayWeaponSound("SuperLazer/Charge")
	BG12 GGHHIIJJKK 8 Bright
	TNT1 A 0 A_PlayWeaponSound("SuperLazer/Fire")
    TNT1 A 0 A_GiveInventory("BFG12000Cooldown",40)
	TNT1 A 0 A_TakeInventory("NewCell",300,TIF_NOTAKEINFINITE)
	BG12 LMLMLMLMLMLMLMLMLMLM 1 A_FireCustomMissile("SuperLazerGreen",0,0,0,0,0,0)
	BG12 LMLMLMLMLMLMLMLMLMLM 1 A_FireCustomMissile("SuperLazerGreen",0,0,0,0,0,0)
	BG12 LMLMLMLMLMLMLMLMLMLM 1 A_FireCustomMissile("SuperLazerGreen",0,0,0,0,0,0)
	BG12 LMLMLMLMLMLMLMLMLMLM 1 A_FireCustomMissile("SuperLazerGreen",0,0,0,0,0,0)
	BG12 LMLMLMLMLMLMLMLMLMLM 1 A_FireCustomMissile("SuperLazerGreen",0,0,0,0,0,0)
	BG12 F 50
	Goto Ready
  DryFire:
    BG12 F 10 A_PlaySound("weapon/off")
    Goto Ready
  Spawn:
	BG12 Z -1
	Stop
}
}

ACTOR BFG12000Ball
{
Radius 16
Height 16
Speed 60
Damage 128
Projectile
+RANDOMIZE
+FORCERADIUSDMG
+FORCEXYBILLBOARD
+NODAMAGETHRUST
+MTHRUSPECIES
+DONTREFLECT
+SKYEXPLODE
RenderStyle Add
Alpha 0.9
Scale 1.6
DeathSound "weapons/bfgx"
Obituary "$OB_MPBFG_BOOM"
//DamageType "Marine"
Decal BigGreenScorch
States
{
  Spawn:
	TNT1 A 0 A_Explode(64,256,0,0,128)
    B12P A 1 Bright A_SpawnItemEx("BFGTrailParticleGreen",Random(-12,12),Random(-12,12),Random(-12,12),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_Explode(64,256,0,0,128)
	B12P B 1 Bright A_SpawnItemEx("BFGTrailParticleGreen",Random(-12,12),Random(-12,12),Random(-12,12),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_Explode(64,256,0,0,128)
	B12P C 1 Bright A_SpawnItemEx("BFGTrailParticleGreen",Random(-12,12),Random(-12,12),Random(-12,12),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128)
	TNT1 A 0 A_Explode(64,256,0,0,128)
	B12P D 1 Bright A_SpawnItemEx("BFGTrailParticleGreen",Random(-12,12),Random(-12,12),Random(-12,12),Random(-2,2),Random(-2,2),Random(-2,2),Random(-20,20),128) 
	Loop
  Death:
	B12P ABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCD 1 Bright A_SpawnItemEx("BFG12000MiniExplosion",random(128,-128),random(128,-128),random(128,-128),0,0,0,0,0)
	TNT1 A 0 A_Explode(128,2048,0)
	TNT1 A 0 A_Explode(256,1024,0)
	TNT1 A 0 A_Explode(512,384)
	TNT1 A 0 Radius_Quake(20,12,0,12,0)
	TNT1 A 0 A_PlayWeaponSound("BFG12000/Explode")
    TNT1 A 0 A_SpawnItemEx("GreenMegaRocketEx",0,0,0)
	TNT1 A 0 A_SpawnItemEx("GreenMegaExplosionFlare",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("GreenMegaExplosionShockWave",0,0,0,0,0,0,0,128)
    TNT1 AAAAAA 0 A_SpawnItemEx("DarkEradicationBFGProjectilSmoke",0,0,0,frandom(-6,6),frandom(-6,6),frandom(-6,6))
	TNT1 AAAAAAAAA 0 A_SpawnItemEx("GreenHugeExplosionParticle",random(32,-32),random(32,-32),random(32,-32),random(8,-8),random(8,-8),random(8,-8),0,128)
	TNT1 A 0 A_SetScale(6.0)
	B12P EEE 1 Bright A_SpawnItemEx("GreenDiggerExplosionKaboom",0,0,0,frandom(-12,12),frandom(-12,12),frandom(-12,12))
	TNT1 A 0 A_FadeOut(0.1)
	TNT1 A 0 A_SetScale(5.5)
	B12P EEE 1 Bright A_SpawnItemEx("GreenDiggerExplosionKaboom",0,0,0,frandom(-12,12),frandom(-12,12),frandom(-12,12))
	TNT1 A 0 A_FadeOut(0.1)
	TNT1 A 0 A_SetScale(5.0)
	B12P EEE 1 Bright A_SpawnItemEx("GreenDiggerExplosionKaboom",0,0,0,frandom(-12,12),frandom(-12,12),frandom(-12,12))
	TNT1 A 0 A_FadeOut(0.1)
	TNT1 A 0 A_SetScale(4.5)
	B12P EEE 1 Bright A_SpawnItemEx("GreenDiggerExplosionKaboom",0,0,0,frandom(-12,12),frandom(-12,12),frandom(-12,12))
	TNT1 A 0 A_FadeOut(0.1)
	TNT1 A 0 A_SetScale(4.0)
	B12P EEE 1 Bright A_SpawnItemEx("GreenDiggerExplosionKaboom",0,0,0,frandom(-12,12),frandom(-12,12),frandom(-12,12))
	TNT1 A 0 A_FadeOut(0.1)
	TNT1 A 0 A_SetScale(3.5)
	B12P EEE 1 Bright A_SpawnItemEx("GreenDiggerExplosionKaboom",0,0,0,frandom(-12,12),frandom(-12,12),frandom(-12,12))
	TNT1 A 0 A_FadeOut(0.1)
	TNT1 A 0 A_SetScale(3.0)
	B12P EEE 1 Bright A_SpawnItemEx("GreenDiggerExplosionKaboom",0,0,0,frandom(-12,12),frandom(-12,12),frandom(-12,12))
	TNT1 A 0 A_FadeOut(0.1)
	TNT1 A 0 A_SetScale(2.5)
	B12P EEE 1 Bright A_SpawnItemEx("GreenDiggerExplosionKaboom",0,0,0,frandom(-12,12),frandom(-12,12),frandom(-12,12))
	TNT1 A 0 A_FadeOut(0.1)
	TNT1 A 0 A_SetScale(2.0)
	B12P EEE 1 Bright A_SpawnItemEx("GreenDiggerExplosionKaboom",0,0,0,frandom(-12,12),frandom(-12,12),frandom(-12,12))
	TNT1 A 0 A_FadeOut(0.1)
	TNT1 A 0 A_SetScale(1.5)
	B12P EEE 1 Bright A_SpawnItemEx("GreenDiggerExplosionKaboom",0,0,0,frandom(-12,12),frandom(-12,12),frandom(-12,12))
	Stop
}
}

Actor BFG12000MiniExplosion
{
+FORCERADIUSDMG
+NODAMAGETHRUST
//DamageType "Marine"
States 
{ 
  Spawn: 
	TNT1 A 0
	TNT1 A 0 A_PlaySound("BFG12000/MiniExplode")
	TNT1 A 0 A_Explode(76,144,0)
	TNT1 A 0 A_SpawnItemEx("GreenRocketEx",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("GreenRocketExplosionFlare",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("GreenRocketExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 1
	Stop
}
}

Actor OpenDeckSlot1 : Inventory{Inventory.MaxAmount 1}
Actor OpenDeckSlot2 : Inventory{Inventory.MaxAmount 16}
Actor OpenDeckMenu1 : Inventory{Inventory.MaxAmount 1}
Actor OpenDeckMenu2 : Inventory{Inventory.MaxAmount 1}

ACTOR OpenDeck : Weapon
{
   Tag "Open Deck"
   Weapon.SelectionOrder 2500
   Weapon.AmmoType "OpenDeckAmmo"
   Weapon.AmmoGive 3
   Weapon.AmmoUse 1
   Weapon.PreferredSkin "Fist-Marine"
   +INVENTORY.UNDROPPABLE
   States
   {
   Spawn:
      TNT1 A 1
      Stop
   Ready:
      TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	  TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
      ODEK A 1 A_WeaponReady
      Loop
   Deselect:
      ODEK A 0 A_Lower
      ODEK A 1 A_Lower
      Loop
   Select:
      ODEK A 0 A_Print("Press Altfire to open the menu")
      ODEK A 0 A_Raise
      ODEK A 1 A_Raise
      Goto Select+1
   Fire:
      ODEK A 0 A_GunFlash
	  ODEK A 15 ACS_ExecuteAlways(3698,0,0,0,0)
	  Goto Ready
   AltFire:
      ODEK A 0 A_GunFlash
	  ODEK A 0 A_JumpIfInventory("OpenDeckMenu1",1,"Nope")
	  ODEK A 0 A_GiveInventory("OpenDeckMenu1",1)
   	  ODEK A 1 ACS_ExecuteAlways(3699,0,0,0,0)
	  Goto Ready
   Nope:
      ODEK A 15 A_PlaySound("sentry/warn")
      Goto Ready
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready
  GrenadeToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	ODEK A 1 Offset(0,30)
	ODEK A 1 Offset(0,40)
	ODEK A 1 Offset(0,50)
	ODEK A 1 Offset(0,60)
	ODEK A 1 Offset(0,70)
	TNT1 A 4 Offset(0,10)
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	ODEK A 1 Offset(0,70)
	ODEK A 1 Offset(0,60)
	ODEK A 1 Offset(0,50)
	ODEK A 1 Offset(0,40)
	ODEK A 1 Offset(0,30)
	Goto Ready
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready
  MineToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	ODEK A 1 Offset(0,30)
	ODEK A 1 Offset(0,40)
	ODEK A 1 Offset(0,50)
	ODEK A 1 Offset(0,60)
	ODEK A 1 Offset(0,70)
	TNT1 A 8 Offset(0,10)
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	ODEK A 1 Offset(0,70)
	ODEK A 1 Offset(0,60)
	ODEK A 1 Offset(0,50)
	ODEK A 1 Offset(0,40)
	ODEK A 1 Offset(0,30)
	Goto Ready
   Flash:
      TNT1 A 5 A_Light1
      TNT1 A 6 A_Light2
      TNT1 A 5 A_Light1
      TNT1 A 0 A_Light0
      Stop
   }
}

ACTOR OpenDeckAmmo : Ammo
{
Inventory.Icon "ITM2Z0"
Inventory.Amount 1
Inventory.MaxAmount 9
Ammo.BackpackAmount 0
}

ACTOR EpicBlade : Weapon
{
Weapon.SelectionOrder 9
Weapon.AmmoGive 100
Weapon.AmmoUse1 0
Weapon.AmmoUse2 100
+WEAPON.MELEEWEAPON
+WEAPON.WIMPY_WEAPON
+WEAPON.AXEBLOOD
+WEAPON.ALT_AMMO_OPTIONAL
+INVENTORY.UNDROPPABLE
Weapon.PreferredSkin "Sword-Marine"
States
 {
   Spawn:
      WVRP A -1
      Loop
   Ready:
      VORP GGHHIIJJ 2 Bright A_WeaponReady
      Loop
   Deselect:
      VORP GGHHIIJJ 1 Bright A_Lower
      Loop
   Select:
      VORP GGHHIIJJ 1 Bright A_Raise
      Loop
   Fire:
      VORP B 4 Bright
      VORP K 2 Bright A_PlayWeaponSound("weapons/vorpalbladeswing")
      VORP L 4 Bright A_FireCustomMissile("EpicBladeProj",0,1,16)
      VORP M 4 Bright A_FireCustomMissile("EpicBladeProj",0,1,8)
      VORP N 4 Bright A_FireCustomMissile("EpicBladeProj",0,1,0)
	  VORP O 4 Bright A_FireCustomMissile("EpicBladeProj",0,1,-8)
      VORP G 0 Bright A_ReFire
	  VORP G 1 Bright Offset(0,80)
      VORP H 1 Bright Offset(0,60)
      VORP I 1 Bright Offset(0,50)
      VORP J 1 Bright Offset(0,45)
      VORP G 1 Bright Offset(0,40)
      Goto Ready
   AltFire:
      VORP B 4 Bright
      VORP K 2 Bright A_PlayWeaponSound("weapons/vorpalbladeswing")
      VORP L 4 Bright A_FireCustomMissile("EpicBladeHeadShot",0,1,16)
      VORP M 4 Bright A_FireCustomMissile("EpicBladeHeadShot",0,1,8)
      VORP N 4 Bright A_FireCustomMissile("EpicBladeHeadShot",0,1,0)
	  VORP O 4 Bright A_FireCustomMissile("EpicBladeHeadShot",0,1,-8)
      VORP G 0 Bright A_ReFire
	  VORP G 1 Bright Offset(0,80)
      VORP H 1 Bright Offset(0,60)
      VORP I 1 Bright Offset(0,50)
      VORP J 1 Bright Offset(0,45)
      VORP G 1 Bright Offset(0,40)
      Goto Ready
   /*AltFire:
      VORP B 4 Bright
      VORP K 2 Bright A_PlayWeaponSound("weapons/vorpalbladeswing")
      VORP L 2 Bright
      VORP M 2 Bright A_CustomPunch(random(128,384),1,0,"SwordPuff",96)
      VORP NO 4 Bright
      VORP G 0 Bright A_ReFire
	  VORP G 1 Bright Offset(0,80)
      VORP H 1 Bright Offset(0,60)
      VORP I 1 Bright Offset(0,50)
      VORP J 1 Bright Offset(0,45)
      VORP G 1 Bright Offset(0,40)
      Goto Ready*/
   }
}

ACTOR SwordPuff
{
+NOBLOCKMAP
+NOGRAVITY
+NOEXTREMEDEATH
//+PUFFONACTORS
RenderStyle Translucent
Alpha 0.6
SeeSound "sword/hit"
AttackSound "sword/wall"
ActiveSound "sword/miss"
VSpeed 1
DamageType "Marine"
States
{
  Spawn:
    PUFF ABCD 4
    Stop
  }
}

ACTOR EpicBladeProj
{
Radius 3
Height 12
Speed 48
Damage 14
RENDERSTYLE ADD
ALPHA 1.00
PROJECTILE
+MTHRUSPECIES
+FORCERADIUSDMG
+FOILINVUL
DamageType "Marine"
Seesound "minion/dart"
DeathSound "weapons/firex3"
Decal DoomImpScorch
States
 {
   Spawn:
      DKAT ABC 3 Bright A_SpawnItem("SRMDartTrail",0,0)
      loop
   Death:
      DKAT D 0 A_SetTranslucent(0.85,1)
      DKAT D 3 Bright
      TNT1 A 0 A_SpawnItemEx("RedParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
	  TNT1 AAA 0 A_CustomMissile("Kaboom10", 0, 0, random(0,360), 2, random(0,360))
	  TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
      DKAT E 3 Bright A_Explode(48,64,0)
      DKAT FGIJKLM 3 Bright
      Stop
   }
}

ACTOR EpicBladeHeadShot
{
Radius 3
Height 12
Speed 48
Damage 8
RENDERSTYLE ADD
ALPHA 1.00
PROJECTILE
DamageType "Marine"
+SEEKERMISSILE
+MTHRUSPECIES
+FORCERADIUSDMG
+FOILINVUL
Seesound "monster/dknmsl"
DeathSound "weapons/boom1"
Decal DoomImpScorch
States
{
  Spawn:
	FH3D ABCD 3 Bright A_SeekerMissile(15,15,SMF_LOOK)
	loop
  Death:
    RIP6 D 0 A_Explode(12,64,0)
    TNT1 A 0 A_SpawnItemEx("RedParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
	TNT1 AAA 0 A_CustomMissile("Kaboom10", 0, 0, random(0,360), 2, random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
	RIP6 DEFGH 5 Bright
	stop
   }
}

ACTOR LegendaryChainsaw : Weapon
{
Weapon.Selectionorder 10
Weapon.PreferredSkin "LegendaryChainsaw-Marine"
Weapon.SlotNumber 1
Weapon.AmmoUse2 5
Weapon.AmmoGive2 100
Weapon.AmmoType2 "LegendaryChainsawAmmo"
+WEAPON.AMMO_OPTIONAL
+INVENTORY.UNDROPPABLE
Inventory.PickupSound "weapons/pickupsaw"
Inventory.PickupMessage "\c[z3]Legendary Chainsaw"
Obituary "%o was sawed into many small pieces by %k with Legendary Chainsaw"
Tag "Legendary Chainsaw"
Decal ChainsawMark
States
{
  Spawn:
	CLSW A -1 Bright
	Loop
  Ready:
	TNT1 A 0 A_PlaySound("weapons/legChainSawIdle",CHAN_WEAPON,1.0,1)
	LSWH ABCDEFG 1
	LSWH H 1 A_WeaponReady
  ReadyLoop:
	LSWH ABCDEFGH 1 A_WeaponReady
	Loop
  Select:
	LSWH A 0 A_PlayWeaponSound("weapons/weapondown")
	LSWH A 0 A_Raise
	LSWH A 1 A_Raise
	Goto Select+1
  Deselect:
	TNT1 A 0
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 AAA 0 A_TakeInventory("LegendaryChainHold",1)
  DeselectLoop:
	TNT1 A 0 A_StopSound(CHAN_WEAPON)
	LSWH A 1 A_Lower
	Goto DeSelectLoop+1
  Fire:
	TNT1 A 0 
	TNT1 A 0 A_JumpIfInventory("PowerInsanitySphere",1,"Insanity")
	LSWL AB 1 Bright
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	TNT1 A 0 A_PlaySound("weapons/legChainSawAttack",CHAN_WEAPON,1.0,1)
	TNT1 AAA 0
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	LSWN B 2 Bright A_Saw("weapons","weapons/sawhit",Random(50,70),"PlayerLegSawScreech")
	TNT1 AAA 0
  Hold:
	TNT1 AAA 0 A_JumpIfInventory("LegendaryChainHold",1,"Holdloop")
	TNT1 A 0 A_PlaySound("weapons/legChainSawAttack",CHAN_WEAPON,1.0,1)
  HoldLoop:
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	LSWN C 2 Bright A_Saw("weapons","weapons/sawhit",Random(50,70),"PlayerLegSawScreech")
	TNT1 A 0 A_PlaySound("weapons/legChainSawAttack",CHAN_WEAPON,1.0,1)
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	LSWN D 2 Bright A_Saw("weapons","weapons/sawhit",Random(50,70),"PlayerLegSawScreech")
	TNT1 AAA 0 A_JumpIfInventory("LegendaryChainHold",1,"HoldRefire")
	TNT1 A 0 A_GiveInventory("LegendaryChainHold",1)
  HoldRefire:
	TNT1 A 0 A_Refire
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	LSWN E 2 Bright A_Saw("weapons","weapons/sawhit",Random(50,70),"PlayerLegSawScreech")
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	LSWN F 2 Bright A_Saw("weapons","weapons/sawhit",Random(50,70),"PlayerLegSawScreech")
  HoldEnd:
	TNT1 AAA 0 A_StopSound(CHAN_WEAPON)
	LSWL BA 4
	LSWH A 10
	Goto Ready
  Insanity:
	LSWL AB 1 Bright
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	TNT1 A 0 A_PlaySound("weapons/legChainSawAttack",CHAN_WEAPON,1.0,1)
	TNT1 AAA 0
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	LSWN B 2 Bright A_Saw("weapons","weapons/sawhit",Random(168,314),"PlayerLegSawScreech",0,192)
	TNT1 AAA 0
  InsanityHold:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("PowerInsanitySphere",1,1)
	Goto HoldLoop
	TNT1 AAA 0 A_JumpIfInventory("LegendaryChainHold",1,"InsanityHoldLoop")
	TNT1 A 0 A_PlaySound("weapons/legChainSawAttack",CHAN_WEAPON,1.0,1)
  InsanityHoldLoop:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("PowerInsanitySphere",1,1)
	Goto Hold
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	LSWN C 2 Bright A_Saw("weapons","weapons/sawhit",Random(168,314),"PlayerLegSawScreech",0,192)
	TNT1 A 0 A_PlaySound("weapons/legChainSawAttack",CHAN_WEAPON,1.0,1)
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	LSWN D 2 Bright A_Saw("weapons","weapons/sawhit",Random(168,314),"PlayerLegSawScreech",0,192)
	TNT1 AAA 0 A_JumpIfInventory("LegendaryChainHold",1,"InsanityHoldRefire")
	TNT1 A 0 A_GiveInventory("LegendaryChainHold",1)
  InsanityHoldRefire:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("PowerInsanitySphere",1,1)
	Goto HoldRefire
	TNT1 A 0 A_Refire("InsanityHold")
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	LSWN E 1 Bright A_Saw("weapons","weapons/sawhit",Random(168,314),"PlayerLegSawScreech",0,192)
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	LSWN F 1 Bright A_Saw("weapons","weapons/sawhit",Random(168,314),"PlayerLegSawScreech",0,192)
  InsanityHoldEnd:
	TNT1 AAA 0 A_StopSound(CHAN_WEAPON)
	LSWL BA 2
	LSWH A 4
	Goto Ready
  AltFire:
	TNT1 AAA 0
	TNT1 A 0 A_JumpIfNoAmmo("Ready")
	TNT1 A 0 A_JumpIfInventory("LegendaryChainsawAmmo",10,1)
	Goto Ready
	LSWA ABCBC 1 Bright
  AltHold:
	LSWA B 1 Bright A_FireCustomMissile("LegendaryChainsawRipper",0,1,-15,-10)
	LSWA C 1 Bright A_FireCustomMissile("LegendaryChainsawRipper",0,1,15,-10)
	TNT1 A 0 A_Refire
	LSWA BCBC 1 Bright
	TNT1 A 0
	TNT1 AAA 0 A_StopSound(7)
	LSWA BCBA 2
	LSWH A 10
	Goto Ready
    }
}

ACTOR LegendaryChainsawAmmo : Ammo
{
   Inventory.Amount 0
   Inventory.MaxAmount 100
   Ammo.BackpackAmount 0
   Ammo.BackpackMaxAmount 100
   Inventory.Icon "CLSWA0"
}

Actor LegendaryChainsawRipper
{
Projectile
Height 6
Radius 4
Speed 70
Scale 0.75
BounceCount 5
Damage 16
Reactiontime 4
+RIPPER
+HEXENBOUNCE
+NOTIMEFREEZE
+EXTREMEDEATH
+MTHRUSPECIES
Damagetype "Legendary"
SeeSound "weapons/nailfire"
States
{
  Spawn:
	TNT1 A 0
	//TNT1 A 0 A_PlaySound("weapons/sawrotating",CHAN_WEAPON,1.0,0)
	SAWS EFGHABCDEFGHABCDEFGHABCDEFGHABCD 2 Bright A_SeekerMissile(90,90)
	TNT1 A 0 A_CountDown
	Loop
  Death:
  XDeath:
	SAWE A 1 A_Gravity
	SAWE A 7 A_CustomMissile("LegendaryBlueParticleSpawner",0,0,180,2)
	SAWE BCDEFG 8
	Stop
	}
}

ACTOR PlayerLegSawScreech : BulletPuff
{
Scale 0.4
RenderStyle Add
Alpha 0.8
DamageType "Legendary"
AttackSound "Weapons/SawScreech"
DamageType "Legendary"
+MTHRUSPECIES
States
{
  Spawn:
	TNT1 A 0
	FX97 ABCDEFGHIJ 1 Bright A_FadeOut(0.08,1)
	Stop
}
}

ACTOR LegendaryChainHold : Ammo { Inventory.MaxAmount 1 }

ACTOR LEGRailgunAmmo : Ammo
{
   Inventory.Amount 0
   Inventory.MaxAmount 35
   Ammo.BackpackAmount 0
   Ammo.BackpackMaxAmount 35
   Inventory.Icon "LERPA0"
}

ACTOR "Legendary Gauss Cannon" : Weapon
{
Tag "Legendary Gauss Cannon"
Weapon.PreferredSkin "LegendaryRailgun-Marine"
Weapon.Selectionorder 7
Weapon.KickBack 2000
Weapon.AmmoUse 7
Weapon.AmmoGive 35
Weapon.AmmoGive2 150
Weapon.AmmoType "LEGRailgunAmmo"
Weapon.AmmoType2 "LegendaryBulletMag"
Inventory.PickupSound "weapons/pickuprg"
Inventory.Pickupmessage "\c[z3]Legendary Gauss Cannon"
Obituary "%o got body blasted in to pieces by %k's Legendary Gauss Cannon."
Decal TrueRocketScorch
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOALERT
+WEAPON.NOAUTOAIM
+INVENTORY.UNDROPPABLE
States
{
  Ready:
    TNT1 A 0 A_PlayWeaponSound("weapons/railselect")
	LERS ABCDE 1
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
	LERF A 1 A_WeaponReady
	TNT1 A 0 A_ZoomFactor(1)
    Goto Ready+6
  Deselect:
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_ZoomFactor(1)
	LERF A 1 A_Lower
    Goto Deselect+1
  Select:
    TNT1 A 0
    TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
	TNT1 A 0 A_Raise
    Wait
  ReadyZoomed:
	TNT1 A 0 A_JumpIfInventory("LEGRailgunAmmo",7,2)
	TNT1 A 0
	Goto Ready+7
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    LERZ A 1 Bright A_WeaponReady(WRF_NOBOB)
	Goto ReadyZoomed+2
  Fire:
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,"FireZoomed")
	TNT1 A 0 A_JumpIfNoAmmo("Empty")
    TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 A 0 Radius_Quake(12,4,0,1,0)
	TNT1 A 0 A_PlayWeaponSound("legendayrailgun/fire")
    LERF A 1 Bright A_FireCustomMissile("LegGaussProj",0,1,0,0)
	LERF BCDEFGHIJKLMNOP 1 Bright A_Light2
	TNT1 A 0 A_Light0
	LERF A 35
    Goto Ready+6
  FireZoomed:
	TNT1 A 0 A_JumpIfNoAmmo("Empty")
    TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(12,4,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light2
	TNT1 A 0 A_PlayWeaponSound("legendayrailgun/fire")
	LERZ A 1 Bright A_FireCustomMissile("LegGaussProj",0,1,0,0)
	LERZ A 50 Bright A_JumpIfInventory("RailgunAction",1,"UnZoom")
	TNT1 A 0 A_JumpIfNoAmmo("Empty")
	Goto ReadyZoomed
  FireZoomedGo:
	TNT1 A 0 A_Light0
	LERZ A 50 Bright A_JumpIfInventory("RailgunAction",1,"UnZoom")
	Goto ReadyZoomed
  Empty:
	LERF A 15 A_PlaySound("weapons/click2")
  AltFire:
	TNT1 A 0 A_ZoomFactor(1)
    TNT1 A 0 A_JumpIfInventory("LEGRailgunAmmo",35,2)
    TNT1 A 0 A_JumpIfInventory("LegendaryBulletMag",7,2)
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,"ZoomAgain")
	Goto Ready+6
	TNT1 A 0 A_ZoomFactor(1)
	LERR ABCD 2
	LERR E 4 A_PlayWeaponSound("weapons/demontecheject")
	LERR FGH 2
	LERR I 3
	LERR J 20 A_FireCustomMissile("LDemonTechEmptyMag", 0, 0, 0, 1)
	LERR I 1
	LERR HG 2
	LERR F 4
	LERR E 6 A_PlayWeaponSound("weapons/demontechload")
	TNT1 A 0 A_JumpIfInventory("LegendaryBulletMag",7,"Reload")
  AltFireDone:
	LERR D 4
	LERR C 3
	LERR B 2
	LERR A 4
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,"ZoomAgain")
	Goto Ready+6
  Reload:
    TNT1 A 0 A_TakeInventory("LegendaryBulletMag",1)
	TNT1 A 0 A_GiveInventory("LEGRailgunAmmo",1)
	TNT1 A 0 A_JumpIfInventory("LEGRailgunAmmo",35,"Full")
	TNT1 A 0 A_JumpIfInventory("LegendaryBulletMag",1,"Reload")
	Goto AltFireDone
  Full:
    LERR D 4
	LERR C 3
	LERR B 2
	LERR A 4
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,"ZoomAgain")
	Goto Ready+6
  Zoom:
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,"UnZoom")
    TNT1 A 0 A_GiveInventory("RailgunZoomed",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	LERZ A 1 A_ZoomFactor(5)
	Goto ReadyZoomed
  UnZoom:
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	LERZ A 1 A_ZoomFactor(1)
	Goto Ready+6
  ZoomAgain:
	LERZ A 1 A_ZoomFactor(5)
	Goto ReadyZoomed
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready+6
  GrenadeToss:
	TNT1 A 0 A_ZoomFactor(1)
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	LERS EDCBA 1
	TNT1 A 4
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,"ZoomAgain")
	Goto Ready+1
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready+6
  MineToss:
	TNT1 A 0 A_ZoomFactor(1)
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	LERS EDCBA 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5 A_JumpIfInventory("RailgunZoomed",1,"ZoomAgain")
	Goto Ready+1
  Spawn:
    LERP A -1
    Stop
    }
}

ACTOR LegGaussProj //: FastProjectile
{
Projectile
Radius 6
Height 6
Speed 250
Damage 210
DeathSound "Weapons/ClusterBoom"
MissileType "LBSRailBallTrail"
RenderStyle Add
Alpha 0.9
+THRUSPECIES
+EXTREMEDEATH
+BLOODLESSIMPACT
+NODAMAGETHRUST
+MTHRUSPECIES
+NOTIMEFREEZE
+FORCERADIUSDMG
+HEXENBOUNCE
+USEBOUNCESTATE
BounceCount 4
BounceFactor 2.0
WallBounceFactor 2.0
DamageType "Legendary"
Decal HeatScorch
States
{
  Spawn:
    CBR4 AB 1 Bright A_SpawnItemEx("LegGaussProjTrail")
    Loop
  Bounce:
	TNT1 A 0
	TNT1 A 0 A_PlayWeaponSound("cyberrail/impact")
	TNT1 A 0 A_SpawnItemEx("LegendaryBlueParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
	TNT1 AAAAAAAA 0 A_SpawnItemEx("SilentBlueKaboom",random(-32,32),random(-40,40),random(8,16),random(-4,4),random(-4,4),random(0,4),0,SXF_TRANSFERPOINTERS)
	TNT1 AAA 0 A_CustomMissile("LegendarySmokeFX4", 0, 0, random(0,360), 2, random(0,360))
    TNT1 AAAAAA 0 A_SpawnItemEx("LegendaryCannonFocusProj",random(-8,8),random(-8,8),random(-8,8),random(-3,3),random(-3,3),random(-3,3),random(0,359),SXF_NOCHECKPOSITION,64)
	CBR4 A 1 Bright A_Explode(384,156,0)
	Goto Spawn
  Death:
	TNT1 A 0
	TNT1 A 0 A_PlayWeaponSound("cyberrail/impact")
	TNT1 A 0 A_SpawnItemEx("LegendaryBlueParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
	TNT1 AAAAAAAA 0 A_SpawnItemEx("SilentBlueKaboom",random(-32,32),random(-40,40),random(8,16),random(-4,4),random(-4,4),random(0,4),0,SXF_TRANSFERPOINTERS)
	TNT1 AAA 0 A_CustomMissile("LegendarySmokeFX4", 0, 0, random(0,360), 2, random(0,360))
    TNT1 AAAAAA 0 A_SpawnItemEx("LegendaryCannonFocusProj",random(-8,8),random(-8,8),random(-8,8),random(-3,3),random(-3,3),random(-3,3),random(0,359),SXF_NOCHECKPOSITION,64)
	TNT1 A 0 A_Explode(512,84,0)
	TNT1 A 0 A_Explode(384,156,0)
	TNT1 A 25 A_Explode(64,384,0)
	Stop
}
}

ACTOR MLegGaussProj : LegGaussProj{DamageType "Marine"}

Actor LegGaussProjTrail : LBSRailBallTrail
{
States
{
  Spawn:
    TNT1 A 0
    TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
    CBR4 C 2 Bright A_FadeOut(0.1)
    Loop
  }
}

ACTOR "Legendary Quad Shotgun" : Weapon
{
  Scale 1.0
  Tag "Legendary Quad Shotgun"
  Weapon.PreferredSkin "LegendarySSG-Marine"
  Weapon.SelectionOrder 4450
  Weapon.KickBack 100
  Weapon.AmmoUse 0
  Weapon.AmmoGive 4
  Weapon.AmmoGive2 20
  Weapon.AmmoType "LegendaryQuadShell"
  Weapon.AmmoType2 "LegendaryShell"
  Inventory.PickupMessage "\c[z3]Legendary Quad Shotgun"
  Inventory.PickupSound "weapons/pickupqsg"
  Weapon.UpSound "LegendaryQuadShotgun/Up"
  Obituary "%o was destroyed by %k's Quad Shotgun."
  +WEAPON.AMMO_OPTIONAL
  +WEAPON.NOALERT
  +INVENTORY.UNDROPPABLE
  States
  {
  Ready:
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
    QH09 A 1 A_WeaponReady
    Loop
  Deselect:
    QH09 A 1 A_Lower
    Loop
  Select:
    QH09 A 1 A_Raise
    Loop
  Fire:
	TNT1 A 0 A_JumpIfInventory("LegendaryQuadShell",4,"QuadFire")
	TNT1 A 0 A_JumpIfInventory("LegendaryShell",2,"Reload")
	Goto Empty
  QuadFire:
	TNT1 A 0 A_PlaySound("LegendaryQuadShotgun/QuadFire")
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 A_Recoil(2)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
    TNT1 A 0 Radius_Quake(10,5,0,1,0)
	TNT1 A 0 A_TakeInventory("LegendaryQuadShell",4)
	TNT1 AAAAAAAAAAAA 0 A_FireCustomMissile("BlueSGTracer",random(8,-8),0,0,0,0,random(8,-8))
	TNT1 AAAAAAAAAAAA 0 A_FireCustomMissile("LegendaryQuadShotgunProjectile",random(-4,4),0,0,0,0,random(-4,4))
    QH09 B 2 Bright A_FireBullets(11.8,7.3,52,random(10,16),"LegendaryPlayerBulletPuff")
    QH09 C 2 Bright A_Light2
	TNT1 A 0 A_Light0
	QH09 D 2
	QH09 E 2
	QH09 F 3
	QH09 G 6
	QH09 GFED 2
  QuadReloadCheck:
  	TNT1 A 0 A_JumpIfInventory("LegendaryShell",4,2)
	QH09 J 2
	Goto Ready
	TNT1 A 0
	Goto ReloadFourShells
  AltFire:
    TNT1 A 0 A_JumpIfInventory("LegendaryQuadShell",4,"FireLeft")
	TNT1 A 0 A_JumpIfInventory("LegendaryQuadShell",2,1)
	Goto Reload
    TNT1 A 0 A_PlaySound("LegendaryQuadShotgun/DualFire")
    TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
    TNT1 A 0 Radius_Quake(3,3,0,1,0)
	TNT1 A 0 A_TakeInventory("LegendaryQuadShell",2)
	TNT1 AAAAAAAA 0 A_FireCustomMissile("BlueSGTracer",random(8,-8),0,0,0,0,random(8,-8))
	TNT1 AAAAAA 0 A_FireCustomMissile("LegendaryQuadShotgunProjectile",random(-4,4),0,0,0,0,random(-4,4))
    QH09 K 2 Bright A_FireBullets(11.2,7.1,20,random(10,16),"LegendaryPlayerBulletPuff")
	QH09 L 2 Bright A_Light2
	TNT1 A 0 A_Light0
	QH09 OPQPO 1
	QH09 A 1
    Goto Ready
  FireLeft:
    TNT1 A 0 A_PlaySound("LegendaryQuadShotgun/DualFire")
    TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
    TNT1 A 0 Radius_Quake(3,3,0,1,0)
	TNT1 A 0 A_TakeInventory("LegendaryQuadShell",2)
	TNT1 AAAAAAAA 0 A_FireCustomMissile("BlueSGTracer",random(8,-8),0,0,0,0,random(8,-8))
	TNT1 AAAAAA 0 A_FireCustomMissile("LegendaryQuadShotgunProjectile",random(-4,4),0,0,0,0,random(-4,4))
    QH09 M 2 Bright A_FireBullets(11.2,7.1,20,random(10,16),"LegendaryPlayerBulletPuff")
	QH09 N 2 Bright A_Light2
	TNT1 A 0 A_Light0
	QH09 OPQPO 1
	QH09 A 1
    Goto Ready
  Empty:
    QH09 A 10 A_PlayWeaponSound("weapons/click")
	TNT1 A 0 A_JumpIfInventory("LegendaryShell",4,"ReloadFourShells")
	Goto Ready
  Reload:
	TNT1 A 0 A_JumpIfInventory("LegendaryQuadShell",2,"ReloadTwoShells")
	TNT1 A 0 A_JumpIfInventory("LegendaryShell",4,"ReloadFourShells")
	Goto Empty
  ReloadFourShells:
	QH09 HI 2
	TNT1 AAAA 0 A_SpawnItemEx("BlueShellCasing",25,-2,25,Random(2,4),Random(-3,-6),Random(3,6),0)
	QS2R A 1
	QS2R A 12 A_PlayWeaponSound("LegendaryQuadShotgun/Open")
	QS2R B 1
	QS2R CD 2
	TNT1 A 0 A_TakeInventory("LegendaryShell",2)
	TNT1 A 0 A_GiveInventory("LegendaryQuadShell",2)
	QS2R E 3 A_PlayWeaponSound("LegendaryQuadShotgun/Load")
	QS2R F 3
	QS2R G 2
	QS2R H 1
	QS2R I 8
	QS2R JK 1
	QS2R LM 2
	TNT1 A 0 A_TakeInventory("LegendaryShell",2)
	TNT1 A 0 A_GiveInventory("LegendaryQuadShell",2)
	QS2R N 3 A_PlayWeaponSound("LegendaryQuadShotgun/Load")
	QS2R O 3
	QS2R P 2
	QS2R Q 2
	QH09 I 2
	QH09 H 2 A_PlayWeaponSound("LegendaryQuadShotgun/Close")
	QH09 A 2
    Goto Ready
  ReloadTwoShells:
    TNT1 A 0 A_JumpIfInventory("LegendaryShell",2,1)
	Goto Ready
	QH09 HI 2
	QS2R A 1
	TNT1 AA 0 A_SpawnItemEx("BlueShellCasing",25,-2,25,Random(2,4),Random(-3,-6),Random(3,6),0)
	QS2R I 12 A_PlayWeaponSound("LegendaryQuadShotgun/Open")
	QS2R JK 1
	QS2R LM 2
	TNT1 A 0 A_TakeInventory("LegendaryShell",2)
	TNT1 A 0 A_GiveInventory("LegendaryQuadShell",2)
	QS2R N 3 A_PlayWeaponSound("LegendaryQuadShotgun/Load")
	QS2R O 3
	QS2R P 2
	QS2R Q 2
	QH09 I 2
	QH09 H 2 A_PlayWeaponSound("LegendaryQuadShotgun/Close")
	QH09 A 2
	Goto Ready
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready
  GrenadeToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	QH09 A 1 Offset(0,30)
	QH09 A 1 Offset(0,40)
	QH09 A 1 Offset(0,50)
	QH09 A 1 Offset(0,60)
	QH09 A 1 Offset(0,70)
	TNT1 A 4 Offset(0,10)
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	QH09 A 1 Offset(0,70)
	QH09 A 1 Offset(0,60)
	QH09 A 1 Offset(0,50)
	QH09 A 1 Offset(0,40)
	QH09 A 1 Offset(0,30)
	Goto Ready
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready
  MineToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	QH09 A 1 Offset(0,30)
	QH09 A 1 Offset(0,40)
	QH09 A 1 Offset(0,50)
	QH09 A 1 Offset(0,60)
	QH09 A 1 Offset(0,70)
	TNT1 A 8 Offset(0,10)
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	QH09 A 1 Offset(0,70)
	QH09 A 1 Offset(0,60)
	QH09 A 1 Offset(0,50)
	QH09 A 1 Offset(0,40)
	QH09 A 1 Offset(0,30)
	Goto Ready
  Spawn:
    QS2S Z -1
    Stop
    }
}

Actor LegendaryQuadShotgunProjectile
{
Radius 8
Height 8
Speed 150
Damage 16
Scale 1.5
Projectile
RenderStyle Add
+SPAWNSOUNDSOURCE
+NOTIMEFREEZE
+MTHRUSPECIES
+FORCERADIUSDMG
+NODAMAGETHRUST
Alpha 0.8
SeeSound "lrball1/shot"
DeathSound "lrball1/exp"
Decal CacoScorch
DamageType "Legendary"
States
{
 Spawn:
	LRB1 ABCD 1 A_CustomMissile("LegRevBallFX",0,0,0,0)
	Loop	
 Death:
	LRB1 ABCD 4 A_SpawnItemEx("LegendaryBlueParticleSpawner",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_Explode(128,64,0) 
	TNT1 A 0 A_PlaySound("weapons/clrocketexplode")
	TNT1 A 0 A_SpawnItemEx("LegendaryBlueParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128) 
	TNT1 AAA 0 A_CustomMissile("LegendaryKaboom6", 0, 0, random(0,360), 2, random(0,360))
	TNT1 AAA 0 A_CustomMissile("LegendarySmokeFX4", 0, 0, random(0,360), 2, random(0,360))	
	LRB1 EFGHIJKLMNO 3
	Stop
}
}

ACTOR LegendaryQuadShell : Ammo
{
Inventory.Amount 0
Inventory.MaxAmount 4
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 4
Inventory.Icon "QS2SZ0"
+IGNORESKILL
}

Actor "Demon Tech Rocket Launcher" : Weapon
{
Radius 20
Height 16
Scale 0.8
Weapon.PreferredSkin "RocketLauncher-Marine"
Inventory.PickupMessage "\c[l2]Demon Tech Rocket Launcher"
Inventory.PickupSound "weapons/pickupml"
Weapon.SelectionOrder 5100
Weapon.Kickback 100
Weapon.AmmoType "DTRocketDrum"
Weapon.AmmoType2 "Missile"
Weapon.UpSound "dtechrocketlauncher/up"
Weapon.AmmoUse 1
Weapon.AmmoGive 12
Weapon.AmmoGive2 24
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOALERT
+INVENTORY.UNDROPPABLE
States
{
  Ready:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRocketLauncher",1,"ReadyUpdated")
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
    DTRL A 1 A_WeaponReady
    Loop
  ReadyUpdated:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
    PDRL A 1 A_WeaponReady
    Loop
  Deselect:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRocketLauncher",1,"DeselectingUpdated")
  Deselecting:
    DTRL A 1 A_Lower
    Loop
  DeselectingUpdated:
    PDRL A 1 A_Lower
    Loop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRocketLauncher",1,"SelectingUpdated")
  Selecting:
    DTRL A 1 A_Raise
    Loop
  SelectingUpdated:
    PDRL A 1 A_Raise
    Loop
  Fire:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRocketLauncher",1,"FireUpdated")
    TNT1 A 0 A_JumpIfNoAmmo("Empty")
	TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
    TNT1 A 0 A_Light1
	TNT1 A 0 Radius_Quake(4,3,0,1,0)
    DTRL A 2 Bright
	DTRL B 2 Bright A_Light2
	TNT1 A 0 A_JumpIfInventory("DemonTechRocketLauncherType",2,"GrenadeFire")
	TNT1 A 0 A_JumpIfInventory("DemonTechRocketLauncherType",1,"SeekerFire")
    DTRL C 4 Bright A_FireCustomMissile("DemonTechRocket")
	TNT1 A 0 A_Light0
	DTRL B 2 Bright Offset(0,40)
    DTRL D 2 Offset(0,46)
	DTRL A 2 Offset(0,52)
	DTRL A 2 Offset(0,46)
	DTRL A 2 Offset(0,40)
	TNT1 A 0 A_ReFire
    Goto Ready
  SeekerFire:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRocketLauncher",1,"SeekerFireUpdated")
    DTRL C 4 Bright A_FireCustomMissile("DemonTechSeekerRocket")
	TNT1 A 0 A_Light0
	DTRL B 2 Bright Offset(0,40)
    DTRL D 2 Offset(0,46)
	DTRL A 2 Offset(0,52)
	DTRL A 2 Offset(0,46)
	DTRL A 2 Offset(0,40)
	TNT1 A 0 A_ReFire
    Goto Ready
  GrenadeFire:
	TNT1 A 0
	TNT1 A 0 A_PlaySound("Weapons/GrenadeFire")
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRocketLauncher",1,"GrenadeFireUpdated")
    DTRL C 4 Bright A_FireCustomMissile("DemonTechGrenade",0,TRUE,0,0,0,6.328125)
	TNT1 A 0 A_Light0
	DTRL B 2 Bright Offset(0,40)
    DTRL D 2 Offset(0,46)
	DTRL A 2 Offset(0,52)
	DTRL A 2 Offset(0,46)
	DTRL A 2 Offset(0,40)
	TNT1 A 0 A_ReFire
    Goto Ready
  FireUpdated:
    TNT1 A 0 A_JumpIfNoAmmo("EmptyUpdated")
	TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
    TNT1 A 0 A_Light1
	TNT1 A 0 Radius_Quake(4,3,0,1,0)
    PDRL A 2 Bright
	PDRL B 2 Bright A_Light2
	TNT1 A 0 A_JumpIfInventory("DemonTechRocketLauncherType",2,"GrenadeFireUpdated")
	TNT1 A 0 A_JumpIfInventory("DemonTechRocketLauncherType",1,"SeekerFireUpdated")
    PDRL C 4 Bright A_FireCustomMissile("UpgradedDemonTechRocket")
	TNT1 A 0 A_Light0
	PDRL B 2 Bright Offset(0,40)
    PDRL D 2 Offset(0,46)
	PDRL A 2 Offset(0,52)
	PDRL A 2 Offset(0,46)
	PDRL A 2 Offset(0,40)
	TNT1 A 0 A_ReFire
    Goto Ready
  SeekerFireUpdated:
    PDRL C 4 Bright A_FireCustomMissile("UpgradedDemonTechSeekerRocket")
	TNT1 A 0 A_Light0
	PDRL B 2 Bright Offset(0,40)
    PDRL D 2 Offset(0,46)
	PDRL A 2 Offset(0,52)
	PDRL A 2 Offset(0,46)
	PDRL A 2 Offset(0,40)
	TNT1 A 0 A_ReFire
    Goto Ready
  GrenadeFireUpdated:
	TNT1 A 0 A_PlaySound("Weapons/GrenadeFire")
    PDRL C 4 Bright A_FireCustomMissile("UpgradedDemonTechGrenade",0,TRUE,0,-12,0,6.328125)
	TNT1 A 0 A_Light0
	PDRL B 2 Bright Offset(0,40)
    PDRL D 2 Offset(0,46)
	PDRL A 2 Offset(0,52)
	PDRL A 2 Offset(0,46)
	PDRL A 2 Offset(0,40)
	TNT1 A 0 A_ReFire
    Goto Ready
  GrenadeCheck:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRocketLauncher",1,"GrenadeCheckUpdated")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("DemonTechRocketLauncherType",2,8)
	TNT1 A 0 A_JumpIfInventory("DemonTechRocketLauncherType",1,4)
	TNT1 A 0 A_Print("Seeker Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod1")
	DTRL A 15 A_GiveInventory("DemonTechRocketLauncherType",1)
	Goto Ready
	TNT1 A 0 A_Print("Grenade Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod4")
	DTRL A 15 A_GiveInventory("DemonTechRocketLauncherType",1)
	Goto Ready
	TNT1 A 0 A_Print("Normal Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod2")
	DTRL A 15 A_TakeInventory("DemonTechRocketLauncherType",2)
	Goto Ready
  GrenadeCheckUpdated:
	TNT1 A 0
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("DemonTechRocketLauncherType",2,8)
	TNT1 A 0 A_JumpIfInventory("DemonTechRocketLauncherType",1,4)
	TNT1 A 0 A_Print("Seeker Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod1")
	PDRL A 15 A_GiveInventory("DemonTechRocketLauncherType",1)
	Goto Ready
	TNT1 A 0 A_Print("Grenade Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod4")
	PDRL A 15 A_GiveInventory("DemonTechRocketLauncherType",1)
	Goto Ready
	TNT1 A 0 A_Print("Normal Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod2")
	PDRL A 15 A_TakeInventory("DemonTechRocketLauncherType",2)
	Goto Ready
  Empty:
    DTRL A 8 A_PlayWeaponSound("weapons/click2")
  AltFire:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRocketLauncher",1,"AltFireUpdated")
  	TNT1 A 0 A_JumpIfInventory("DTRocketDrum",12,2)
    TNT1 A 0 A_JumpIfInventory("Missile",1,2)
	TNT1 A 0
	Goto Ready
	TNT1 A 0 A_JumpIfInventory("DTRocketDrum",1,"MaxReload")
	DTRL E 2 A_PlayWeaponSound("weapons/rocketdrumin")
	DTRL F 2
	DTRL G 2 A_FireCustomMissile("RocketEmptyDrumSpawner", 0, 0, 0, 1)
	DTRL H 8
	DTRL IJK 2
	DTRL LMN 2
	DTRL O 3
	TNT1 A 0 A_JumpIfInventory("Missile",1,"Reload")
  Reload:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRocketLauncher",1,"ReloadUpdated")
	TNT1 A 0 A_TakeInventory("Missile",1)
	TNT1 A 0 A_GiveInventory("DTRocketDrum",1)
	TNT1 A 0 A_JumpIfInventory("DTRocketDrum",12,2)
	TNT1 A 0 A_JumpIfInventory("Missile",1,"Reload")
	TNT1 A 0
	Goto Full
  MaxReload:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRocketLauncher",1,"MaxReloadUpdated")
	DTRL E 2 A_PlayWeaponSound("weapons/rocketdrumin")
	DTRL F 2
	DTRL G 2 A_FireCustomMissile("RocketEmptyDrumSpawner", 0, 0, 0, 1)
	DTRL H 8
	DTRL IJK 2
	DTRL LMN 2
	DTRL O 3
	TNT1 A 0 A_JumpIfInventory("RocketDrum",1,"Reload2")
  Reload2:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRocketLauncher",1,"Reload2Updated")
	TNT1 A 0 A_TakeInventory("Missile",1)
	TNT1 A 0 A_GiveInventory("DTRocketDrum",1)
	TNT1 A 0 A_JumpIfInventory("DTRocketDrum",12,"Full")
	TNT1 A 0 A_JumpIfInventory("Missile",1,"Reload2")
  Full:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechRocketLauncher",1,"FullUpdated")
	DTRL P 5
	DTRL QR 2
	DTRL A 3
	Goto Ready
  EmptyUpdated:
    PDRL A 8 A_PlayWeaponSound("weapons/click2")
  AltFireUpdated:
  	TNT1 A 0 A_JumpIfInventory("DTRocketDrum",14,2)
    TNT1 A 0 A_JumpIfInventory("Missile",1,2)
	TNT1 A 0
	Goto Ready
	TNT1 A 0 A_JumpIfInventory("DTRocketDrum",1,"MaxReloadUpdated")
	PDRL E 2 A_PlayWeaponSound("weapons/rocketdrumin")
	PDRL F 2
	PDRL G 2 A_FireCustomMissile("RocketEmptyDrumSpawner", 0, 0, 0, 1)
	PDRL H 8
	PDRL IJK 2
	PDRL LMN 2
	PDRL O 3
	TNT1 A 0 A_JumpIfInventory("Missile",1,"Reload")
  ReloadUpdated:
	TNT1 A 0 A_TakeInventory("Missile",1)
	TNT1 A 0 A_GiveInventory("DTRocketDrum",1)
	TNT1 A 0 A_JumpIfInventory("DTRocketDrum",14,2)
	TNT1 A 0 A_JumpIfInventory("Missile",1,"Reload")
	TNT1 A 0
	Goto Full
  MaxReloadUpdated:
	PDRL E 2 A_PlayWeaponSound("weapons/rocketdrumin")
	PDRL F 2
	PDRL G 2 A_FireCustomMissile("RocketEmptyDrumSpawner", 0, 0, 0, 1)
	PDRL H 8
	PDRL IJK 2
	PDRL LMN 2
	PDRL O 3
	TNT1 A 0 A_JumpIfInventory("RocketDrum",1,"Reload2Updated")
  Reload2Updated:
	TNT1 A 0 A_TakeInventory("Missile",1)
	TNT1 A 0 A_GiveInventory("DTRocketDrum",1)
	TNT1 A 0 A_JumpIfInventory("DTRocketDrum",14,"FullUpdated")
	TNT1 A 0 A_JumpIfInventory("Missile",1,"Reload2Updated")
  FullUpdated:
	PDRL P 5
	PDRL QR 2
	PDRL A 3
	Goto Ready
  Spawn:
    DTRL Z -1
    Stop
}
}

Actor DemonTechRocketLauncherType : Inventory{Inventory.MaxAmount 2}

ACTOR DTRocketDrum : Ammo
{
Inventory.Amount 0
Inventory.MaxAmount 12
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 12
Inventory.Icon "DTRLZ0"
+IGNORESKILL
}

ACTOR DemonTechRocket : NewRocket
{
Speed 42
FastSpeed 42
Damage 40
Scale 0.8
SeeSound "weapons/clrocketlaunch"
DeathSound "weapons/clrocketexplode"
+MTHRUSPECIES
+FORCERADIUSDMG
+SKYEXPLODE
DamageType "Explosion"
Decal GreenRocketScorch
States
{
  Spawn:
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(3,5),Random(-2,2))
    MIS3 A 2 Bright A_CustomMissile("ProjectileTrailParticleGreen2",Random(2,4),Random(-2,2))
    Loop
  Death:
	TNT1 A 0
    TNT1 A 0 A_Explode(152,152)
    TNT1 AAA 0 A_CustomMissile("GreenExplosionKaboom",0,0,random(0,360),2,random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
    TNT1 A 0 A_SpawnItemEx("GreenRocketExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("GreenRocketExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("GreenParticleSpawner",0,0,0,0,0,0,0,128) 
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 A 1 A_SpawnItem("GreenRocketEx")
    Stop
}
}

Actor UpgradedDemonTechRocket : DemonTechRocket
{
Speed 70
Scale 0.9
Damage 58
SeeSound "HFCyb/rocket"
DeathSound "weapons/rocklx"
+FOILINVUL
Decal RocketScorch
DamageType "MarinePierce"
States
{
  Spawn:
    TNT1 A 0 A_CustomMissile("MissileTrail",random(4,6),random(-2,2))
	CROC A 2 Bright A_CustomMissile("ProjectileTrailParticleOrange",random(4,6),random(-2,2))
	TNT1 A 0 A_CustomMissile("MissileTrail",random(4,6),random(-2,2))
	CROC B 2 Bright A_CustomMissile("ProjectileTrailParticleOrange",random(4,6),random(-2,2))
    Loop
  Death:
	TNT1 A 0
    TNT1 A 0 A_Explode
    TNT1 AAA 0 A_CustomMissile("Kaboom3",0,0,random(0,360),2,random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
    TNT1 A 0 A_SpawnItemEx("RocketExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("RocketExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("OrangeParticleSpawner",0,0,0,0,0,0,0,128) 
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,0,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,45,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,90,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,135,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,180,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,225,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,270,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,315,6)
	CROC B 6 Bright A_Explode(156,156)
	CROC CD 5 Bright A_SetTranslucent(0.75,1)
    Stop
}
}

Actor UpgradedDemonTechRocketBoom
{
Radius 8
Height 8
Speed 12
Damage 0
Projectile
Renderstyle Add
+RIPPER
+BLOODLESSIMPACT
+FORCERADIUSDMG
+NODAMAGETHRUST
+FOILINVUL
+BRIGHT
SeeSound "weapons/firex3"
Damagetype "MarinePierce"
Alpha 0.8
States
{
  Spawn:
	TNT1 AAAAA 3 A_SpawnItem("UpgradedDemonTechRocketBoomFX",0,0)
	Stop
}
}

Actor UpgradedDemonTechRocketBoomFX : UpgradedDemonTechRocketBoom
{   
Radius 5
Height 5
Speed 0
Damagetype "MarinePierce"
States
{
  Spawn:
	ICYX A 3
	ICYX B 3 A_Explode(32,128)
	ICYX CDEFGHIJ 3
	Stop
}
}

ACTOR DemonTechSeekerRocket : DemonTechRocket
{
Speed 29
Damage 28
FastSpeed 20
Scale 1.0
+SEEKERMISSILE
SeeSound "monster/homingrockfire"
States
{
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIG A 0 A_CustomMissile("ProjectileTrailParticleGreen",Random(0,2),Random(-2,2))
    HMIG AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIG A 0 A_CustomMissile("ProjectileTrailParticleGreen",Random(0,2),Random(-2,2))
    HMIG AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIG A 0 A_CustomMissile("ProjectileTrailParticleGreen",Random(0,2),Random(-2,2))
    HMIG AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIG A 0 A_CustomMissile("ProjectileTrailParticleGreen",Random(0,2),Random(-2,2))
    HMIG AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)	
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIG A 0 A_CustomMissile("ProjectileTrailParticleGreen",Random(0,2),Random(-2,2))
    HMIG AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIG A 0 A_CustomMissile("ProjectileTrailParticleGreen",Random(0,2),Random(-2,2))
    HMIG AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIG A 0 A_CustomMissile("ProjectileTrailParticleGreen",Random(0,2),Random(-2,2))
    HMIG AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIG A 0 A_CustomMissile("ProjectileTrailParticleGreen",Random(0,2),Random(-2,2))
    HMIG AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_PlaySound("monster/homingrockbeep")	
    Loop
  Death:
	TNT1 A 0
    TNT1 A 0 A_Explode(128,152)
    TNT1 AAA 0 A_CustomMissile("Kaboom4",0,0,random(0,360),2,random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
    TNT1 A 0 A_SpawnItemEx("GreenRocketExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("GreenRocketExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("GreenParticleSpawner",0,0,0,0,0,0,0,128) 
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 A 1 A_SpawnItem("GreenRocketEx")
    Stop
}
}

Actor UpgradedDemonTechSeekerRocket : DemonTechSeekerRocket
{
Scale 1.1
Damage 40
DeathSound "weapons/rocklx"
+FOILINVUL
Decal RocketScorch
DamageType "MarinePierce"
States
{
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIS A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIS A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIS A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIS A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)	
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIS A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIS A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIS A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_BishopMissileWeave
    TNT1 A 0 A_CustomMissile("MissileTrail",Random(0,2),Random(-2,2))
    HMIS A 0 A_CustomMissile("ProjectileTrailParticleOrange",Random(0,2),Random(-2,2))
    HMIS AA 1 Bright A_SeekerMissile(25,50,SMF_LOOK|SMF_PRECISE)
	TNT1 A 0 A_PlaySound("monster/homingrockbeep")	
    Loop
  Death:
	TNT1 A 0
    TNT1 A 0 A_Explode(140,182)
    TNT1 AAA 0 A_CustomMissile("Kaboom3",0,0,random(0,360),2,random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
    TNT1 A 0 A_SpawnItemEx("RocketExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("RocketExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("OrangeParticleSpawner",0,0,0,0,0,0,0,128) 
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,0,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,90,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,180,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,270,6)
    TNT1 A 1 A_SpawnItem("RocketEx")
    Stop
}
}

ACTOR DemonTechGrenade : UpdatedGrenade
{
Damage 28
+FORCERADIUSDMG
DeathSound "weapons/clrocketexplode"
Scale 1.0
States
{
  Spawn:
    TNT1 A 0
    DRND A 1 A_CustomMissile("GrenadeTrail",Random(-1,1),Random(-1,1))     		
    Loop
  Death:
	TNT1 A 0
    TNT1 A 0 A_Explode(212,156)
    TNT1 AAA 0 A_CustomMissile("GreenExplosionKaboom",0,0,random(0,360),2,random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
    TNT1 A 0 A_SpawnItemEx("GreenGrenadeExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("GreenGrenadeExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("GreenParticleSpawner",0,0,0,0,0,0,0,128) 
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 A 1 A_SpawnItem("GreenRocketEx")
    Stop
}
}

Actor UpgradedDemonTechGrenade : HeavyGrenade
{
Speed 70
Scale 1.1
Damage 48
DeathSound "weapons/rocklx"
+FOILINVUL
DamageType "MarinePierce"
States
{
  Spawn:
    TNT1 A 0
	TNT1 A 0 A_StopSound
  SpawnLoop:
    NGRN A 1 A_CustomMissile("GrenadeTrail",Random(-1,1),Random(-1,1))     		
    Loop
  Death:
	TNT1 A 0
    TNT1 A 0 A_ChangeFlag(NOGRAVITY,TRUE)
    TNT1 A 0 A_ChangeFlag(DONTFALL,TRUE)
    TNT1 A 0 A_Stop
    TNT1 A 0 A_Explode(352,256)
    TNT1 AAA 0 A_CustomMissile("Kaboom3",0,0,random(0,360),2,random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
    TNT1 A 0 A_SpawnItemEx("RocketExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("RocketExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("OrangeParticleSpawner",0,0,0,0,0,0,0,128) 
    TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,random(4,-4),random(4,-4),random(4,8),0,128)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,0,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,45,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,90,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,135,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,180,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,225,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,270,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,315,6)
    TNT1 A 1 A_SpawnItem("RocketEx")
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,0,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,45,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,90,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,135,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,180,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,225,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,270,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,315,6)
    TNT1 A 17 A_SpawnItem("RocketEx")
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,0,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,45,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,90,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,135,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,180,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,225,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,270,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,315,6)
    TNT1 A 17 A_SpawnItem("RocketEx")
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,0,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,45,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,90,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,135,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,180,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,225,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,270,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,315,6)
    TNT1 A 17 A_SpawnItem("RocketEx")
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,0,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,45,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,90,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,135,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,180,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,225,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,270,6)
    TNT1 A 0 A_CustomMissile("UpgradedDemonTechRocketBoom",0,0,315,6)
    TNT1 A 17 A_SpawnItem("RocketEx")
    Stop
}
}

ACTOR "Demon Tech Ballista" : Weapon
{
Scale 0.95
Weapon.PreferredSkin "DTBallista-Marine"
Weapon.SelectionOrder 7980
Weapon.AmmoUse 1
Weapon.AmmoGive 60
Weapon.AmmoType "DemonAmmo"
Weapon.AmmoUse1 5
Weapon.AmmoUse2 1
Weapon.AmmoType2 "DemonAmmo"
Weapon.KickBack 60
Weapon.UpSound "dtballista/up"
Inventory.Pickupmessage "\c[l2]Demon Tech Ballista"
Inventory.Icon "DTBIA0"
Obituary "%o was pierced by %k's Demon Tech Ballista."
+WEAPON.NOAUTOAIM
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOALERT
+INVENTORY.UNDROPPABLE
States
{
  Ready:
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechBallista",1,"ReadyUpgraded")
	TNT1 A 0 A_PlaySound("weapons/demontechidle")
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DTBG A 4 A_WeaponReady
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DTBG B 4 A_WeaponReady
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DTBG C 4 A_WeaponReady
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DTBG D 4 A_WeaponReady
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DTBG C 4 A_WeaponReady
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DTBG B 4 A_WeaponReady
	Loop
  ReadyUpgraded:
	TNT1 A 0 A_PlaySound("weapons/demontechidle")
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	B0WG A 4 A_WeaponReady
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	B0WG B 4 A_WeaponReady
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	B0WG C 4 A_WeaponReady
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	B0WG D 4 A_WeaponReady
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	B0WG C 4 A_WeaponReady
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	B0WG B 4 A_WeaponReady
	Loop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechBallista",1,"SelectingUpgraded")
  Selecting:
	DTBG ABCD 1 A_Raise
	Loop
  SelectingUpgraded:
	B0WG ABCD 1 A_Raise
	Loop
  Deselect:
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechBallista",1,"DeselectingUpgraded")
  Deselecting:
	DTBG ABCD 1 A_Lower
	Loop
  DeselectingUpgraded:
	B0WG ABCD 1 A_Lower
	Loop
  Fire:
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",5,1)
	Goto Empty
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechBallista",1,"FireUpgraded")
	TNT1 A 0 A_PlaySound("weapons/BallistaFire")
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlayWeaponSound("weapons/demontechfire")
	TNT1 A 0 A_FireCustomMissile("DTechBalistaRapidShot",0,1,0,2,0)
	DTBF A 2 Bright
	TNT1 A 0 A_Light0
	DTBF BCD 1
	DTBF EFG 2
	DTBF JK 2
	DTBG E 10
	DTBG FG 2
	DTBG A 1 A_WeaponReady
	Goto Ready
  FireUpgraded:
	TNT1 A 0 A_PlaySound("weapons/BallistaFire")
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlayWeaponSound("weapons/demontechfire")
	TNT1 A 0 A_PlaySound("FutureTechBallista/Shoting")
	TNT1 A 0 A_PlayWeaponSound("FutureTechBallista/Firing")
	B0WF A 1 Bright A_FireCustomMissile("FutureTechBallistaBall",0,1)
	B0WF BCD 1 Bright
	B0WF E 4
	B0WF E 1 A_PlaySound("FutureTechBallista/Reloading")
	B0WF E 1 Offset(0,31) 
	B0WF F 1 Offset(0,32)
	B0WF F 1 Offset(0,30)
	B0WF G 1 Offset(0,31)
	B0WF HI 1 Offset(0,32)
	B0WG CDB 1 Bright Offset(0,32)
	TNT1 A 0 A_ReFire
	Goto Ready
  AltFire:
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",5,1)
	Goto Empty
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechBallista",1,"AltFireUpgraded")
	TNT1 A 0 A_PlaySound("weapons/BallistaFire")
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlayWeaponSound("weapons/demontechfire")
	TNT1 A 0 A_FireCustomMissile("DemonTechProjectile",Random(-20,-15)*0.1,1,0,8,0,Random(-5,5)*0.1)
	TNT1 A 0 A_FireCustomMissile("DemonTechProjectile",Random(-10,-5)*0.1,1,0,8,0,Random(-5,5)*0.1)
	TNT1 A 0 A_FireCustomMissile("DemonTechProjectile",Random(-2,2)*0.1,1,0,8,0,Random(-5,5)*0.1)
	TNT1 A 0 A_FireCustomMissile("DemonTechProjectile",Random(5,10)*0.1,1,0,8,0,Random(-5,5)*0.1)
	TNT1 A 0 A_FireCustomMissile("DemonTechProjectile",Random(15,20)*0.1,1,0,8,0,Random(-5,5)*0.1)
	DTBF A 2 Bright
	TNT1 A 0 A_Light0
	DTBF BCD 1
	DTBF EFG 2
	DTBF JK 2
	DTBG E 10
	DTBG FG 2
	DTBG A 1 A_WeaponReady
	Goto Ready
  AltFireUpgraded:
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",40,1)
	Goto Empty
	TNT1 A 0 A_PlaySound("weapons/BallistaFire")
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_TakeInventory("DemonAmmo",40,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_PlayWeaponSound("FutureTechBallista/Fire")
	B0WF A 2 Bright A_FireCustomMissile("FutureTechBallistaProj",0,0)
	B0WF BCD 2 Bright
	B0WF E 5
	B0WF E 2 Offset(0,31) 
	B0WF F 2 Offset(0,32)
	B0WF F 2 Offset(0,30)
	B0WF G 30 Offset(0,31)
	TNT1 A 0 A_PlayWeaponSound("FutureTechBallista/Reload")
	B0WF HI 1 Offset(0,32)
	B0WG CDB 3 Bright Offset(0,32)
	B0WG B 7 Bright Offset(0,32)
	TNT1 A 0 A_ReFire
	Goto Ready
  Empty:
	TNT1 A 0 A_PlayWeaponSound("weapons/click")
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechBallista",1,"EmptyUpgraded")
	DTBF EFGJK 2
	Goto Ready
  EmptyUpgraded:
	B0WF EFGJK 2
	Goto Ready
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready
  GrenadeToss:
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechBallista",1,"GrenadeTossUpgraded")
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	DTBG A 1 Offset(0,30)
	DTBG A 1 Offset(0,40)
	DTBG A 1 Offset(0,50)
	DTBG A 1 Offset(0,60)
	DTBG A 1 Offset(0,70)
	TNT1 A 4 Offset(0,10)
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	DTBG A 1 Offset(0,70)
	DTBG A 1 Offset(0,60)
	DTBG A 1 Offset(0,50)
	DTBG A 1 Offset(0,40)
	DTBG A 1 Offset(0,30)
	Goto Ready
  GrenadeTossUpgraded:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	B0WG A 1 Offset(0,30)
	B0WG A 1 Offset(0,40)
	B0WG A 1 Offset(0,50)
	B0WG A 1 Offset(0,60)
	B0WG A 1 Offset(0,70)
	TNT1 A 4 Offset(0,10)
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	B0WG A 1 Offset(0,70)
	B0WG A 1 Offset(0,60)
	B0WG A 1 Offset(0,50)
	B0WG A 1 Offset(0,40)
	B0WG A 1 Offset(0,30)
	Goto Ready
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready
  MineToss:
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderDemonTechBallista",1,"MineTossUpgraded")
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	DTBG A 1 Offset(0,30)
	DTBG A 1 Offset(0,40)
	DTBG A 1 Offset(0,50)
	DTBG A 1 Offset(0,60)
	DTBG A 1 Offset(0,70)
	TNT1 A 8 Offset(0,10)
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	DTBG A 1 Offset(0,70)
	DTBG A 1 Offset(0,60)
	DTBG A 1 Offset(0,50)
	DTBG A 1 Offset(0,40)
	DTBG A 1 Offset(0,30)
	Goto Ready
  MineTossUpgraded:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	B0WG A 1 Offset(0,30)
	B0WG A 1 Offset(0,40)
	B0WG A 1 Offset(0,50)
	B0WG A 1 Offset(0,60)
	B0WG A 1 Offset(0,70)
	TNT1 A 8 Offset(0,10)
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	B0WG A 1 Offset(0,70)
	B0WG A 1 Offset(0,60)
	B0WG A 1 Offset(0,50)
	B0WG A 1 Offset(0,40)
	B0WG A 1 Offset(0,30)
	Goto Ready
  Spawn:
	DTBI A -1
	Stop
}
}

Actor DTechBalistaRapidShot
{
Projectile
Radius 8
Height 12
Damage 40
Speed 90
Renderstyle Add
Alpha 0.90
DeathSound "weapons/demontechex"
+MTHRUSPECIES
+FORCERADIUSDMG
States
{
  Spawn:
	FVN1 ABCD 1 Bright A_SpawnItemEx("PoisonTrail",0,0,0,0,0,0,0,0,10)
	Loop
  Death:
	TNT1 A 0 A_SpawnItemEx("GreenParticleSpawnerDT", 0, 0, 0, 0, 0, 0, 0, 128)
	TNT1 A 0 A_SpawnItemEx("DemonTechEx",0,0,0,0,0,0,0,128,0)
	TNT1 AAA 0 A_CustomMissile("Kaboom7", 0, 0, random(0,360), 2, random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
	TNT1 A 0 A_Explode(64,64)
	FVN1 EFGHIJ 3 Bright
	Stop
}
}

ACTOR "Demon Tech Pistol" : Weapon
{
Weapon.PreferredSkin "Handgun-Marine"
Weapon.SelectionOrder 5000
Weapon.KickBack 60
Inventory.PickupSound "weapons/pickuptp"
Weapon.AmmoGive 20
Weapon.AmmoGive2 40
Weapon.AmmoUse 1
Weapon.AmmoType "DTPistolMagazine"
Weapon.AmmoType2 "DemonAmmo"
Weapon.UpSound "dtpistol/up"
Inventory.Pickupmessage "\c[l2]Demon Tech Pistol"
Obituary "%o caught one right between the eyes by %k's Pistol."
+NOAUTOFIRE
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOALERT
+INVENTORY.UNDROPPABLE
States
{
  Ready:
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	DTPI A 1 A_WeaponReady
	Loop
  Deselect:
	DTPI A 1 A_Lower
	Loop
  Select:
	DTPI A 1 A_Raise
	Loop
  Fire:
	TNT1 A 0 A_JumpIfNoAmmo("Empty")
	TNT1 A 0 A_PlaySound("dtpistol/fire")
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
	TNT1 A 0 A_FireCustomMissile("DTPistolMissileBullet",Random(-8,8)*0.1,1,1,8,0,Random(-4,4)*0.1)
	TNT1 A 0 A_Light1
	DTPI C 2 Bright A_GunFlash
	TNT1 A 0 A_Light0
	DTPI D 1
	TNT1 A 0 A_JumpIfNoAmmo("EmptyRecoil")
	DTPI D 2
	DTPI EEA 2 A_WeaponReady
	DTPI A 1
	Goto Ready
   EmptyRecoil:
	DTPI OOOO 2
	DTPI O 1
	Goto Ready
   Empty:
	DTPI O 10 A_PlayWeaponSound("weapons/click")
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",1,"AltFire")
	Goto Ready
   AltFire:
	TNT1 A 0 A_JumpIfInventory("DTPistolMagazine",20,"Ready")
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",1,2)
	TNT1 A 0
	Goto Ready
	TNT1 A 0 A_JumpIfInventory("DTPistolMagazine",1,"MaxReload")
	DTPI F 2 A_PlaySound("weapons/pistolclipout")
	DTPI GHIJ 2
	DTPI K 6 A_FireCustomMissile("PistolEmptyMagSpawner", 0, 0, 0, 1)
	DTPI LM 5
	DTPI N 4 A_PlayWeaponSound("weapons/pistolclipin")
	DTPI O 2 A_PlayWeaponSound("weapons/pistolsnap")
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",1,"Reload")
   Reload:
	TNT1 A 0 A_TakeInventory("DemonAmmo",1)
	TNT1 A 0 A_GiveInventory("DTPistolMagazine",1)
	TNT1 A 0 A_JumpIfInventory("DTPistolMagazine",19,"Full")
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",1,"Reload")
	Goto Full
   MaxReload:
	DTPI F 2 A_PlaySound("weapons/pistolclipout")
	DTPI GHIJ 2
	DTPI K 6 A_FireCustomMissile("PistolEmptyMagSpawner", 0, 0, 0, 1)
	DTPI LM 5
	DTPI N 4 A_PlayWeaponSound("weapons/pistolclipin")
	DTPI O 2 A_PlayWeaponSound("weapons/pistolsnap")
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",1,"Reload2")
   Reload2:
	TNT1 A 0 A_TakeInventory("DemonAmmo",1)
	TNT1 A 0 A_GiveInventory("DTPistolMagazine",1)
	TNT1 A 0 A_JumpIfInventory("DTPistolMagazine",20,"Full")
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",1,"Reload2")
   Full:
	DTPI A 1
	Goto Ready
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready
  GrenadeToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	DTPI A 1 Offset(0,30)
	DTPI A 1 Offset(0,40)
	DTPI A 1 Offset(0,50)
	DTPI A 1 Offset(0,60)
	DTPI A 1 Offset(0,70)
	TNT1 A 4 Offset(0,10)
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	DTPI A 1 Offset(0,70)
	DTPI A 1 Offset(0,60)
	DTPI A 1 Offset(0,50)
	DTPI A 1 Offset(0,40)
	DTPI A 1 Offset(0,30)
	Goto Ready
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready
  MineToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	DTPI A 1 Offset(0,30)
	DTPI A 1 Offset(0,40)
	DTPI A 1 Offset(0,50)
	DTPI A 1 Offset(0,60)
	DTPI A 1 Offset(0,70)
	TNT1 A 8 Offset(0,10)
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	DTPI A 1 Offset(0,70)
	DTPI A 1 Offset(0,60)
	DTPI A 1 Offset(0,50)
	DTPI A 1 Offset(0,40)
	DTPI A 1 Offset(0,30)
	Goto Ready
  Spawn:
	DTPI Z -1
	Stop
}
}

ACTOR DTPistolMagazine : Ammo
{
Inventory.Amount 0
Inventory.MaxAmount 20
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 20
Inventory.Icon "DTPIZ0"
+IGNORESKILL
}

Actor DTPistolMissileBullet : GreenExpMissileBullet
{
Projectile
+RANDOMIZE
+FORCEXYBILLBOARD
+DONTSPLASH
+MTHRUSPECIES
+FORCERADIUSDMG
Damage 10
Speed 144
RenderStyle ADD
Alpha 0.9
Scale 0.25
DeathSound "weapons/demontechex"
Decal DTRScorch
States
{
    Spawn:
	 TRA2 A 1 BRIGHT
	 Loop
   Death:
   	 TNT1 A 0
	 TNT1 A 0 A_SpawnItemEx("GreenParticleSpawnerDT", 0, 0, 0, 0, 0, 0, 0, 128)
	 TNT1 AAA 0 A_CustomMissile("Kaboom7", 0, 0, random(0,360), 2, random(0,360))
	 TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
	 TNT1 A 20 A_Explode(16,38,0)
     Stop
}
}


ACTOR MDTPistolMissileBullet : DTPistolMissileBullet
{
Damage 6
DamageType "Marine" 
States
{
    Spawn:
	 TRA2 A 1 BRIGHT
	 Loop
   Death:
   	 TNT1 A 0
	 TNT1 A 0 A_SpawnItemEx("GreenParticleSpawnerDT", 0, 0, 0, 0, 0, 0, 0, 128)
	 TNT1 AAA 0 A_CustomMissile("Kaboom7", 0, 0, random(0,360), 2, random(0,360))
	 TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
	 TNT1 A 20 A_Explode(8,38,0)
     Stop
}
}

ACTOR ExplosiveSSG : Weapon
{
  Inventory.PickupMessage "\c[z4]Explosive Double Barrel Shotgun"
  Inventory.PickupSound "weapons/pickupssg"
  Weapon.PreferredSkin "DoubleBarrelSG-Marine"
  Weapon.KickBack 100
  Weapon.AmmoUse 1
  Weapon.AmmoGive 2
  Weapon.AmmoGive2 8
  Weapon.AmmoType "ExpSSGShell"
  Weapon.AmmoType2 "NewShell"
  Scale 0.9
  +Weapon.Ammo_Optional
  +Weapon.NoAlert
  Tag "Explosive Double Barrel Shotgun"
  States
  {
  Spawn:
	3GN2 A -1
	Stop
  Deselect:
    TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	3HD2 EDCBA 1
  DeselectLoop:
	TNT1 A 0 A_Lower
	TNT1 A 1 A_Lower
	Loop
  Select:
	TNT1 A 0 A_Raise
    Wait
  Ready:
    TNT1 A 0 A_PlayWeaponSound("weapons/pickupssg")
	3HD2 ABCDEFGHIJK 1
  ReadyLoop:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	3HT2 A 1 A_WeaponReady
	Loop
  Empty:
    3HT2 A 10 A_PlaySound("weapons/click")
	Goto ReadyLoop
  Fire:
	TNT1 A 0 A_JumpIfInventory("ExpSSGShell",2,"FireBoth")
	TNT1 A 0 A_JumpIfInventory("NewShell",1,"Reload")
	Goto Empty
  FireBoth:
    TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 A 0 Radius_Quake(6,3,0,1,0)
	TNT1 A 0 A_TakeInventory("ExpSSGShell",2)
	TNT1 A 0 A_PlaySound("ExpSSG/Fire",7)
	TNT1 AAAAAAAAAAAAAAAAAAAAA 0 A_FireCustomMissile("PlayerExplosiveTracer",Random(-8,8),0,0,0,0,frandom(-4,4))
	TNT1 AA 0 A_FireCustomMissile("PlayerExplosiveTracer",Random(-8,8),1,0,0,0,frandom(-4,4))
	3HT2 C 1 Bright A_FireBullets(8,6,20,Random(5,7),"ModdedBulletPuff")
	3HT2 D 1 Bright
	3HT2 E 1 Bright
	3HT2 B 1 Offset(0,52)
	3HT2 B 1 Offset(0,55)
	3HT2 B 1 Offset(0,54)
	3HT2 A 1 Offset(0,49)
	3HT2 A 1 Offset(0,44)
	3HT2 A 1 Offset(0,38)
  SSGReloadCheck:
  	TNT1 A 0 A_JumpIfInventory("NewShell",2,2)
	3HT2 A 2
	Goto ReadyLoop
	TNT1 A 0
	Goto ReloadBoth+1
  AltFire:
    TNT1 A 0 A_JumpIfInventory("ExpSSGShell",2,"FireRight")
	TNT1 A 0 A_JumpIfInventory("ExpSSGShell",1,1)
	Goto Reload
    TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
    TNT1 A 0 Radius_Quake(3,3,0,1,0)
	TNT1 A 0 A_TakeInventory("ExpSSGShell",1)
	TNT1 A 0 A_PlayWeaponSound("ExpSSG/Fire2")
	TNT1 AAAAAAAAA 0 A_FireCustomMissile("PlayerExplosiveTracer",Random(-2,2),0,0,0,0,frandom(-2,2))
	TNT1 A 0 A_FireCustomMissile("PlayerExplosiveTracer",Random(-2,2),1,0,0,0,frandom(-2,2))
	3HL2 C 1 Bright A_FireBullets(4.0,3.0,10,Random(5,7),"ModdedBulletPuff")
	3HL2 D 1 BRIGHT
	3HT2 B 1 Offset(1,40)
	3HT2 B 1 Offset(1,45)
	3HT2 B 1 Offset(2,48)
	3HT2 A 1 Offset(2,46)
	3HT2 A 1 Offset(1,44)
	3HT2 A 1 Offset(1,41)
	Goto ReadyLoop
  FireRight:
    TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
    TNT1 A 0 Radius_Quake(3,3,0,1,0)
	TNT1 A 0 A_TakeInventory("ExpSSGShell",1)
	TNT1 A 0 A_PlayWeaponSound("ExpSSG/Fire2")
	TNT1 AAAAAAAAA 0 A_FireCustomMissile("PlayerExplosiveTracer",Random(-2,2),0,0,0,0,frandom(-2,2))
	TNT1 A 0 A_FireCustomMissile("PlayerExplosiveTracer",Random(-2,2),1,0,0,0,frandom(-2,2))
	3HR2 C 1 Bright A_FireBullets(4.0,3.0,10,Random(5,7),"ModdedBulletPuff")
	3HR2 D 1 BRIGHT
	3HT2 A 1 Offset(-1,40)
	3HT2 A 1 Offset(-1,45)
	3HT2 A 1 Offset(-2,48)
	3HT2 A 1 Offset(-2,46)
	3HT2 A 1 Offset(-1,44)
	3HT2 A 1 Offset(-1,41)
	Goto ReadyLoop
  Reload:
	TNT1 A 0 A_JumpIfInventory("ExpSSGShell",1,"ReloadRight")
	TNT1 A 0 A_JumpIfInventory("NewShell",2,"ReloadBoth")
	Goto Empty
  ReloadBoth:
    TNT1 A 0 A_JumpIfInventory("NewShell",2,1)
	Goto ReadyLoop
	3HT2 BFFGGHH 1
	3HT2 I 1 A_PlayWeaponSound("weapons/qsgopen")
	3HT2 I 2
	3HT2 X 2
	TNT1 A 0 A_TakeInventory("NewShell",2,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_GiveInventory("ExpSSGShell",2)
	3HT2 J 1
	3HT2 K 2
	TNT1 AA 0 A_SpawnItemEx("SSGShellCasing",25,2,25,Random(-2,-4),Random(3,6),Random(3,6),0)
	3HT2 L 4
	3HT2 MN 2
	3HT2 O 2 A_PlayWeaponSound("weapons/qsgshellslide")
	3HT2 P 2
	3HT2 Q 2
	3HT2 RST 2
	3HT2 U 2 A_PlayWeaponSound("weapons/qsgshellslide")
	3HT2 VWX 2
	3HT2 Y 2 A_PlayWeaponSound("weapons/qsgclose")
	3HT2 HGFB 2
	Goto ReadyLoop
  ReloadRight:
	3HT2 BFFGGHH 1
	3HT2 I 1 A_PlayWeaponSound("weapons/qsgopen")
	3HT2 I 2
	3HT2 X 2
	3HT7 J 1
	3HT7 K 2
	TNT1 A 0 A_SpawnItemEx("SSGShellCasing",25,2,25,Random(-2,-4),Random(3,6),Random(3,6),0)
	3HT7 L 4
	3HT7 MN 2
	3HT7 O 2 A_PlayWeaponSound("weapons/qsgshellslide")
	3HT7 P 2
	TNT1 A 0 A_TakeInventory("NewShell",1,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_GiveInventory("ExpSSGShell",1)
	3HT2 WX 2
	3HT2 Y 2 A_PlayWeaponSound("weapons/qsgclose")
	3HT2 HGFB 2
	Goto ReadyLoop
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto ReadyLoop
  GrenadeToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	3HD2 EDCBA 1
	TNT1 A 4
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	3HD2 ABCDEFGHIJK 1
	Goto ReadyLoop
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto ReadyLoop
  MineToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	3HD2 EDCBA 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	3HD2 ABCDEFGHIJK 1
	Goto ReadyLoop
	}
}

ACTOR ExpSSGShell : Ammo
{
Inventory.Amount 0
Inventory.MaxAmount 2
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 2
Inventory.Icon "3GN2A0"
+IGNORESKILL
}

ACTOR ExplosiveRailgun : Weapon
{
Scale 0.8
Weapon.PreferredSkin "Railgun-Marine"
Weapon.Selectionorder 4001
Weapon.KickBack 200
Weapon.AmmoUse 15
Weapon.AmmoGive 90
Weapon.AmmoGive2 120
Weapon.AmmoType "EXPCellCharge"
Weapon.AmmoType2 "NewCell"
Inventory.PickupSound "weapons/pickuprg"
Inventory.Pickupmessage "\c[z4]Explosive Railgun"
Weapon.UpSound "weapons/railselect"
Obituary "%o sucked on %k's Railgun slug."
Tag "Explosive Railgun"
Decal Scorch
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOALERT
+WEAPON.NOAUTOAIM
+INVENTORY.UNDROPPABLE
States
{
  Ready:
	ERGD ABCDEF 1
  ReadyLoop:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
	TNT1 A 0 A_ZoomFactor(1)
	EXRG A 1 A_WeaponReady
    Loop
  ReadyZoomed:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    XRGS A 1 Bright A_WeaponReady(WRF_NOBOB)
    Loop
  Deselect:
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_ZoomFactor(1)
	EXRG A 1 A_Lower
    Goto Deselect+1
  Select:
    TNT1 A 0
    TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
	TNT1 A 0 A_Raise
    Wait
  Fire:
    TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,"FireZoomed")
    TNT1 A 0 A_JumpIfNoAmmo("Empty")
    TNT1 A 0 A_JumpIfInventory("WeaponUpgraderExplosiveRailgun",1,"FireUpgraded")
    TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(12,4,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 A 0 A_FireCustomMissile("ExplosiveRailgunImpact",0,0)
	TNT1 A 0 A_PlaySound("ExplosiveRailgun/Fire",7)
    EXRG B 3 Bright A_RailAttack(200,0,1,None,None,RGF_SILENT,0,"PlayerRailPuff",0,0,0,0,40,0,"ExplosiveRailgunTrail")
	EXRG C 3 Bright A_Light2
	TNT1 A 0 A_Light0
	EXRG DEFGHIJK 3
	EXRG A 30
    Goto Ready+7
  FireZoomed:
	TNT1 A 0 A_JumpIfNoAmmo("Empty")
    TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(12,4,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light2
	TNT1 A 0 A_FireCustomMissile("ExplosiveRailgunImpact",0,0)
	TNT1 A 0 A_PlaySound("ExplosiveRailgun/Fire",7)
	XRGS A 4 Bright A_RailAttack(200,0,1,None,None,RGF_SILENT,0,"PlayerRailPuff",0,0,0,0,40,0,"ExplosiveRailgunTrail")
	XRGS A 50 A_Light0
	TNT1 A 0 A_JumpIfNoAmmo("Empty")
	Goto ReadyZoomed
  FireUpgraded:
    TNT1 A 0 A_JumpIfInventory("EXPCellCharge",3,2)
    TNT1 A 0 A_Jump(256,"FireUpgradedEnd")
    TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(12,4,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 A 0 A_PlaySound("FusionRailgun/Fire",1)
    TNT1 A 0 A_TakeInventory("EXPCellCharge",3,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_FireCustomMissile("FusionRailgunImpact",0,0)
    EXRG BCBC 2 Bright A_RailAttack(30,0,0,None,None,RGF_SILENT,0,"PlayerRailPuff",0,0,0,0,40,0,"FusionRailgunTrail")
	TNT1 A 0 A_Light2
    TNT1 A 0 A_TakeInventory("EXPCellCharge",3,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_FireCustomMissile("FusionRailgunImpact",0,0)
    EXRG BCBC 2 Bright A_RailAttack(30,0,0,None,None,RGF_SILENT,0,"PlayerRailPuff",0,0,0,0,40,0,"FusionRailgunTrail")
	TNT1 A 0 A_Light2
    TNT1 A 0 A_TakeInventory("EXPCellCharge",3,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_FireCustomMissile("FusionRailgunImpact",0,0)
    EXRG BCBC 2 Bright A_RailAttack(30,0,0,None,None,RGF_SILENT,0,"PlayerRailPuff",0,0,0,0,40,0,"FusionRailgunTrail")
	TNT1 A 0 A_Light2
    TNT1 A 0 A_TakeInventory("EXPCellCharge",3,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_FireCustomMissile("FusionRailgunImpact",0,0)
    EXRG BCBC 2 Bright A_RailAttack(30,0,0,None,None,RGF_SILENT,0,"PlayerRailPuff",0,0,0,0,40,0,"FusionRailgunTrail")
    TNT1 A 0 A_Refire("FireUpgradedLoop")
  FireUpgradedLoop:
    TNT1 A 0 A_JumpIfInventory("EXPCellCharge",3,2)
    TNT1 A 0 A_Jump(256,"FireUpgradedEnd")
	TNT1 A 0 A_PlaySound("FusionRailgun/Loop",1,1.0,TRUE)
	TNT1 A 0 A_Light2
    TNT1 A 0 A_TakeInventory("EXPCellCharge",3,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_FireCustomMissile("FusionRailgunImpact",0,0)
    EXRG BCBC 2 Bright A_RailAttack(30,0,0,None,None,RGF_SILENT,0,"PlayerRailPuff",0,0,0,0,40,0,"FusionRailgunTrail")
    TNT1 A 0 A_Refire("FireUpgradedLoop")
  FireUpgradedEnd:
	TNT1 A 0 A_PlaySound("FusionRailgun/End",1)
	TNT1 A 0 A_Light0
	EXRG DEFGHIJK 3
	EXRG A 30
    TNT1 A 0 A_JumpIfInventory("EXPCellCharge",3,2)
    TNT1 A 0 A_Jump(256,"Empty")
	EXRG A 1
    Goto Ready+7
  Empty:
    EXRG A 15 A_PlaySound("weapons/click2")
  AltFire:
	TNT1 A 0 A_ZoomFactor(1)
    TNT1 A 0 A_JumpIfInventory("EXPCellCharge",90,2)
    TNT1 A 0 A_JumpIfInventory("NewCell",15,2)
	TNT1 A 0
	Goto ReadyLoop
	TNT1 A 0 A_ZoomFactor(1)
	ERGR AAABCDE 1
	ERGR F 4 A_PlayWeaponSound("weapons/cellreload")
	ERGR GHI 2
	ERGR JJKK 1
	ERGR L 1 A_FireCustomMissile("CellCasingSpawner", random(-13,-15), 0, 2, 1)
	ERGR MNOP 1
	ERGR Q 30
	ERGR RSTU 1
	ERGR VW 2
	TNT1 A 0 A_JumpIfInventory("NewCell",15,"Reload")
	ERGR X 4 A_PlayWeaponSound("weapons/plasmacellin")
	EXRG A 10
	Goto ReadyLoop
  Reload:
    TNT1 A 0 A_TakeInventory("NewCell",15)
	TNT1 A 0 A_GiveInventory("EXPCellCharge",15)
	TNT1 A 0 A_JumpIfInventory("EXPCellCharge",90,"Full")
	TNT1 A 0 A_JumpIfInventory("NewCell",1,"Reload")
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,"ZoomAgain")
	Goto AltFire+34//35
  Full:
    TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,"ZoomAgain")
	Goto AltFire+34//35
  Zoom:
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,"UnZoom")
    TNT1 A 0 A_GiveInventory("RailgunZoomed",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	EXRG A 9 A_ZoomFactor(5)
	Goto ReadyZoomed
  ZoomAgain:
	EXRG A 9 A_ZoomFactor(5)
	Goto ReadyZoomed
  UnZoom:
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	EXRG A 9 A_ZoomFactor(1)
	Goto ReadyLoop
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,2)
	TNT1 A 0 A_ZoomFactor(1)
	Goto ReadyLoop
    TNT1 A 0
	Goto ReadyZoomed
  GrenadeToss:
	TNT1 A 0 A_ZoomFactor(1)
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	ERGD CBA 2
	TNT1 A 4
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,"ZoomAgain")
	Goto Ready
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,2)
	TNT1 A 0 A_ZoomFactor(1)
	Goto ReadyLoop
    TNT1 A 0
	Goto ReadyZoomed
  MineToss:
	TNT1 A 0 A_ZoomFactor(1)
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	ERGD CBA 2
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5 A_JumpIfInventory("RailgunZoomed",1,"ZoomAgain")
	Goto Ready
  Spawn:
    ERGP A -1
    Stop
}
}

ACTOR ExplosiveRailgunImpact : FastProjectile
{
Speed 300
Radius 2
Height 2
RenderStyle Add
Alpha 0.85
+THRUACTORS
+FORCERADIUSDMG
+MTHRUSPECIES
+SKYEXPLODE
//MissileType "ExplosiveRailgunTrailExplodeSpawner"
MissileHeight 8
States
{
  Spawn:
	TNT1 AAAAAAA 0 A_SpawnItemEx("ExplosiveRailgunTrailExplode",random(0,4),0,0,random(0,4),0,random(-4,4),random(0,360))
	TNT1 A 1
	Loop
  Death:
	TNT1 A 0
	TNT1 A 0 A_Explode(256,256,0)
	TNT1 A 0 A_PlaySound("digger/explode")
    TNT1 A 0 A_SpawnItemEx("HugeExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("HugeExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 AAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("HugeExplosionParticle",random(64,-64),random(64,-64),random(64,-64),random(8,-8),random(8,-8),random(8,-8),0,128)
	TNT1 AAAAAAAAAAA 1 A_SpawnItemEx("HugeExplosionKaboom",0,0,0,frandom(-4,4),frandom(-4,4),frandom(-4,4))
	TNT1 AAAAA 0 A_SpawnItemEx("HugeExplosionSmoke",random(16,-16),random(16,-16),random(16,-16),random(8,-8),random(8,-8),random(0,6),0,128)
	TNT1 A 25
	Stop
}
}

ACTOR ExplosiveRailgunTrailExplodeSpawner
{
States
{
  Spawn:
	TNT1 A 1 Nodelay A_SpawnItemEx("ExplosiveRailgunTrailExplode",random(0,4),0,0,random(0,4),0,random(-4,4),random(0,360))
	Stop
}
}

ACTOR ExplosiveRailgunTrail : CardinalRailTrail
{
-CLIENTSIDEONLY
Scale 0.8
States
{
  Spawn:
	RGPR ABCDEFGHIJKLMNOP 2 A_FadeOut(0.04)
	Stop
}
}

ACTOR ExplosiveRailgunTrailExplode
{
Renderstyle Add
Alpha 0.75
Projectile
+FORCERADIUSDMG
+DONTSPLASH
+FORCEXYBILLBOARD
+NOCLIP
+NODAMAGETHRUST
+MTHRUSPECIES
//Scale 0.65
Scale 1.25
DamageType "Marine"
Species "Player"
States
{
  Spawn:
	TNT1 A 0
	FXPO AB 2 Bright A_FadeOut(0.05)
	TNT1 A 0 A_Explode(40,128,0,0,40)
	FXPO CD 1 Bright A_FadeOut(0.05)
	TNT1 A 0 A_Explode(40,128,0,0,40)
	FXPO EF 1 Bright A_FadeOut(0.05)
	TNT1 A 0 A_Explode(40,128,0,0,40)
	FXPO GHIJKLM 1 Bright A_FadeOut(0.05)
	Stop
}
}

ACTOR FusionRailgunImpact : ExplosiveRailgunImpact
{
-THRUACTORS
+FOILINVUL
+NODAMAGETHRUST
DamageType "MarineKaboom"
Speed 600
States
{
  Spawn:
	TNT1 AAAAAAA 0 A_SpawnItemEx("FusionRailgunTrailExplode",random(0,4),0,0,random(0,4),0,random(-4,4),random(0,360))
	TNT1 A 1
	Loop
  Death:
	TNT1 A 0
	TNT1 A 0 A_Explode(128,384,0)
    TNT1 A 0 A_SpawnItemEx("DiggerExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("DiggerExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 AAA 0 A_SpawnItemEx("HugeExplosionParticle",random(64,-64),random(64,-64),random(64,-64),random(8,-8),random(8,-8),random(8,-8),0,128)
	TNT1 AAAA 1 A_SpawnItemEx("DiggerExplosionKaboom",0,0,0,frandom(-4,4),frandom(-4,4),frandom(-4,4))
	TNT1 A 0 A_SpawnItemEx("HugeExplosionSmoke",random(16,-16),random(16,-16),random(16,-16),random(8,-8),random(8,-8),random(0,6),0,128)
	TNT1 A 25
	Stop
}
}

ACTOR FusionRailgunTrailExplode : ExplosiveRailgunTrailExplode
{
Damagetype "MarinePierce"
Alpha 0.85
+FOILINVUL
States
{
  Spawn:
	MISL B 6 Bright A_Explode(10,128,0,0,40)
	MISL C 5 Bright A_Explode(40,128,0,0,40)
	MISL D 5 Bright A_Explode(40,128,0,0,40)
	Stop
}
}

ACTOR FusionRailgunTrail : ExplosiveRailgunTrail
{
Scale 0.4
States
{
  Spawn:
	//RGPR ABCDEFGHIJKLMNOP 1 A_FadeOut(0.07)
	RGPR ACFHJLNP 1 A_FadeOut(0.13)
	Stop
}
}

ACTOR EXPCellCharge : Ammo
{
Inventory.Amount 0
Inventory.MaxAmount 90
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 90
Inventory.Icon "ERGPA0"
+IGNORESKILL
}

Actor HellStormBFGType : Inventory{Inventory.MaxAmount 1}

Actor HellStormBFGCooldown : Ammo
{
	Inventory.Amount 0
	Inventory.MaxAmount 90
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 90
	Inventory.Icon "HFG2A0"
	+IGNORESKILL
}

ACTOR HellStormBFG : Weapon
{
  Scale 0.85
  Weapon.PreferredSkin "BFG10K-Marine"
  Weapon.SelectionOrder 2880
  Weapon.Kickback 100	
  Weapon.AmmoType "DemonAmmo"
  Weapon.AmmoUse 20
  Weapon.AmmoType2 "HellStormBFGCooldown"
  //Weapon.AmmoUse2 100
  Weapon.AmmoGive 200
  Inventory.PickupMessage "\c[m6]HellStorm BFG10K"
  Inventory.PickupSound "weapons/pickup15k"
  Weapon.UpSound "weapons/pickup15k"
  Obituary "%o was trashed and scattered in a Hellstorm by %k's HellStrom BFG10K."
  Tag "HellStorm BFG10K"
  +INVENTORY.UNDROPPABLE
  States
  {
  Spawn:
    HFG2 A -1
    Stop
  Ready:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
    TNT1 A 0 A_PlayWeaponSound("weapons/Hbfg10kidle")
    HG2G AAABBBCCCDDD 1 A_WeaponReady
    Loop
  Deselect:
  	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
  Deselecting:
	HG2G A 1 A_Lower
    Loop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
	TNT1 A 0
    HG2G A 1 A_Raise
    Loop
  Fire:
    HG2G E 25 A_PlayWeaponSound("weapons/Hcharge10k")
    HG2G F 4
    HG2G GHIJ 1
    Goto Hold
  Hold:
    HG2G J 1 A_GunFlash
    HG2G K 1
	TNT1 A 0 A_PlaySound("weapons/Hbfg10kfire",6)
	TNT1 A 0 Radius_Quake(12,3,0,1,0)
	HG2G KK 0 A_FireCustomMissile("HSBFG10kShot",Random(-4,4),0,0,0,0,Random(-3,3))
	HG2G K 1 A_FireCustomMissile("HSBFG10kShot",Random(-4,4),1,0,0,0,Random(-3,3))
    HG2G LMNA 1
	TNT1 A 0 A_Refire
    HG2G A 35 A_PlaySound("weapons/Hbfg10kcooldown")
    Goto Ready
  AltFire:
	HG2G A 0 
	HG2G A 0 A_JumpIfInventory("HellStormBFGType",1,"ArmageddonFire")
	HG2G A 0 A_JumpIfInventory("DemonAmmo",100,2) 
	HG2G A 0 A_Print("The Shockwave Fire requires 100 Demon Cells!")
    Goto Empty
    HG2G E 25 A_PlayWeaponSound("HellStormBFG/Charge2")
    HG2G F 4
    HG2G GHIJ 1
    HG2G J 1 A_GunFlash
    HG2G K 1
	TNT1 A 0 A_PlaySound("HellStormBFG/Fire2",6)
	TNT1 A 0 Radius_Quake(12,3,0,1,0)
	TNT1 A 0 A_Recoil(20)
	HG2G K 1 A_FireCustomMissile("HSBFG10kBigShot",0,0,0,0,0,0)
    TNT1 A 0 A_TakeInventory("DemonAmmo",100,TIF_NOTAKEINFINITE)
    HG2G LMNA 1
    HG2G A 34 A_PlaySound("weapons/Hbfg10kcooldown")
	HG2G A 1 A_Refire
    Goto Ready
  ArmageddonFire:
	HG2G A 0 
	HG2G A 0 A_JumpIfInventory("DemonAmmo",1800,2) 
	HG2G A 0 A_Print("The Armageddon Fire requires 1800 Demon Cells!")
    Goto Empty
	HG2G A 0 A_JumpIfInventory("HellStormBFGCooldown",1,2) 
	HG2G A 0 A_Jump(256,2)
	HG2G A 0 A_Print("The Armageddon Fire is in cooldown!")
    Goto Empty
    HG2G E 25 A_PlayWeaponSound("weapons/Hbfg10kcharge")
    HG2G F 4
    HG2G GHIJ 1
    HG2G J 1 A_GunFlash
    HG2G K 1
	TNT1 A 0 A_PlaySound("weapons/Hbfg10kshoot",6)
	TNT1 A 0 Radius_Quake(12,3,0,1,0)
    TNT1 A 0 A_GiveInventory("HellStormBFGCooldown",90)
    TNT1 A 0 A_TakeInventory("DemonAmmo",1800)
	TNT1 A 0 A_Recoil(35)
	HG2G K 1 A_FireCustomMissile("HSBFG10kMegaShot",0,0,0,0,0,0)
    HG2G LMNA 1
    HG2G A 34 A_PlaySound("weapons/Hbfg10kcooldown")
	HG2G A 1 A_Refire
    Goto Ready
  GrenadeCheck:
	TNT1 A 0
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderHellStormBFG",1,2)
	TNT1 A 0 A_Print("Requires Weapon Upgrade!")
	Goto Empty
	HG2G A 0 A_JumpIfInventory("HellStormBFGType",1,4)
	HG2G A 0 A_Print("Altfire: Armageddon Mod")
	HG2G A 0 A_PlayWeaponSound("Weapon/Mod4")
	HG2G A 15 A_GiveInventory("HellStormBFGType",1)
	Goto Ready
	HG2G A 0 A_Print("Altfire: Shockwave Mod")
	HG2G A 0 A_PlayWeaponSound("Weapon/Mod3")
	HG2G A 15 A_TakeInventory("HellStormBFGType",1)
	Goto Ready
  Empty:
	HG2G A 0
	HG2G A 15 A_PlaySound("sentry/warn")
	Goto Ready
  Flash:
    TNT1 A 2 A_Light1
    TNT1 A 2 A_Light2
	TNT1 A 2 A_Light1
    Goto Stop
  }
}

Actor HSBFG10kShot
{
Radius 6
Height 6
Damage 40
Speed 65
Scale 0.35
PROJECTILE
+FORCERADIUSDMG
+FORCEXYBILLBOARD
+SKYEXPLODE
+MTHRUSPECIES
+NODAMAGETHRUST
-NOGRAVITY
Gravity 0.5
Renderstyle Add
Alpha 0.75
SeeSound "Weapons/HS10KFIRE"
//DeathSound "weapons/bfg95explode"
Obituary "Totally anihilated himself with a Hellstorm BFG!"
Decal DoomImpScorch
States
{
  Spawn:
	HFP3 AB 2 Bright A_SpawnItem("HSBFG10KGhostA")
	Loop
  Death:
    HPE3 A 0
    HPE3 A 0 A_ChangeFlag("NOGRAVITY",TRUE)
    TNT1 A 0 A_SpawnItemEx("BFGMiniShockwaveRed",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_Explode(16,64)
	TNT1 A 0 A_PlaySound("shockwave/sound")
	HFP3 ABABAB 2 Bright
    TNT1 A 0 A_SpawnItemEx("BFGMiniShockwaveRed",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_Explode(16,64)
	TNT1 A 0 A_PlaySound("shockwave/sound")
	HFP3 ABABAB 2 Bright
    TNT1 A 0 A_SpawnItemEx("BFGMiniShockwaveRed",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_Explode(16,64)
	TNT1 A 0 A_PlaySound("shockwave/sound")
	HFP3 ABABAB 2 Bright
    TNT1 A 0 A_SpawnItemEx("BFGMiniShockwaveRed",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_Explode(16,64)
	TNT1 A 0 A_PlaySound("shockwave/sound")
	HFP3 ABABAB 2 Bright
    TNT1 A 0 A_SpawnItemEx("BFGMiniShockwaveRed",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_Explode(16,64)
	TNT1 A 0 A_PlaySound("shockwave/sound")
	HFP3 ABABAB 2 Bright
	TNT1 A 0 A_Explode(156,88)
	TNT1 A 0 A_PlayWeaponSound("weapons/bfg95explode")
	TNT1 A 0 A_SpawnItemEx("BFGShockwaveRed", 0, 0, 0, 0, 0, 0, 0, 128)
	TNT1 AA 0 A_SpawnItemEx("RedParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
    TNT1 AAAA 0 A_CustomMissile("Kaboom14", 0, 0, random(0,360), 2, random(0,360))
    HPE3 ABCDEF 4 Bright
    Stop
  }
}

Actor HSBFG10kBigShot
{
Radius 8
Height 8
Damage 250
Speed 55
Scale 1.7
Projectile
+FORCERADIUSDMG
+FORCEXYBILLBOARD
+NOEXTREMEDEATH
+SKYEXPLODE
+MTHRUSPECIES
-NOGRAVITY
Gravity 0.5
Renderstyle Add
Alpha 0.75
SeeSound "Weapons/HS10KFIRE"
DeathSound "weapons/Hbfg10kexplode"
Obituary "Totally anihilated himself with a Hellstorm BFG!"
Decal BFG9500LightningRed
States
{
  Spawn:
   	TNT1 A 0 
    TNT1 A 0 A_SpawnItemEx("RedLightningEffect",0,0,0,0,0,0,0,0,128,200)
   	TNT1 A 0 A_SpawnItemEx("UpdatedSentientBFG9500BallParticle",frandom(-60,60),frandom(-60,60),frandom(-60,60),velx*0.9,vely*0.9,velz*0.9,0,SXF_ABSOLUTEVELOCITY)
	HFP3 AB 2 Bright A_SpawnItemEx("DevastatorTrail",0,0,10)
	Loop
  Death:
	TNT1 A 0
    TNT1 A 0 A_ChangeFlag("NOGRAVITY",TRUE)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kBigShotExplosion")
    HPE3 ABCDEF 3 Bright A_Explode(276,434)
    Stop
  }
}

Actor HSBFG10kMegaShot : HSBFG10kBigShot
{
Speed 64
Radius 20
Height 20
Damage 1000
Scale 8.0
SeeSound ""
DeathSound ""
DamageType "Kaboom"
+NODAMAGETHRUST
+FOILINVUL
States
{
  Spawn:
	TNT1 A 0 
	TNT1 A 0 A_Explode(256,512,0)
	YAS3 ABCD 1 Bright A_SpawnItemEx("HSBFG10kMegaShotTail",0,random(-16,16),random(-16,16))
	Loop
  Death:
	TNT1 A 0
    TNT1 A 0 A_ChangeFlag("NOGRAVITY",TRUE)
	TNT1 A 0 A_PlaySound("weapons/Hbfg10kkaboom",1,1.0,0,ATTN_NONE)
	TNT1 A 0 A_Quake(4,156,0,4000,0)
	YAS3 ABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDABCDAB 2 Bright A_GiveInventory("HSBFG10kMegaShotExploding",1)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotExplosionSpawner")
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
    HPE3 AAA 2 Bright A_Explode(256,1024)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
    HPE3 AAA 2 Bright A_Explode(256,1024)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
    HPE3 AAA 2 Bright A_Explode(256,1024)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
    HPE3 AAA 2 Bright A_Explode(256,1024)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
    HPE3 BBB 2 Bright A_Explode(256,1024)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
    HPE3 BBB 2 Bright A_Explode(256,1024)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
    HPE3 BBB 2 Bright A_Explode(256,1024)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
    HPE3 CCC 2 Bright A_Explode(256,1024)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
    HPE3 CCC 2 Bright A_Explode(256,1024)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
    HPE3 CCC 2 Bright A_Explode(256,1024)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
    HPE3 DDD 2 Bright A_Explode(256,1024)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
    HPE3 DDD 2 Bright A_Explode(256,1024)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
    HPE3 DDD 2 Bright A_Explode(256,1024)
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotShockWaveExpode",0,0,0,0,0,0,0,128)
	//TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("HSBFG10kMegaFlameSpawner",0,0,20,random(-12,12),random(-12,12),random(-12,12))
	TNT1 AAAAAAAA 0 A_CustomMissile("HSBFG10kBigShotIlding",24,0,random(0,359),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-40,40))
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotKaboomSpawner")
	TNT1 A 0 A_SpawnItemEx("HSBFG10kMegaShotExplosion",0,0,0,0,0,3,0,128)
    HPE3 EF 3 Bright A_Explode(1024,2048)
    Stop	
}
}

Actor HSBFG10kBigShotIlding : HSBFG10kBigShot
{
Speed 30
+NOGRAVITY
+HEXENBOUNCE
+CANBOUNCEWATER
+SEEKERMISSILE
+FOILINVUL
BounceCount 16
ReactionTime 108
DamageType "Kaboom"
var int user_delay;
States
{
  Spawn:
	TNT1 A 0 
	TNT1 A 0 A_JumpIf(user_delay >= 35,"Fly")
	TNT1 A 0 A_Countdown
	TNT1 A 0 A_SetUserVar("user_delay",user_delay+1)
    TNT1 A 0 A_SpawnItemEx("RedLightningEffect",0,0,0,0,0,0,0,0,128,200)
   	TNT1 A 0 A_SpawnItemEx("UpdatedSentientBFG9500BallParticle",frandom(-60,60),frandom(-60,60),frandom(-60,60),velx*0.9,vely*0.9,velz*0.9,0,SXF_ABSOLUTEVELOCITY)
	HFP3 A 0 A_CustomMissile("DevastatorTrail",10,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	HFP3 AA 1 Bright A_ChangeVelocity(frandom(-4,4),frandom(-4,4),frandom(-2,2),0)
	HFP3 B 0 A_CustomMissile("DevastatorTrail",10,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	HFP3 BB 1 Bright A_ChangeVelocity(frandom(-4,4),frandom(-4,4),frandom(-2,2),0)
	Loop
  Fly:
	TNT1 A 0 
	TNT1 A 0 A_Countdown
    TNT1 A 0 A_SpawnItemEx("RedLightningEffect",0,0,0,0,0,0,0,0,128,200)
   	TNT1 A 0 A_SpawnItemEx("UpdatedSentientBFG9500BallParticle",frandom(-60,60),frandom(-60,60),frandom(-60,60),velx*0.9,vely*0.9,velz*0.9,0,SXF_ABSOLUTEVELOCITY)
	HFP3 A 0 A_CustomMissile("DevastatorTrail",10,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	HFP3 AA 1 Bright A_SeekerMissile(30,45,SMF_LOOK)
	HFP3 B 0 A_CustomMissile("DevastatorTrail",10,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	HFP3 BB 1 Bright A_SeekerMissile(30,45,SMF_LOOK) 
    Loop
}
}

/* OLD VERSION - DEMON TECH REPEATER
Actor "Demon Tech Repeater" : Weapon
{
Tag "Demon Tech Repeater"
Weapon.SelectionOrder 9
Weapon.PreferredSkin "DTRepeater-Marine"
Weapon.KickBack 10
Weapon.AmmoGive 160
Weapon.AmmoUse 2
Weapon.AmmoType "DemonAmmo"
Weapon.AmmoUse2 2
Weapon.AmmoType2 "DemonAmmo"
Weapon.UpSound "DemonTechRepeater/Draw"
AttackSound "Weapons/RepeaterFire"
Inventory.PickupSound "DemonTechRepeater/Pickup"
Inventory.PickupMessage "Demon Tech Repeater"
+INVENTORY.UNDROPPABLE
+WEAPON.NOALERT
Scale 0.8
Decal DTRScorch
States
{
  Spawn:
    DTRP Z -1
    Loop
  Ready:
    DTRP A 1 A_WeaponReady
    Loop
  Deselect:
    TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
    TNT1 A 0 A_TakeInventory("MineAction",1)
    TNT1 A 0 A_TakeInventory("RailgunAction",1)
    DTRP A 0 A_Lower
    DTRP A 1 A_Lower
    Loop
  Select:
    DTRP A 0 A_Raise
    DTRP A 1 A_Raise
    Loop
  Fire:
    DTRP A 0 A_PlaySound("Weapons/RepeaterSpinup")
    DTRP ABCD 4
    DTRP ABCD 3
    DTRP ABCD 2
    DTRP A 0 A_Refire
    DTRP A 0 A_PlaySound("Weapons/RepeaterSpindown")
    DTRP ABCD 3
    DTRP ABCD 4
    Goto Ready
  Hold:
    DTRP E 0 A_Gunflash
    DTRP E 0 A_AlertMonsters
    DTRP E 2 Bright A_FireBullets(5,4,2,12,"DemonTechRepeaterPuff",1,10240)
    DTRP B 2
    DTRP G 0 A_AlertMonsters
    DTRP F 2 Bright A_FireBullets(5,4,2,12,"DemonTechRepeaterPuff",1,10240)
    DTRP D 2 Bright
    DTRP A 0 A_Refire
    DTRP A 0 A_PlaySound("Weapons/RepeaterSpindown")
    DTRP ABCD 3
    DTRP ABCD 4
    Goto Ready
  AltFire:
    DTRP A 8
    TNT1 A 0 Radius_Quake(4,2,0,1,0)
    TNT1 A 0 A_Light1
    TNT1 A 0 A_GunFlash
    TNT1 A 0 A_PlaySound("weapons/demontechfire")
    DTRP E 0 A_FireCustomMissile("DemonTechRepeaterProjectile",0,1,6,-6,0,0)
    DTRP E 0 A_FireCustomMissile("DemonTechRepeaterProjectile",0,1,6,6,0,0)
    DTRP E 0 A_FireCustomMissile("DemonTechRepeaterProjectile",0,1,-6,-6,0,0)
    DTRP E 4 Bright A_FireCustomMissile("DemonTechRepeaterProjectile",0,1,-6,6,0,0)
    DTRP A 1 Offset(0,32)
    DTRP A 1 Offset(0,36)
    DTRP A 1 Offset(0,40)
    DTRP A 1 Offset(0,44)
    DTRP A 1 Offset(0,40)
    DTRP A 1 Offset(0,36)
    DTRP A 1 Offset(0,32)
    DTRP A 1 A_Refire
    DTRP A 8
    Goto Ready
  Flash:
    TNT1 A 2 A_Light2
    TNT1 A 2 A_Light1
    TNT1 A 0 A_Light0
    Stop
  }
}
*/

Actor "Demon Tech Repeater" : Weapon
{
Tag "Demon Tech Repeater"
Weapon.SelectionOrder 9
Weapon.PreferredSkin "DTRepeater-Marine"
Weapon.KickBack 10
Weapon.AmmoGive 160
Weapon.AmmoUse 2
Weapon.AmmoType "DemonAmmo"
Weapon.AmmoUse2 2 
Weapon.AmmoType2 "DemonAmmo"
Weapon.UpSound "DemonTechRepeater/Draw"
AttackSound "Weapons/NewRepeaterFire"
Inventory.PickupSound "DemonTechRepeater/Pickup"
Inventory.PickupMessage "\c[l2]Demon Tech Repeater"
+INVENTORY.UNDROPPABLE
+WEAPON.NOALERT
Scale 0.8
Decal DTRScorch
States 
{
  Spawn:
    DTRP Z -1
    Loop
  Ready:
    DTRN ABCDEF 1 
    Goto Ready2
  Ready2:
    DTRN F 1 A_WeaponReady
    Loop
  Deselect:
    TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
    TNT1 A 0 A_TakeInventory("MineAction",1)
    TNT1 A 0 A_TakeInventory("RailgunAction",1)
    DTRN RSTUVW 1
	TNT1 A 0 A_Lower
    Wait
  Select:
	TNT1 A 0 A_Raise
	Wait
  Fire:
    DTRN O 0 A_PlaySound("Weapons/NewRepeaterSpinup")
    DTRN FGHIJ 3
    DTRN FGHI 2
    DTRN JFGHIJ 1
	DTRN FGHIJKL 1
    DTRN O 0 A_Refire
    DTRN O 0 A_PlaySound("Weapons/NewRepeaterSpindown")
    DTRN FGHIJ 2
    DTRN FGHIJ 3
    Goto Ready2
  Hold:
    DTRN M 0 A_Gunflash
    DTRN M 0 A_AlertMonsters
	//DTRN M 0 A_PlaySound("Weapons/NewRepeaterFire", 1 | CHAN_NOSTOP, 1, false, ATTN_NONE)
    DTRN M 1 Bright A_FireBullets(5,4,2,12,"DemonTechRepeaterPuff",1,10240)
    DTRN NOQ 1
	DTRN Q 0 A_Refire
    DTRN Q 0 A_PlaySound("Weapons/NewRepeaterSpindown")
    DTRN HIJ 2
    DTRN FGHIJ 3
    Goto Ready2
  AltFire:
    DTRN FGHIJKL 2
    TNT1 A 0 Radius_Quake(4,2,0,1,0)
    TNT1 A 0 A_Light1
    TNT1 A 0 A_GunFlash
    TNT1 A 0 A_PlaySound("Weapons/NewRepeaterAltFire")
    DTRN M 0 A_FireCustomMissile("DemonTechRepeaterProjectile",0,1,6,-6,0,0)
    DTRN M 0 A_FireCustomMissile("DemonTechRepeaterProjectile",0,1,6,6,0,0)
    DTRN M 0 A_FireCustomMissile("DemonTechRepeaterProjectile",0,1,-6,-6,0,0)
    DTRN M 1 Bright A_FireCustomMissile("DemonTechRepeaterProjectile",0,1,-6,6,0,0)
	DTRN NOPQHIJ 1
    DTRN O 0 A_Refire
    DTRN FGHIJ 1
    Goto Ready2
  Flash:
    TNT1 A 2 A_Light2
    TNT1 A 2 A_Light1
    TNT1 A 0 A_Light0
    Stop
}
}

Actor DemonTechRepeaterPuff
{
Radius 3
Height 3
RenderStyle Add
Alpha 0.75
+NOBLOCKMAP
+NOGRAVITY
+ACTIVATEIMPACT
+ACTIVATEPCROSS
+BLOODLESSIMPACT
+NOTELEPORT
+PUFFONACTORS
+ALWAYSPUFF
+NODAMAGETHRUST
+FORCERADIUSDMG
+PUFFGETSOWNER
+MTHRUSPECIES
Damagetype "Marine"
Scale 0.25
States
{
  Spawn:
	TNT1 A 0
    TNT1 A 0 A_Explode(24,64,0)
    TNT1 A 0 A_SpawnItemEx("GreenRocketExplosionFlare",0,0,0,0,0,0,0,128)
    TNT1 A 0 A_SpawnItemEx("GreenRocketExplosionShockWave",0,0,0,0,0,0,0,128)
	TNT1 A 0 A_SpawnItemEx("GreenParticleSpawner",0,0,0,0,0,0,0,128) 
    TNT1 A 10 A_SpawnItem("GreenRepeaterEx")
    Stop
}
}

Actor DemonTechRepeaterProjectile
{
Projectile
Speed 38
Damage 35
Scale 0.35
+FORCEXYBILLBOARD
+MTHRUSPECIES
RenderStyle Translucent
Alpha 1
ExplosionRadius 150
ExplosionDamage 8
Decal "Scorch"
DamageType "Marine"
SeeSound "devil/scream"
DeathSound "imp/shotx"
States
{
	Spawn:
    TNT1 A 0 A_BishopMissileWeave
    S4B4 A 1 Bright A_SpawnItem("DemonTechRepeaterProjectileFlare")
    TNT1 A 0 A_BishopMissileWeave
    S4B4 B 1 Bright A_SpawnItem("DemonTechRepeaterProjectileFlare")
    Loop
  Death:
    TNT1 A 0
    TNT1 A 0 A_SpawnItemEx("GreenParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
	TNT1 AAA 0 A_CustomMissile("Kaboom7", 0, 0, random(0,360), 2, random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
    TNT1 A 0 A_Explode(16,64)
    BRB2 KLMNOPQRSTUVWX 3 Bright
    Stop
}
}

Actor DemonTechRepeaterProjectileFlare
{
+NOINTERACTION
+NOGRAVITY
+CLIENTSIDEONLY
Renderstyle Add
radius 1
Height 1
Alpha 0.4
Scale 0.25
States
{
  Spawn:
    TNT1 A 0
    TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
    L8NG A 2 Bright
    Stop
  Toaster:
    TNT1 A 1
    Stop
}
}

Actor Perforator : Weapon
{
Tag "Perforator"
Weapon.AmmoUse 15
Weapon.AmmoUse2 15
Weapon.AmmoGive 105
Weapon.AmmoType "BulletMag"
Weapon.AmmoType2 "BulletMag"
Weapon.PreferredSkin "GrenadeLauncher-Marine"
Weapon.UpSound "Pulverizer/Up"
Inventory.PickupMessage "\c[z4]Perforator"
Inventory.PickupSound "Pulverizer/In"
Obituary "%o was perforated by %k."
+INVENTORY.UNDROPPABLE
Scale 1.25
States
{
  Spawn:
	PLVZ A -1
	Loop
  Ready:
	PLVZ B 1 A_WeaponReady
	Loop
  Deselect:
	TNT1 A 0
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
  DeselectLoop:
	PLVZ B 1 A_Lower
	Loop
  Select:
	PLVZ B 1 A_Raise
	Loop
  Fire:
	TNT1 A 0 A_JumpIfNoAmmo("Empty")
	PLVZ C 4 Bright A_GunFlash
	TNT1 A 0 A_PlayWeaponSound("Pulverizer/Fire")
	TNT1 A 0 Radius_Quake(4,3,0,1,0)
	TNT1 A 0 A_FireCustomMissile("PulverizerProjectile",0,1,0,4) 
	PLVZ D 2 Bright Offset(0,32)
	PLVZ D 2 Bright Offset(0,36)
	PLVZ E 2 Bright Offset(0,40)
	PLVZ E 2 Bright Offset(0,44)
	PLVZ F 2 Bright Offset(0,40)
	PLVZ F 2 Bright Offset(0,36)
    PLVZ F 2 Bright Offset(0,32)
    PLVZ BBBBBBBB 1 A_FireCustomMissile("DTech10KSteam",Random(-4,4),0,0,0)
    PLVZ B 10
	PLVZ B 1 Offset(0,30)
	PLVZ B 1 Offset(0,40)
	PLVZ B 1 Offset(0,50)
	PLVZ B 1 Offset(0,60)
	PLVZ B 1 Offset(0,70)
	PLVZ B 30 A_PlayWeaponSound("Pulverizer/In")
    PLVZ B 0 A_FireCustomMissile("RocketEmptyDrumSpawner",0,0,0,1)
	PLVZ B 15 A_PlayWeaponSound("Pulverizer/Out")
	PLVZ B 1 Offset(0,70)
	PLVZ B 1 Offset(0,60)
	PLVZ B 1 Offset(0,50)
	PLVZ B 1 Offset(0,40)
	PLVZ B 1 Offset(0,30)
	Goto Ready
  AltFire:
	TNT1 A 0 A_JumpIfNoAmmo("Empty")
	PLVZ C 4 Bright A_GunFlash
	TNT1 A 0 A_PlayWeaponSound("Pulverizer/Fire")
	TNT1 A 0 Radius_Quake(4,3,0,1,0)
	TNT1 A 0 A_FireCustomMissile("BouncingPulverizerProjectile",0,1,0,4) 
	PLVZ D 2 Bright Offset(0,32)
	PLVZ D 2 Bright Offset(0,36)
	PLVZ E 2 Bright Offset(0,40)
	PLVZ E 2 Bright Offset(0,44)
	PLVZ F 2 Bright Offset(0,40)
	PLVZ F 2 Bright Offset(0,36)
    PLVZ F 2 Bright Offset(0,32)
    PLVZ BBBBBBBB 1 A_FireCustomMissile("DTech10KSteam",Random(-4,4),0,0,0)
    PLVZ B 10
	PLVZ B 1 Offset(0,30)
	PLVZ B 1 Offset(0,40)
	PLVZ B 1 Offset(0,50)
	PLVZ B 1 Offset(0,60)
	PLVZ B 1 Offset(0,70)
	PLVZ B 30 A_PlayWeaponSound("Pulverizer/In")
    PLVZ B 0 A_FireCustomMissile("RocketEmptyDrumSpawner",0,0,0,1)
	PLVZ B 15 A_PlayWeaponSound("Pulverizer/Out")
	PLVZ B 1 Offset(0,70)
	PLVZ B 1 Offset(0,60)
	PLVZ B 1 Offset(0,50)
	PLVZ B 1 Offset(0,40)
	PLVZ B 1 Offset(0,30)
	Goto Ready
  Flash:
	TNT1 A 1
	Stop
  Empty:
	TNT1 A 0 A_PlaySound("weapons/arclick",7,1.0,0)
	PLVZ BBBBBBBBBB 1 A_WeaponReady(WRF_NOFIRE)
	Goto Ready
  GrenadeCheck:
     TNT1 A 0
	 TNT1 A 0 A_TakeInventory("InZoom",1)
	 TNT1 A 0 A_ZoomFactor(1)
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	 TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	 Goto Ready
  GrenadeToss:
  	 TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	 PLVZ B 1 Offset(0,30)
	 PLVZ B 1 Offset(0,40)
	 PLVZ B 1 Offset(0,50)
	 PLVZ B 1 Offset(0,60)
	 PLVZ B 1 Offset(0,70)
	 TNT1 A 4 Offset(0,10)
	 HGRN ABC 1
	 HGRN D 2
	 HGRN EFG 1
	 HGRN HI 2
	 TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	 TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	 TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	 HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	 HGRN J 1
	 HGRN KLM 2
	 HGRN NO 1
	 TNT1 A 6
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
     TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	 TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	 TNT1 A 0
	 PLVZ B 1 Offset(0,70)
	 PLVZ B 1 Offset(0,60)
	 PLVZ B 1 Offset(0,50)
	 PLVZ B 1 Offset(0,40)
	 PLVZ B 1 Offset(0,30)
	Goto Ready
  MineCheck:
     TNT1 A 0
	 TNT1 A 0 A_TakeInventory("InZoom",1)
	 TNT1 A 0 A_ZoomFactor(1)
	 TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	 TNT1 A 0 A_TakeInventory("MineAction",1)
	 Goto Ready
  MineToss:
  	 TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	 PLVZ B 1 Offset(0,30)
	 PLVZ B 1 Offset(0,40)
	 PLVZ B 1 Offset(0,50)
	 PLVZ B 1 Offset(0,60)
	 PLVZ B 1 Offset(0,70)
	 TNT1 A 8 Offset(0,10)
	 TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	 MINE ABCDEF 1
	 TNT1 A 0 A_TakeInventory("MineAmmo",1)
	 MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	 MINE HI 1
	 MINE JK 2
	 TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
     TNT1 A 0 A_TakeInventory("Land Mine",1)
	 TNT1 A 0 A_TakeInventory("MineAction",1)
	 TNT1 A 0
	 TNT1 A 5
	 PLVZ B 1 Offset(0,70)
	 PLVZ B 1 Offset(0,60)
	 PLVZ B 1 Offset(0,50)
	 PLVZ B 1 Offset(0,40)
	 PLVZ B 1 Offset(0,30)
	 Goto Ready
}
}

Actor PulverizerProjectile : FastProjectile
{
Radius 10
Height 7
MissileHeight 7
Speed 300
RenderStyle Add
DamageType "Marine"
MissileType "PulverizerProjectileTrailSpawner"
Damage 55
Scale 0.9
+RIPPER
+EXTREMEDEATH
+NODAMAGETHRUST
+DONTBLAST
+MTHRUSPECIES
+FORCERADIUSDMG
SeeSound "Pulverizer/Fire"
Decal DoomImpScorch
States
{
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_PlaySound("Pulverizer/Loop",6,1.0,true)
  Looplet:
	HROD A 0
	HROD A 0 A_Explode(16,16)
	HROD A 1 Bright A_ChangeVelocity(0,0,-0.1)
	Loop
  Death:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("PulverizerProjectileWall",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_NOCHECKPOSITION,0)
  Crash:
  XDeath:
	TNT1 AAA 0 A_StopSound(6)
	TNT1 AAA 0 A_SpawnItemEx("PulverizerProjectileSpark",12.0+frandom(2.0,-2.0),frandom(2.0,-2.0),frandom(2.0,-2.0),frandom(4.0,-4.0),frandom(2.0,-2.0),frandom(7.0,-1.0),frandom(0.0,360.0),SXF_CLIENTSIDE,0)
	TNT1 A 2 A_PlaySound("Pulverizer/Rod",7,1.0,false)
	Stop
	}
}

Actor BouncingPulverizerProjectile
{
Projectile
Radius 10
Height 7
Speed 300
RenderStyle Add
DamageType "Marine"
Damage 45
Scale 0.9
+RIPPER
+EXTREMEDEATH
+NODAMAGETHRUST
+DONTBLAST
+MTHRUSPECIES
+HEXENBOUNCE
+CANBOUNCEWATER
BounceFactor 1.2
SeeSound "Pulverizer/Fire"
BounceCount 4
Decal DoomImpScorch
States
{
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_PlaySound("Pulverizer/Loop",6,1.0,true)
  Looplet:
	HROD A 0
	HROD A 0 A_Explode(16,16)
    HROD A 0 A_SpawnItemEx("PulverizerProjectileTrailSpawner")
	HROD A 1 Bright A_ChangeVelocity(0,0,-0.1)
	Loop
  Death:
	HROD A 20 Bright A_PlaySound("Pulverizer/End",7,1.0,false)
	HROD AAAABBBBB 1 A_FadeOut(0.1,1)
	Stop
}
}

Actor PulverizerProjectileWall
{
Scale 0.9
Radius 20
Height 20
DamageType "Marine"
Alpha 0.99
RenderStyle Add
ReactionTime 80
+NOTIMEFREEZE
+DONTBLAST
+NOTELEPORT
+NONSHOOTABLE
+BLOODLESSIMPACT
+NOINTERACTION
+FORCERADIUSDMG
+MTHRUSPECIES
States
{
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_PlaySound("Pulverizer/Loop",6,1.0,true)
	HROD A 6 Bright A_Explode(20,135,0,0)
	TNT1 AA 0 A_SpawnItemEx("PulverizerProjectileSpark",frandom(-24,24),3+frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(2,3),0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION,128)
	TNT1 A 0 A_Countdown
	Loop
  Death:
    TNT1 A 0 A_StopSound(6)
	HROD A 20 Bright A_PlaySound("Pulverizer/End",7,1.0,false)
	HROD AAAABBBBB 1 A_FadeOut(0.1,1)
	Stop
	}
}

Actor PulverizerProjectileTrailSpawner
{
Height 1
Radius 1
Speed 0
RenderStyle None
+NOTIMEFREEZE
+DONTBLAST
+NOTELEPORT
+NOINTERACTION
+CLIENTSIDEONLY
States
{
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
	TNT1 A 0 A_SpawnItemEx("PulverizerProjectileTrail",0,0,0,0)
	TNT1 A 1 A_SpawnItemEx("PulverizerProjectileSpark",0,0,0,frandom(-2.0,2.0),frandom(-2.0,2.0),frandom(1.0,3.0),frandom(360.0,0.0),SXF_CLIENTSIDE)
	Stop
  Toaster:
    TNT1 A 0
	Stop
	}
}

Actor PulverizerProjectileTrail
{
Height 20
Radius 20
Scale 0.9
RenderStyle Add
+NOTIMEFREEZE
+DONTBLAST
+NOTELEPORT
+NOINTERACTION
+CLIENTSIDEONLY
States
{
  Spawn:
	HROD A 1 A_FadeOut(0.2,1)
	Loop
}
}

Actor PulverizerProjectileSpark
{
Height 8
Radius 4
Gravity 0.15
Scale 0.2
RenderStyle Add
Alpha 1
+NOTIMEFREEZE
-NOGRAVITY
+DROPOFF
+DONTBLAST
+NOTELEPORT
+NOBLOCKMAP
+CLIENTSIDEONLY
States
{
  Spawn:
	TNT1 A 0 A_ScaleVelocity(0.98)
	HROD C 1 Bright A_FadeOut(0.05,1)
	Loop
}
}

ACTOR RapidShotgun : Weapon
{ 
+WEAPON.NOALERT
+WEAPON.AMMO_OPTIONAL
+INVENTORY.UNDROPPABLE
Weapon.SelectionOrder 700
Weapon.PreferredSkin "Chaingun-Marine"
Weapon.AmmoUse 1
Weapon.AmmoGive 40
Weapon.AmmoType "NewShell"
Weapon.AmmoType2 "NewShell"
//AttackSound "RapidShotgun/Fire"
AttackSound ""
Inventory.PickupMessage "\c[S7]Rapid Shotgun"
Inventory.PickupSound "weapons/minigunpickup"
Obituary "%o was mowed down by %k's rapid shotgun."
Tag "Rapid Shotgun"
Decal "BulletChip" 
States 
{ 
  Spawn: 
    HCNG A -1
    Stop     
  Flash: 
    TNT1 A 1 A_Light1
    TNT1 A 1 A_Light2 
    TNT1 A 0 A_Light0
    Goto LightDone 
  Ready:  
	TNT1 A 0 A_PlayWeaponSound("weapons/minigunpickup")
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderRapidShotgun",1,"ReadyUpgraded")
	CGRS ABCDEFGH 1 
  IsReady:
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderRapidShotgun",1,"IsReadyUpgraded")
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
    QCHG A 1 A_WeaponReady 
	Loop
  ReadyUpgraded:  
	MGRE ABCDEFGH 1 
  IsReadyUpgraded:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
    ECHG A 1 A_WeaponReady 
	Loop
  ReadySpin:
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderRapidShotgun",1,"ReadySpinUpgraded")
	TNT1 A 0 A_PlaySound("HeavyChaingun/Loop",6,1.0,1)
	QCHG DABCDABCDAB 1 A_WeaponReady
	Loop
  ReadySpinUpgraded:
	TNT1 A 0 A_PlaySound("HeavyChaingun/Loop",6,1.0,1)
	ECHG DABCDABCDAB 1 A_WeaponReady
	Loop
  Deselect: 
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
    TNT1 A 0 A_TakeInventory("RapidShotgunSpin",2)   
	TNT1 A 0 A_TakeInventory("ExpMinigunActive2",1)
	TNT1 A 0 A_Playsound("HeavyChaingun/Down",6) 
  Deselecting:
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderRapidShotgun",1,"DeselectingUpgraded")
	QCHG A 1 A_Lower
	Loop
  DeselectingUpgraded:
	ECHG A 1 A_Lower
	Loop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
	TNT1 A 0 A_TakeInventory("ExpMinigunActive2",1)
  Selecting:
	TNT1 A 0 A_Raise
	Wait
  AltFire:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderRapidShotgun",1,"AltFireUpgraded")
	TNT1 A 0 A_JumpIfInventory("ExpMinigunActive2",1,"SpinStop")
    TNT1 A 0 A_Playsound("HeavyChaingun/Sart",6)
    QCHG A 1 
    QCHG BCDABCDABCDABCD 1
	TNT1 A 0 A_GiveInventory("ExpMinigunActive2",1)
	Goto ReadySpin
  AltFireUpgraded:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("ExpMinigunActive2",1,"SpinStopUpgraded")
    TNT1 A 0 A_Playsound("HeavyChaingun/Sart",6)
    ECHG A 1 
    ECHG BCDABCDABCDABCD 1
	TNT1 A 0 A_GiveInventory("ExpMinigunActive2",1)
	Goto ReadySpinUpgraded
  EmptySpinDown:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderRapidShotgun",1,"EmptySpinDownUpgraded")
	TNT1 A 0 A_TakeInventory("ExpMinigunActive2",1)
	TNT1 A 0 A_PlaySound("weapons/expmgunspinstop", 5)
	QCHG ABCDABCD 1
	QCHG ABCD 2
	QCHG ABCD 3
    QCHG A 0 A_GiveInventory("RapidShotgunSpin",1)
    QCHG B 0 A_Playsound("HeavyChaingun/Down",6) 
    QCHG ABCDABCDABCDA 1 A_WeaponReady(WRF_NOSECONDARY)  
    QCHG BCD 2 A_WeaponReady(WRF_NOSECONDARY) 
    TNT1 A 0 A_TakeInventory("RapidShotgunSpin",2)
    QCHG AB 2    
    QCHG CD 3
    Goto IsReady
  EmptySpinDownUpgraded:
	TNT1 A 0 A_TakeInventory("ExpMinigunActive2",1)
	TNT1 A 0 A_PlaySound("weapons/expmgunspinstop", 5)
	ECHG ABCDABCD 1
	ECHG ABCD 2
	ECHG ABCD 3
    ECHG A 0 A_GiveInventory("RapidShotgunSpin",1)
    ECHG B 0 A_Playsound("HeavyChaingun/Down",6) 
    ECHG ABCDABCDABCDA 1 A_WeaponReady(WRF_NOSECONDARY)  
    ECHG BCD 2 A_WeaponReady(WRF_NOSECONDARY) 
    TNT1 A 0 A_TakeInventory("RapidShotgunSpin",2)
    ECHG AB 2    
    ECHG CD 3
    Goto IsReadyUpgraded
  Fire: 
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderRapidShotgun",1,"FireUpgraded")
	TNT1 A 0 A_JumpIfInventory("ExpMinigunActive2",1,"Hold")
    TNT1 A 0 A_JumpIfInventory("RapidShotgunSpin",1,"Hold") 
    TNT1 A 0 A_Playsound("HeavyChaingun/Sart",6)
    QCHG A 1 
    QCHG BCDABCDABCDABCD 1
    TNT1 A 0 A_Refire
    TNT1 A 0 A_Playsound("HeavyChaingun/Down",6)
    Goto SpinStop    
  Hold:
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderRapidShotgun",1,"HoldUpgraded")
	TNT1 A 0 A_JumpIfNoAmmo("JustSpin")
    TNT1 A 0 A_GiveInventory("RapidShotgunSpin",1) 
    TNT1 A 0 A_AlertMonsters  
	TNT1 A 0 A_PlaySound("HeavyChaingun/Loop",6,1.0,1)
    TNT1 A 0 A_GunFlash    
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_PlayWeaponSound("RapidShotgun/Fire")
	TNT1 AAAA 0 A_FireCustomMissile("SGTracer",Random(6,-6),0,0,Random(-6,6))
	TNT1 A 0 A_SpawnItemEx("ShellCasing",12,-6,36,Random(2,6),0,Random(1,3),Random(-80,-90),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_FireBullets(15,12.2,4,Random(1,5)*random(3,6),"MarineBulletPuff",FBF_USEAMMO|FBF_NORANDOM)
    QCHG E 2 Bright A_FireBullets(11.8,7.3,3,random(1,5)*random(6,9),"MarineBulletPuff",FBF_NORANDOM)
	TNT1 A 0 A_JumpIfNoAmmo("JustSpin")
    QCHG FG 1 
    TNT1 A 0 A_GunFlash    
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_PlayWeaponSound("RapidShotgun/Fire")
	TNT1 AAAA 0 A_FireCustomMissile("SGTracer",Random(6,-6),0,0,Random(-6,6))
	TNT1 A 0 A_SpawnItemEx("ShellCasing",12,-6,36,Random(2,6),0,Random(1,3),Random(-80,-90),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_FireBullets(15,12.2,4,Random(1,5)*random(3,6),"MarineBulletPuff",FBF_USEAMMO|FBF_NORANDOM)
    QCHG E 2 Bright A_FireBullets(11.8,7.3,3,random(1,5)*random(6,9),"MarineBulletPuff",FBF_NORANDOM)
	TNT1 A 0 A_JumpIfNoAmmo("JustSpin")  
    QCHG FG 1 
    TNT1 A 0 A_GunFlash    
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_PlayWeaponSound("RapidShotgun/Fire")
	TNT1 AAAA 0 A_FireCustomMissile("SGTracer",Random(6,-6),0,0,Random(-6,6))
	TNT1 A 0 A_SpawnItemEx("ShellCasing",12,-6,36,Random(2,6),0,Random(1,3),Random(-80,-90),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_FireBullets(15,12.2,4,Random(1,5)*random(3,6),"MarineBulletPuff",FBF_USEAMMO|FBF_NORANDOM)
    QCHG E 2 Bright A_FireBullets(11.8,7.3,3,random(1,5)*random(6,9),"MarineBulletPuff",FBF_NORANDOM) 
	TNT1 A 0 A_JumpIfNoAmmo("JustSpin")
    QCHG FG 1
    TNT1 A 0 A_Refire
	TNT1 A 0 A_JumpIfInventory("ExpMinigunActive2",1,"ReadySpin")
    TNT1 A 0 A_Playsound("HeavyChaingun/Down",6) 
    QCHG CDABCDABCDA 1 A_WeaponReady(WRF_NOSECONDARY)  
    QCHG BCD 2 A_WeaponReady(WRF_NOSECONDARY) 
    TNT1 A 0 A_TakeInventory("RapidShotgunSpin",2)
    QCHG AB 2    
    QCHG CD 3 
    Goto IsReady
  FireUpgraded:
	TNT1 A 0 A_JumpIfInventory("ExpMinigunActive2",1,"HoldUpgraded")
    TNT1 A 0 A_JumpIfInventory("RapidShotgunSpin",1,"HoldUpgraded") 
    TNT1 A 0 A_Playsound("HeavyChaingun/Sart",6)
    ECHG A 1 
    ECHG BCDABCDABCDABCD 1
    TNT1 A 0 A_Refire
    TNT1 A 0 A_Playsound("HeavyChaingun/Down",6)
    Goto SpinStopUpgraded   
  HoldUpgraded:
	TNT1 A 0 A_JumpIfNoAmmo("JustSpinUpgraded")
    TNT1 A 0 A_GiveInventory("RapidShotgunSpin",1) 
    TNT1 A 0 A_AlertMonsters  
	TNT1 A 0 A_PlaySound("HeavyChaingun/Loop",6,1.0,1)
    TNT1 A 0 A_GunFlash    
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_PlayWeaponSound("ExplosiveShotgun/Fire")
	TNT1 A 0 A_SpawnItemEx("OrangeShellCasing",12,-6,36,Random(2,6),0,Random(1,3),Random(-80,-90),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAA 0 A_FireCustomMissile("RapidShotgunUpgradedTracer",Random(-10,10),0,0,0,0,frandom(-6,6))
	TNT1 A 0 A_FireBullets(15,12.2,4,Random(1,5)*random(3,6),"RapidShotgunBulletPuff",FBF_USEAMMO|FBF_NORANDOM)
    ECHG E 2 Bright A_FireBullets(11.8,7.3,3,random(1,5)*random(6,9),"RapidShotgunBulletPuff",FBF_NORANDOM)
	TNT1 A 0 A_JumpIfNoAmmo("JustSpinUpgraded")
    ECHG FG 1 
    TNT1 A 0 A_GunFlash    
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_PlayWeaponSound("ExplosiveShotgun/Fire")
	TNT1 A 0 A_SpawnItemEx("OrangeShellCasing",12,-6,36,Random(2,6),0,Random(1,3),Random(-80,-90),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAA 0 A_FireCustomMissile("RapidShotgunUpgradedTracer",Random(-10,10),0,0,0,0,frandom(-6,6))
	TNT1 A 0 A_FireBullets(15,12.2,4,Random(1,5)*random(3,6),"RapidShotgunBulletPuff",FBF_USEAMMO|FBF_NORANDOM)
    ECHG E 2 Bright A_FireBullets(11.8,7.3,3,random(1,5)*random(6,9),"RapidShotgunBulletPuff",FBF_NORANDOM)
	TNT1 A 0 A_JumpIfNoAmmo("JustSpinUpgraded")  
    ECHG FG 1 
    TNT1 A 0 A_GunFlash    
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_PlayWeaponSound("ExplosiveShotgun/Fire")
	TNT1 A 0 A_SpawnItemEx("OrangeShellCasing",12,-6,36,Random(2,6),0,Random(1,3),Random(-80,-90),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAA 0 A_FireCustomMissile("RapidShotgunUpgradedTracer",Random(-10,10),0,0,0,0,frandom(-6,6))
	TNT1 A 0 A_FireBullets(15,12.2,4,Random(1,5)*random(3,6),"RapidShotgunBulletPuff",FBF_USEAMMO|FBF_NORANDOM)
    ECHG E 2 Bright A_FireBullets(11.8,7.3,3,random(1,5)*random(6,9),"RapidShotgunBulletPuff",FBF_NORANDOM) 
	TNT1 A 0 A_JumpIfNoAmmo("JustSpinUpgraded")
    ECHG FG 1
    TNT1 A 0 A_Refire("HoldUpgraded")
	TNT1 A 0 A_JumpIfInventory("ExpMinigunActive2",1,"ReadySpinUpgraded")
    TNT1 A 0 A_Playsound("HeavyChaingun/Down",6) 
    ECHG CDABCDABCDA 1 A_WeaponReady(WRF_NOSECONDARY)  
    ECHG BCD 2 A_WeaponReady(WRF_NOSECONDARY) 
    TNT1 A 0 A_TakeInventory("RapidShotgunSpin",2)
    ECHG AB 2    
    ECHG CD 3 
    Goto IsReadyUpgraded
  JustSpin: 
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderRapidShotgun",1,"JustSpinUpgraded")
    TNT1 A 0 A_GiveInventory("RapidShotgunSpin",1)  
	TNT1 A 0 A_PlaySound("HeavyChaingun/Loop",6,1.0,1)
	TNT1 A 0 A_AlertMonsters 
    QCHG DABCDABCDAB 1 A_JumpIfInventory("NewShell",1,"Hold")
    TNT1 A 0 A_Refire("JustSpin")
	TNT1 A 0 A_JumpIfInventory("ExpMinigunActive2",1,"ReadySpin")
    TNT1 A 0 A_Playsound("HeavyChaingun/Down",6) 
    QCHG CDABCDABCDA 1 A_WeaponReady(WRF_NOSECONDARY)  
    QCHG BCD 2 A_WeaponReady(WRF_NOSECONDARY) 
    TNT1 A 0 A_TakeInventory("RapidShotgunSpin",2)
    QCHG AB 2    
    QCHG CD 3 
    Goto IsReady	
  JustSpinUpgraded: 
    TNT1 A 0 A_GiveInventory("RapidShotgunSpin",1)  
	TNT1 A 0 A_PlaySound("HeavyChaingun/Loop",6,1.0,1)
	TNT1 A 0 A_AlertMonsters 
    ECHG DABCDABCDAB 1 A_JumpIfInventory("NewShell",1,"HoldUpgraded")
    TNT1 A 0 A_Refire("JustSpinUpgraded")
	TNT1 A 0 A_JumpIfInventory("ExpMinigunActive2",1,"ReadySpinUpgraded")
    TNT1 A 0 A_Playsound("HeavyChaingun/Down",6) 
    ECHG CDABCDABCDA 1 A_WeaponReady(WRF_NOSECONDARY)  
    ECHG BCD 2 A_WeaponReady(WRF_NOSECONDARY) 
    TNT1 A 0 A_TakeInventory("RapidShotgunSpin",2)
    ECHG AB 2    
    ECHG CD 3 
    Goto IsReadyUpgraded	
  SpinStop:
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderRapidShotgun",1,"SpinStopUpgraded")
	TNT1 A 0 A_GiveInventory("RapidShotgunSpin",1)
	TNT1 A 0 A_Playsound("HeavyChaingun/Down",6) 
    QCHG ABCDABCDABCDA 1 A_WeaponReady(WRF_NOSECONDARY)  
    QCHG BCD 2 A_WeaponReady(WRF_NOSECONDARY) 
    TNT1 A 0 A_TakeInventory("RapidShotgunSpin",2)
	TNT1 A 0 A_TakeInventory("ExpMinigunActive2",1)
    QCHG AB 2    
    QCHG CD 3
    Goto IsReady
  SpinStopUpgraded:
	TNT1 A 0  A_GiveInventory("RapidShotgunSpin",1)
	TNT1 A 0 A_Playsound("HeavyChaingun/Down",6) 
    ECHG ABCDABCDABCDA 1 A_WeaponReady(WRF_NOSECONDARY)  
    ECHG BCD 2 A_WeaponReady(WRF_NOSECONDARY) 
    TNT1 A 0 A_TakeInventory("RapidShotgunSpin",2)
	TNT1 A 0 A_TakeInventory("ExpMinigunActive2",1)
    ECHG AB 2    
    ECHG CD 3
    Goto IsReadyUpgraded
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto IsReady	
  MineToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	CGRS EDCBA 1
	CGRS A 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1		
	TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	Goto Ready+1
  GrenadeCheck:
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	Goto IsReady
  GrenadeToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	CGRS EDCBA 1
	TNT1 A 6
	HGRN ABC 1
	HGRN D 1
	HGRN EFGHI 1
	TNT1 A 14 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGRN J 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN K 1
	HGRN LMNO 2
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0
	Goto Ready+1	
} 
} 

ACTOR RapidShotgunSpin : Inventory{Inventory.MaxAmount 1}

Actor RapidRocketLauncherCharge : Ammo
{
	Inventory.Amount 0
	Inventory.MaxAmount 10
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 10
	Inventory.Icon "RRLHZ0"
	+IGNORESKILL
}

Actor RapidShotgunBulletPuff : MarineBulletPuff{DamageType "MarinePierce"}

ACTOR RapidRocketLauncher : Weapon
{ 
+WEAPON.NOALERT
+WEAPON.AMMO_OPTIONAL
+INVENTORY.UNDROPPABLE
Weapon.SelectionOrder 750
Weapon.PreferredSkin "Chaingun-Marine"
Weapon.AmmoUse 1
Weapon.AmmoGive 30
Weapon.AmmoType "Missile"
Weapon.AmmoType2 "RapidRocketLauncherCharge"
Inventory.PickupMessage "\c[z4]Rapid Rocket Launcher"
Inventory.PickupSound "RapidRocketLauncher/Pickup"
Weapon.UpSound "RapidRocketLauncher/Pickup"
Obituary "%o was mowed down by %k's rapid rocket launcher."
Tag "Rapid Rocket launcher"
States
{
  Ready:
	RRLH A 1 A_WeaponReady
	Loop
  Deselect:
	RRLH A 1 A_Lower
	Loop
  Select:
	RRLH A 1 A_Raise
	Loop
  Fire:
	TNT1 A 0 
	TNT1 A 0 A_JumpIfInventory("RapidRocketLauncherCharge",1,"FireMultiple")
	TNT1 A 0 A_JumpIfNoAmmo("Empty")
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Recoil(2)
	TNT1 A 0 Radius_Quake(4,3,0,1,0)
	TNT1 A 0 A_PlaySoundEx("mrl/fire",0,FALSE)
	RRLH C 3 Bright A_FireCustomMissile("RapidRocketLauncherRocket",0,1,0,-12)
	RRLH BA 1 
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Recoil(2)
	TNT1 A 0 Radius_Quake(4,3,0,1,0)
	TNT1 A 0 A_PlaySoundEx("mrl/fire",0,FALSE)
	RRLH D 3 Bright A_FireCustomMissile("RapidRocketLauncherRocket",0,1,0,-12)
	RRLH AB 1
	RRLH AB 5 A_Refire
	RRLH AB 5 A_Refire
	Goto Ready
  FireMultiple:
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Recoil(2)
	TNT1 A 0 Radius_Quake(4,3,0,1,0)
	TNT1 A 0 A_PlaySoundEx("HeavyRocket/fire",0,FALSE)
  FireMultipleLoop:
	TNT1 A 0 A_TakeInventory("RapidRocketLauncherCharge",1)
	TNT1 A 0 A_FireCustomMissile("RapidRocketLauncherRocket",0,0,0,-12)
	TNT1 A 0 A_JumpIfInventory("RapidRocketLauncherCharge",1,"FireMultipleLoop")
  FireMultipleEnd:
	RRLH CD 3 Bright
	RRLH AB 1 
	RRLH ABABAB 1
	RRLH ABABAB 2
	RRLH ABABAB 4
	RRLH A 1 A_Refire
	Goto Ready
  AltFire:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("RapidRocketLauncherCharge",10,"Empty")
	TNT1 A 0 A_JumpIfInventory("Missile",1,2)
	TNT1 A 0 A_Jump(256,"Empty")
	TNT1 A 0 A_PlaySound("weapons/rocketdrumin")
	TNT1 A 0 A_TakeInventory("Missile",1,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_GiveInventory("RapidRocketLauncherCharge",1)
	RRLH AB 5
	RRLH A 1 A_Refire
	Goto Ready
  Empty:
	TNT1 A 0 A_PlayWeaponSound("weapons/click")
	RRLH ABAB 6 A_WeaponReady(WRF_NOFIRE)
	Goto Ready
  Flash:
	TNT1 A 2 Bright A_Light1
	Goto LightDone
	TNT1 B 2 Bright A_Light1
	Goto LightDone
  Spawn:
	RRLH Z -1
	Loop
}
}

ACTOR "Triple Rotary Minigun" : Weapon
{
Weapon.SelectionOrder 4001
Inventory.PickupSound "TripleMinigun/Pickup"
Inventory.PickupMessage "\c[S7]Triple Rotary Minigun"
Weapon.Kickback 100
Weapon.SelectionOrder 700
Weapon.PreferredSkin "Minigun-Marine"
Weapon.AmmoType "BulletMag"
Weapon.AmmoType2 "BulletMag"
Weapon.AmmoGive 200
Weapon.AmmoUse 2
Weapon.AmmoUse2 3
Tag "Triple Rotary Minigun"
Decal "BulletChip" 
+WEAPON.NOALERT
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOAUTOAIM
+INVENTORY.UNDROPPABLE
States
{
  Spawn:
	8GUN A -1
	Loop
  Ready:
	8HAG A 1 A_WeaponReady
	Loop
  Deselect:
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_StopSound(CHAN_WEAPON)
	TNT1 A 0 A_StopSound(6)
	TNT1 A 0 A_StopSound(7)
	TNT1 A 0 A_PlaySound("TripleMinigun/Lower")
  Deselecting:
	8HAG A 1 A_Lower
	TNT1 A 0 A_Lower
	Loop
  Select:
	8HAG A 1 Offset(15,110) A_PlaySound("TripleMinigun/Raise")
	8HAG A 1 Offset(14,105)
	8HAG B 1 Offset(13,100)
	8HAG B 1 Offset(12,95)
	8HAG C 1 Offset(11,90)
	8HAG C 1 Offset(10,85)
	8HAG D 1 Offset(9,80)
	8HAG D 1 Offset(8,75)
	8HAG A 1 Offset(7,70)
	8HAG A 1 Offset(6,65)
	8HAG B 1 Offset(5,60)
	8HAG B 1 Offset(4,55)
	8HAG C 1 Offset(3,50)
	8HAG C 1 Offset(2,45)
	8HAG D 1 Offset(1,40)
	8HAG D 1 Offset(1,35)
  SelectLoop:
	8HAG A 1 A_Raise
	Loop
  Fire:
	8HAG B 4 A_PlaySound("TripleMinigun/Motor",7)
	8HAG C 3
	8HAG D 2
	8HAG A 1
	8HAG A 1 A_Refire
	8HAG B 1 A_StopSound(7)
	8HAG C 2
	8HAG D 3
	Goto Ready
  Hold:
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_PlaySound("TripleMinigun/FireLoop",CHAN_WEAPON,1,1)
  Hold2:
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Quake(2,10,0,5,"")
	8HAF A 0 A_AlertMonsters
	TNT1 A 0 A_FireBullets(5,4,3,random(7,10),"MarineBulletPuff") 
	TNT1 AA 0 A_FireCustomMissile("Tracer",Random(6,-6),0,0,Random(6,-6))
	TNT1 AAA 0 A_SpawnItemEx("RifleCasing",-6,-28,32,-12,random(-2,2),random(0,4),random(-55,-80),SXF_NOCHECKPOSITION)
	8HAF A 1 Bright A_SetPitch(pitch - 0.3)
	8HAF A 0 A_Recoil(0.25)
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Refire("HoldFrameB")
	8HAF A 0 A_Jump(256,"DrySpinB")
  HoldFrameB:
	TNT1 A 0 A_FireBullets(5,4,3,random(7,10),"MarineBulletPuff") 
	TNT1 A 0 A_FireCustomMissile("Tracer",Random(6,-6),0,0,Random(6,-6))
	TNT1 AAA 0 A_SpawnItemEx("RifleCasing",-6,-28,32,-12,random(-2,2),random(0,4),random(-55,-80),SXF_NOCHECKPOSITION)
	8HAF B 1 Bright A_SetPitch(pitch - 0.3)
	8HAF A 0 A_Recoil(0.25)
	8HAF A 0 A_PlaySound("TripleMinigun/FireLoop",6,1,1)
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Refire("HoldFrameC")
	8HAF A 0 A_Jump(256,"DrySpinC")
  HoldFrameC:
	TNT1 A 0 A_FireBullets(5,4,3,random(7,10),"MarineBulletPuff")
	TNT1 A 0 A_FireCustomMissile("Tracer",Random(6,-6),0,0,Random(6,-6))
	TNT1 AAA 0 A_SpawnItemEx("RifleCasing",-6,-28,32,-12,random(-2,2),random(0,4),random(-55,-80),SXF_NOCHECKPOSITION)
	8HAF C 1 Bright A_SetPitch(pitch - 0.3)
	8HAF A 0 A_Recoil(0.25)
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Refire("HoldFrameD")
	8HAF A 0 A_Jump(256,"DrySpinD")
  HoldFrameD:
	TNT1 A 0 A_FireBullets(5,4,3,random(7,10),"MarineBulletPuff")
	TNT1 A 0 A_FireCustomMissile("Tracer",Random(6,-6),0,0,Random(6,-6))
	TNT1 AAA 0 A_SpawnItemEx("RifleCasing",-6,-28,32,-12,random(-2,2),random(0,4),random(-55,-80),SXF_NOCHECKPOSITION)
	8HAF D 1 Bright A_SetPitch(pitch - 0.3)
	8HAF A 0 A_Recoil(0.25)
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Refire("HoldFrameE")
	8HAF A 0 A_Jump(256,"DrySpinA")
  HoldFrameE:
	TNT1 A 0 A_FireBullets(5,4,3,random(7,10),"MarineBulletPuff")
	TNT1 A 0 A_FireCustomMissile("Tracer",Random(6,-6),0,0,Random(6,-6))
	TNT1 AAA 0 A_SpawnItemEx("RifleCasing",-6,-28,32,-12,random(-2,2),random(0,4),random(-55,-80),SXF_NOCHECKPOSITION)
	8HAF E 1 Bright A_SetPitch(pitch - 0.3)
	8HAF A 0 A_Recoil(0.25)
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Refire("HoldFrameF")
	8HAF A 0 A_Jump(256,"DrySpinB")
  HoldFrameF:
	TNT1 A 0 A_FireBullets(5,4,3,random(7,10),"MarineBulletPuff")
	TNT1 A 0 A_FireCustomMissile("Tracer",Random(6,-6),0,0,Random(6,-6))
	TNT1 AAA 0 A_SpawnItemEx("RifleCasing",-6,-28,32,-12,random(-2,2),random(0,4),random(-55,-80),SXF_NOCHECKPOSITION)
	8HAF F 1 Bright A_SetPitch(pitch - 0.3)
	8HAF A 0 A_Recoil(0.25)
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Refire("HoldFrameG")
	8HAF A 0 A_Jump(256,"DrySpinC")
  HoldFrameG:
	TNT1 A 0 A_FireBullets(5,4,3,random(7,10),"MarineBulletPuff")
	TNT1 A 0 A_FireCustomMissile("Tracer",Random(6,-6),0,0,Random(6,-6))
	TNT1 AAA 0 A_SpawnItemEx("RifleCasing",-6,-28,32,-12,random(-2,2),random(0,4),random(-55,-80),SXF_NOCHECKPOSITION)
	8HAF G 1 Bright A_SetPitch(pitch - 0.3)
	8HAF A 0 A_Recoil(0.25)
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Refire("HoldFrameH")
	8HAF A 0 A_Jump(256,"DrySpinD")
  HoldFrameH:
	TNT1 A 0 A_FireBullets(5,4,3,random(7,10),"MarineBulletPuff")
	TNT1 A 0 A_FireCustomMissile("Tracer",Random(6,-6),0,0,Random(6,-6))
	TNT1 AAA 0 A_SpawnItemEx("RifleCasing",-6,-28,32,-12,random(-2,2),random(0,4),random(-55,-80),SXF_NOCHECKPOSITION)
	8HAF H 1 Bright A_SetPitch(pitch - 0.3)
	8HAF A 0 A_Recoil(0.25)
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Refire("HoldFrameI")
	8HAF A 0 A_Jump(256,"DrySpinA")
  HoldFrameI:
	TNT1 A 0 A_FireBullets(5,4,3,random(7,10),"MarineBulletPuff")
	TNT1 A 0 A_FireCustomMissile("Tracer",Random(6,-6),0,0,Random(6,-6))
	TNT1 AAA 0 A_SpawnItemEx("RifleCasing",-6,-28,32,-12,random(-2,2),random(0,4),random(-55,-80),SXF_NOCHECKPOSITION)
	8HAF I 1 Bright A_SetPitch(pitch - 0.3)
	8HAF A 0 A_Recoil(0.25)
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Refire("Hold2")
	8HAF A 0 A_Jump(256,"DrySpinB")
	Goto DrySpinB
  AltFire:
	8HAG B 4 A_PlaySound("TripleMinigun/Motor",7)
	8HAG C 3
	8HAG D 2
	8HAG A 1
	8HAG A 1 A_Refire
	8HAG B 1 A_StopSound(7)
	8HAG C 2
	8HAG D 3
	Goto Ready
  AltHold:
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
  AltHold2:
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Quake(2,10,0,5,"")
	8HAF A 0 A_AlertMonsters
	TNT1 A 0 A_PlaySound("sentient/fire",CHAN_WEAPON)   
	TNT1 AAA 0 A_FireCustomMissile("PlayerExplosiveTracer",Random(4,-4),0,0,Random(4,-4))
	TNT1 AAA 0 A_SpawnItemEx("OrangeShellCasing",-6,-28,32,-12,random(-2,2),random(0,4),random(-55,-80),SXF_NOCHECKPOSITION)
    TNT1 A 0 A_FireBullets(4.8,2.4,3,Random(6,10),"ModdedBulletPuff")
	8HAF A 1 Bright A_SetPitch(pitch - 0.3)
	8HAF A 0 A_Recoil(0.25)
	8HAF BC 1 
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Refire("AltHoldFrameB")
	8HAF A 0 A_Jump(256,"DrySpinB")
  AltHoldFrameB:
	TNT1 A 0 A_PlaySound("sentient/fire",CHAN_WEAPON)   
	TNT1 AAA 0 A_FireCustomMissile("PlayerExplosiveTracer",Random(4,-4),0,0,Random(4,-4))
	TNT1 AAA 0 A_SpawnItemEx("OrangeShellCasing",-6,-28,32,-12,random(-2,2),random(0,4),random(-55,-80),SXF_NOCHECKPOSITION)
    TNT1 A 0 A_FireBullets(4.8,2.4,3,Random(6,10),"ModdedBulletPuff")
	8HAF D 1 Bright A_SetPitch(pitch - 0.3)
	8HAF A 0 A_Recoil(0.25)
	8HAF EF 1 
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Refire("AltHoldFrameC")
	8HAF A 0 A_Jump(256,"DrySpinC")
  AltHoldFrameC:
	TNT1 A 0 A_PlaySound("sentient/fire",CHAN_WEAPON)   
	TNT1 AAA 0 A_FireCustomMissile("PlayerExplosiveTracer",Random(4,-4),0,0,Random(4,-4))
	TNT1 AAA 0 A_SpawnItemEx("OrangeShellCasing",-6,-28,32,-12,random(-2,2),random(0,4),random(-55,-80),SXF_NOCHECKPOSITION)
    TNT1 A 0 A_FireBullets(4.8,2.4,3,Random(6,10),"ModdedBulletPuff")
	8HAF G 1 Bright A_SetPitch(pitch - 0.3)
	8HAF A 0 A_Recoil(0.25)
	8HAF HI 1 
	8HAF A 0 A_JumpIfNoAmmo("DrySpin")
	8HAF A 0 A_Refire("AltHold2")
	8HAF A 0 A_Jump(256,"DrySpinB")
  DrySpin:
	8HAG B 0 A_PlaySound("TripleMinigun/FireDecay",CHAN_WEAPON,1,0)
	8HAG B 2 A_StopSound(6)
	8HAG ABCD 2
	8HAG A 1 A_Refire("DrySpin2")
	8HAG B 2 A_StopSound(7)
	8HAG C 3
	8HAG D 4
	Goto Ready
  DrySpin2:
	8HAG A 0 A_StopSound(CHAN_WEAPON)
	8HAG ABCD 2
	8HAG A 1 A_Refire
	8HAG B 2 A_StopSound(7)
	8HAG C 3
	8HAG D 4
	Goto Ready
  DrySpinA:
	8HAG B 0 A_PlaySound("TripleMinigun/FireDecay",CHAN_WEAPON,1,0)
	8HAG A 0 A_StopSound(7)
	8HAG B 2 A_StopSound(6)
	8HAG A 1 A_SetPitch(pitch - 0.8)
	8HAG B 2 A_SetPitch(pitch - 0.4)
	8HAG C 3 A_SetPitch(pitch + 0.4)
	8HAG D 4 A_SetPitch(pitch + 0.8)
	Goto Ready
  DrySpinB:
	8HAG B 0 A_PlaySound("TripleMinigun/FireDecay",CHAN_WEAPON,1,0)
	8HAG B 2 A_StopSound(6)
	8HAG A 0 A_StopSound(7)
	8HAG B 1 A_SetPitch(pitch - 0.8)
	8HAG C 2 A_SetPitch(pitch - 0.4)
	8HAG D 3 A_SetPitch(pitch + 0.4)
	8HAG A 4 A_SetPitch(pitch + 0.8)
	8HAG BCD 4
	Goto Ready
  DrySpinC:
	8HAG B 0 A_PlaySound("TripleMinigun/FireDecay",CHAN_WEAPON,1,0)
	8HAG B 2 A_StopSound(6)
	8HAG A 0 A_StopSound(7)
	8HAG C 1 A_SetPitch(pitch - 0.8)
	8HAG D 2 A_SetPitch(pitch - 0.4)
	8HAG A 3 A_SetPitch(pitch + 0.4)
	8HAG B 4 A_SetPitch(pitch + 0.8)
	8HAG CD 4
	Goto Ready
  DrySpinD:
	8HAG B 0 A_PlaySound("TripleMinigun/FireDecay",CHAN_WEAPON,1,0)
	8HAG B 2 A_StopSound(6)
	8HAG A 0 A_StopSound(7)
	8HAG D 1 A_SetPitch(pitch - 0.8)
	8HAG A 2 A_SetPitch(pitch - 0.4)
	8HAG B 3 A_SetPitch(pitch + 0.4)
	8HAG C 4 A_SetPitch(pitch + 0.8)
	8HAG D 4
	Goto Ready
   }
}

Actor LegendaryPulverizerType : Inventory{Inventory.MaxAmount 2}
ACTOR LegendaryPulverizer : Weapon
{
Tag "Legendary Pulverizer"
Weapon.SelectionOrder 10
Weapon.PreferredSkin "LegendaryCannon-Marine"
Weapon.AmmoType "LDemonAmmo"
Weapon.AmmoType2 "LDemonAmmo"
Weapon.AmmoGive 144
Weapon.AmmoUse 8
Weapon.AmmoUse2 48
Weapon.UpSound "LegendaryPulverizer/Up"
Inventory.PickupSound "LegendaryPulverizer/Pickup"
Inventory.PickupMessage "\c[z3]Legendary Pulverizer"
+INVENTORY.UNDROPPABLE
YScale 0.8
XScale 1.6
States
{
  Spawn:
	PULV Z -1
	Stop
  Ready:
	PULV A 1 A_WeaponReady
    TNT1 A 0 A_JumpIfNoAmmo("Ready2")
	TNT1 A 0 A_JumpIfInventory("LDemonAmmo",8,1)
	Goto Ready2
	TNT1 A 0
	TNT1 A 0 A_PlaySound("LegendaryPulverizer/Idle",5,1.0,1)
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
    PULV AABB 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	PULV CCDD 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	PULV EEFF 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	PULV GGHH 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	PULV IIJJ 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	PULV KKLL 1 A_WeaponReady
	Loop
  Ready2:
    TNT1 A 0 A_JumpIfInventory("LDemonAmmo",8,"Ready")
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_StopSound(5)
	PULV M 1 A_WeaponReady
	Loop
  Deselect:
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_StopSound(5)
	PULV A 0 A_Lower
	PULV A 1 A_Lower
	Loop
  Select:
    TNT1 A 0
    TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
	TNT1 A 0 A_Raise
	PULV A 1 A_Raise
	Loop
  GrenadeCheck:
	TNT1 A 0
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("LegendaryPulverizerType",2,8)
	TNT1 A 0 A_JumpIfInventory("LegendaryPulverizerType",1,4)
	TNT1 A 0 A_Print("Proton Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod1")
	PULV A 15 A_GiveInventory("LegendaryPulverizerType",1)
	Goto Ready
	TNT1 A 0 A_Print("Orb Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod4")
	PULV A 15 A_GiveInventory("LegendaryPulverizerType",1)
	Goto Ready
	TNT1 A 0 A_Print("Beam Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod2")
	PULV A 15 A_TakeInventory("LegendaryPulverizerType",2)
	Goto Ready
  Fire:
	PULV N 0
	PULV N 0 A_GunFlash
	PULV N 0 A_PlaySound("LegendaryPulverizer/Charge")
	PULV N 0 A_JumpIfInventory("LegendaryPulverizerType",2,"Fire3")
	PULV N 0 A_JumpIfInventory("LegendaryPulverizerType",1,"Fire2")
	PULV NOPQ 2
	PULV R 0 A_PlayWeaponSound("LegendaryPulverizer/Fire")
	PULV R 6 Bright A_FireCustomMissile("LegendaryPulverizerProj",0,1,0,7)
	PULV S 3 Bright
	PULV QPON 2
	Goto Ready
  Fire2:
	PULV NOPQ 2
	PULV R 0 A_PlaySound("Petrovec/Fire",1)
	PULV R 0 A_PlaySound("Petrovec/AddFire",6)
	PULV R 0 A_PlaySound("Petrovec/Ambient",5)
	PULV R 6 Bright A_FireCustomMissile("LegendaryPulverizerProtonBolt",0,1,0,7)
	PULV S 3 Bright
	PULV QPON 2
	Goto Ready
  Fire3:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("LDemonAmmo",4,1)
	Goto Ready
	PULV NOPQ 1
	TNT1 A 0 A_TakeInventory("LDemonAmmo",4,TIF_NOTAKEINFINITE)
	PULV R 1 Bright A_FireCustomMissile("MLegendaryOrbProj",0,0,0,7)
	PULV S 1 Bright
	PULV QPON 1
	Goto Ready
  AltFire:
	PULV N 0
	PULV N 0 A_PlaySound("LegendaryPulverizer/Charge")
	PULV NOPQ 6
	PULV R 0 A_PlayWeaponSound("LegendaryAssaultProjectile/Shot")
	PULV R 14 Bright A_FireCustomMissile("LegendaryPulverizerAssaultProjectile",0,1,0,7)
	PULV S 6 Bright
	PULV QPON 4
	Goto Ready
}
}

Actor EradicationBFGType : Inventory{Inventory.MaxAmount 1}

Actor EradicatorBFGCooldown : Ammo
{
	Inventory.Amount 0
	Inventory.MaxAmount 90
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 90
	Inventory.Icon "EBFGZ0"
	+IGNORESKILL
}

Actor EradicatorBFG : Weapon
{
Tag "Eradicator BFG"
Weapon.AmmoUse 100
Weapon.AmmoGive 300
Weapon.AmmoType "EradicationCell"
//Weapon.AmmoUse2 200
Weapon.AmmoType2 "EradicatorBFGCooldown"
Weapon.SelectionOrder 10
Weapon.PreferredSkin "Devastator-Marine"
Weapon.Upsound "EradicationBFG/Up"
Inventory.PickupSound "EradicationBFG/Pickup"
+INVENTORY.UNDROPPABLE
Inventory.PickupMessage "\c[m6]Eradicator BFG"
States
{
  Spawn:
	EBFG Z -1
	Stop
  Select:
	TNT1 A 0
	TNT1 A 0 ACS_NamedExecuteAlways("Special Weapon Announcer",0,0,0,0)
  Selecting:
	EBFG A 1 A_Raise
	Loop
  Deselect:
  	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	EBFG A 1 A_Lower
	Loop
  Ready:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	EBFG A 1 A_WeaponReady
	Loop
  Fire:
	EBFG A 20 A_PlayWeaponSound("EradicationBFG/Charge")
	EBFG BCDE 15 Bright
  Hold:
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_FireCustomMissile("EradicationBFGProjectile",0,1,0,0)
	EBFG F 3 Bright Offset(0,32)
	EBFG F 3 Bright Offset(0,36)
	EBFG G 2 Bright Offset(0,40)
	EBFG G 2 Bright Offset(0,44)
	EBFG C 2 Bright Offset(0,40)
	EBFG C 2 Bright Offset(0,36)
	EBFG B 2 Offset(0,32)
	EBFG B 2
	EBFG A 15
	EBFG A 10 A_Refire
	Goto Ready
  AltFire:
	EBFG A 0 
	HG2G A 0 A_JumpIfInventory("EradicationBFGType",1,"UltimateFire")
	EBFG A 0 A_JumpIfInventory("EradicationCell",200,2) 
	EBFG A 0 A_Print("The Focus Fire requires 200 Eradication Cells!")
    Goto Empty
	TNT1 A 0 A_PlayWeaponSound("obelisk/fire")
	EBFG AAAAAAAAAAAAAAAAABBBBBBBBBBBBBBBBBBB 1 Bright A_RailAttack(0,0,0,0,0,RGF_SILENT|RGF_NOPIERCING,0,"EradicatorBFGTargetPuff",0,0,0,0,0.2,0,"EradicatorBFGLaserSight",-4)
	EBFG CCCCCCCCCCCCCCCCCDDDDDDDDDDDDDDDDDDD 1 Bright A_RailAttack(0,0,0,0,0,RGF_SILENT|RGF_NOPIERCING,0,"EradicatorBFGTargetPuff",0,0,0,0,0.2,0,"EradicatorBFGLaserSight",-4)
	EBFG EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE 1 Bright A_RailAttack(0,0,0,0,0,RGF_SILENT|RGF_NOPIERCING,0,"EradicatorBFGTargetPuff",0,0,0,0,0.2,0,"EradicatorBFGLaserSight",-4)
	TNT1 A 0 A_FireCustomMissile("EradicationBFGFocusProj",0,0,0,0)
    TNT1 A 0 A_TakeInventory("EradicationCell",200,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_GunFlash
	EBFG F 3 Bright Offset(0,32)
	EBFG F 3 Bright Offset(0,36)
	EBFG G 2 Bright Offset(0,40)
	EBFG G 2 Bright Offset(0,44)
	EBFG C 2 Bright Offset(0,40)
	EBFG C 2 Bright Offset(0,36)
	EBFG B 2 Offset(0,32)
	EBFG B 2
	EBFG A 35
	EBFG A 10 A_Refire
	Goto Ready
  UltimateFire:
	HG2G A 0 
	HG2G A 0 A_JumpIfInventory("EradicationCell",900,2) 
	HG2G A 0 A_Print("The Ultimate Fire requires 900 Eradication Cells!")
    Goto Empty
	HG2G A 0 A_JumpIfInventory("EradicatorBFGCooldown",1,2) 
	HG2G A 0 A_Jump(256,2)
	HG2G A 0 A_Print("The Ultimate Fire is in cooldown!")
    Goto Empty
	EBFG A 14 A_PlayWeaponSound("EradicationBFG/UltimateCharge")
	EBFG BCDE 14 Bright
	TNT1 A 0 A_GunFlash
	TNT1 A 0 Radius_Quake(12,3,0,1,0)
	TNT1 A 0 A_FireCustomMissile("EradicationBFGUltimateBall",0,0,0,0)
    TNT1 A 0 A_GiveInventory("EradicatorBFGCooldown",90)
    TNT1 A 0 A_TakeInventory("EradicationCell",900)
	TNT1 A 0 A_Recoil(35)
	EBFG F 3 Bright Offset(0,32)
	EBFG F 3 Bright Offset(0,36)
	EBFG G 2 Bright Offset(0,40)
	EBFG G 2 Bright Offset(0,44)
	EBFG C 2 Bright Offset(0,40)
	EBFG C 2 Bright Offset(0,36)
	EBFG B 2 Offset(0,32)
	EBFG B 2
	EBFG A 35
	EBFG A 10 A_Refire
    Goto Ready
  GrenadeCheck:
	TNT1 A 0
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("WeaponUpgraderEradicatorBFG",1,3)
	TNT1 A 0 A_Print("Requires Weapon Upgrade!")
	TNT1 A 0 A_PlaySound("weapon/off")
	Goto Empty
	TNT1 A 0 A_JumpIfInventory("EradicationBFGType",1,4)
	TNT1 A 0 A_Print("Altfire: Ultimate Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod1")
	EBFG A 15 A_GiveInventory("EradicationBFGType",1)
	Goto Ready
	TNT1 A 0 A_Print("Altfire: Focus Mod")
	TNT1 A 0 A_PlayWeaponSound("Weapon/Mod5")
	EBFG A 15 A_TakeInventory("EradicationBFGType",1)
	Goto Ready
  Empty:
	TNT1 A 0
	EBFG A 15 A_PlaySound("sentry/warn")
	Goto Ready
  Flash:
	EHGF A 3 Bright A_Light2
	EHGF B 3 Bright A_Light1
	EHGF C 3 Bright A_Light0
	EHGF D 3 Bright
	Goto LightDone
}
}

ACTOR EradicatorBFGTargetPuff : MarineRailPuff
{
+BLOODLESSIMPACT
States
{
  Spawn:
	TNT1 A 1
	Stop
}
}

Actor EradicationBFGProjectile : FastProjectile
{
Speed 150
Radius 16
Height 20
Damage 300
+FORCERADIUSDMG
+BLOODLESSIMPACT
+MTHRUSPECIES
+DONTREFLECT
+SKYEXPLODE
+FOILINVUL
Alpha 0.75
RenderStyle Add
DamageType "Pierce"
Decal BigRedScorch
SeeSound "EradicationBFG/Fire"
MissileType "EradicationBFGProjectileTrail"
Scale 0.3
States
{
  Spawn:
	TNT1 A 0 
	TNT1 A 1 A_Explode(128,256,0,0,128)
	Loop
  Death:
	RB4L AAAAAA 1 Bright A_SetScale(ScaleX+0.1,ScaleY+0.1)
	RB4L AAAAAA 1 Bright A_SetScale(ScaleX-0.15,ScaleY-0.15)
	TNT1 A 0 Radius_Quake(8,28,0,10,0)
	TNT1 A 0 A_Explode(128,512)
	TNT1 A 0 A_Explode(256,384,0)
	TNT1 A 0 A_Explode(1024,256,0)
    TNT1 A 0 A_SpawnItemEx("EradicationBFGProjectileExplosion",0,0,0)
    TNT1 AAAAAA 0 A_SpawnItemEx("EradicationBFGProjectilSmoke",0,0,0,frandom(-6,6),frandom(-6,6),frandom(-6,6))
	TNT1 AAAAAAAAA 1 A_SpawnItemEx("RedHugeExplosionKaboom",0,0,0,frandom(-12,12),frandom(-12,12),frandom(-12,12))
	TNT1 A 50
	Stop
}
}

Actor EradicationBFGFocusProj : EradicationBFGProjectile
{
Speed 300
Damage 1200
Scale 0.3
Alpha 0.75
RenderStyle Add
SeeSound ""
MissileType "EradicationBFGFocusProjTrail"
States
{
  Spawn:
	TNT1 A 1
	Loop
  Death:
	TNT1 A 0 Radius_Quake(8,28,0,10,0)
	TNT1 A 0 A_Explode(192,786)
	TNT1 A 0 A_Explode(648,512,0)
	TNT1 A 0 A_Explode(2048,256,0)
    TNT1 A 0 A_SpawnItemEx("BigRedLightningSpawner",0,0,0)
    TNT1 A 0 A_SpawnItemEx("EradicationBFGFocusProjExplosion",0,0,0)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("EradicationBFGProjectilSmoke",0,0,0,frandom(-6,6),frandom(-6,6),frandom(-6,6))
	TNT1 A 50
	Stop
}
}

ACTOR EradicationBFGUltimateBall
{
Projectile
Radius 20
Height 30
Damage 1554
Speed 18
Alpha 0.95
Scale 2.0
Alpha 0.85
Renderstyle Add
+FORCERADIUSDMG
+MTHRUSPECIES
+FOILINVUL
+RIPPER
+NOBOSSRIP
+NODAMAGETHRUST
+DONTREFLECT
+SKYEXPLODE
DamageType "Kaboom"
Decal HugeRedScorch
var int user_loop;
States
{
  Spawn:
    TNT1 A 0
    TNT1 A 0 A_PlaySound("Eradication/UltimateFire")
  Fly:
    TNT1 A 0 A_PlaySound("Eradication/UltimateLoop",7,1.0,1,0.5)
	TNT1 A 0 A_SpawnItemEx("EradicationBFGUltimateBallSmoke",frandom(-20,20),frandom(-20,20),frandom(-20,20),frandom(0,1),frandom(0,1),frandom(0,1))
    TNT1 AA 0 A_SpawnItemEx("EradicationBFGUltimateBallParticle",frandom(-8,8),frandom(-8,8),frandom(-8,8),frandom(0,2),frandom(0,2),frandom(0,2),frandom(0,360))
    UNB2 A 1 Bright A_Explode(32,512,0)
	TNT1 A 0 A_SpawnItemEx("EradicationBFGUltimateBallSmoke",frandom(-20,20),frandom(-20,20),frandom(-20,20),frandom(0,1),frandom(0,1),frandom(0,1))
    TNT1 AA 0 A_SpawnItemEx("EradicationBFGUltimateBallParticle",frandom(-8,8),frandom(-8,8),frandom(-8,8),frandom(0,2),frandom(0,2),frandom(0,2),frandom(0,360))
    UNB2 B 1 Bright A_Explode(32,512,0)
	TNT1 A 0 A_SpawnItemEx("EradicationBFGUltimateBallSmoke",frandom(-20,20),frandom(-20,20),frandom(-20,20),frandom(0,1),frandom(0,1),frandom(0,1))
    TNT1 AA 0 A_SpawnItemEx("EradicationBFGUltimateBallParticle",frandom(-8,8),frandom(-8,8),frandom(-8,8),frandom(0,2),frandom(0,2),frandom(0,2),frandom(0,360))
    UNB2 C 1 Bright A_Explode(32,512,0)
	TNT1 A 0 A_SpawnItemEx("EradicationBFGUltimateBallSmoke",frandom(-20,20),frandom(-20,20),frandom(-20,20),frandom(0,1),frandom(0,1),frandom(0,1))
    TNT1 AA 0 A_SpawnItemEx("EradicationBFGUltimateBallParticle",frandom(-8,8),frandom(-8,8),frandom(-8,8),frandom(0,2),frandom(0,2),frandom(0,2),frandom(0,360))
    UNB2 D 1 Bright A_Explode(32,512,0)
    Loop
  Death:
    TNT1 A 0 A_StopSound(7)
	TNT1 A 0 Radius_Quake(5,60,0,10,0)
	UNB2 ABCDABCD 6 Bright A_SpawnItemEx("RedHugeExplosionShockWave")
	TNT1 A 0 A_PlaySound("Eradication/UltimateExplosion",1,1.0,0,0.2)
	TNT1 A 0 A_SpawnItemEx("EradicationBFGUltimateBallExplosion",-40)
	TNT1 A 0 A_SpawnItemEx("EradicationBFGUltimateBallExplosionEffect")
	TNT1 A 0 A_Quake(9,100,0,2000,0)
  DeathLoop:
	TNT1 A 0 A_JumpIf(user_loop >= 50,"DeathDone")	 
	TNT1 A 0 A_SetUserVar("user_loop",user_loop+1)
	TNT1 A 0 A_Explode(184,4096,0)
	TNT1 A 0 A_Explode(256,2048)
	TNT1 A 0 A_Explode(512,1024)
	TNT1 A 2
	Loop
  DeathDone:
	TNT1 A 1 
	Stop  
}
}

ACTOR ErazorShotgun : Weapon
{
Weapon.AmmoUse 12
Weapon.AmmoUse2 12
Weapon.AmmoGive 96
Weapon.AmmoType "EradicationCell"
Weapon.AmmoType2 "EradicationCell"
Weapon.SelectionOrder 555
Weapon.Kickback 10
Weapon.PreferredSkin "CombatSG-Marine"
Weapon.Upsound "ErazorShotgun/Pickup"
Inventory.PickupSound "ErazorShotgun/Pickup"
Inventory.PickupMessage "\c[m6]Erazor Shotgun"
Tag "Erazor Shotgun"
+INVENTORY.UNDROPPABLE
Scale 0.9
States
{
  Spawn:
	EZSG Z -1
	Loop
  Ready:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	EZSG A 1 A_WeaponReady
	Loop
  Deselect:
	TNT1 A 0
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
  Deselectloop:
	TNT1 A 0 A_StopSound(6)
	TNT1 A 0 A_ZoomFactor(1)
	TNT1 A 0 A_Lower
	EZSG A 1 A_Lower
	Loop
  Select:
	TNT1 A 0 A_Raise
	EZSG A 1 A_Raise
	Loop
  Fire:
	EZSG A 0 
	EZSG A 0 A_JumpIfInventory("EradicationCell",12,2)
    Goto Empty
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Recoil(20)
	TNT1 A 0 A_ZoomFactor(0.98)
	TNT1 A 0 Radius_Quake(20,5,0,1,0)
	TNT1 A 0 A_PlayWeaponSound("ErazorShotgun/Fire")
	TNT1 A 0 A_TakeInventory("EradicationCell",12,TIF_NOTAKEINFINITE)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_FireCustomMissile("ErazorShotgunProj",random(6,-6),0,0,0,0,random(3,-3))
	EZSG BCCDDE 1 Bright
	TNT1 A 0 Bright A_ZoomFactor(1)
	EZSG FFGGHHIIJJKK 4 
	Goto Ready
  AltFire:
	EZSG A 0 
	EZSG A 0 A_JumpIfInventory("EradicationCell",12,2)
    Goto Empty
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 A_GunFlash
	EZSG A 45 Bright A_PlayWeaponSound("ErazorShotgun/Charge")
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Recoil(20)
	TNT1 A 0 A_ZoomFactor(0.98)
	TNT1 A 0 Radius_Quake(20,5,0,1,0)
	TNT1 A 0 A_PlayWeaponSound("ErazorShotgun/AltFire")
	TNT1 A 0 A_TakeInventory("EradicationCell",12,TIF_NOTAKEINFINITE)
	TNT1 A 0 A_FireCustomMissile("ErazorShotgunAltBall",0,0,-7,0,0,0)
	TNT1 A 0 A_FireCustomMissile("ErazorShotgunAltBall",0,0,7,0,0,0)
	EZSG BCCDDE 1 Bright
	TNT1 A 0 Bright A_ZoomFactor(1)
	EZSG FFGGHHIIJJKK 1 
	Goto Ready
  Flash:
	TNT1 A 2 A_Light2
	TNT1 A 1 A_Light1
	TNT1 A 0 A_Light0
	Stop
  Empty:
	EZSG A 0
	EZSG A 15 A_PlaySound("sentry/warn")
	Goto Ready
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready
  GrenadeToss:
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	EZSG A 1 Offset(0,40)
	EZSG A 1 Offset(0,48)
	EZSG A 1 Offset(0,56)
	EZSG A 1 Offset(0,64)
	EZSG A 1 Offset(0,72)
	EZSG A 1 Offset(0,80)
	EZSG A 1 Offset(0,88)
	TNT1 A 4 Offset(0,32)
	HGRN ABC 1
	HGRN D 2
	HGRN EFG 1
	HGRN HI 2
	TNT1 A 14 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1,TIF_NOTAKEINFINITE)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0,false)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6 A_TakeInventory("HandGrenadeAction",1)
	EZSG A 1 Offset(0,88)
	EZSG A 1 Offset(0,80)
	EZSG A 1 Offset(0,72)
	EZSG A 1 Offset(0,64)
	EZSG A 1 Offset(0,56)
	EZSG A 1 Offset(0,48)
	EZSG A 1 Offset(0,40)
	TNT1 A 0 Offset(0,32)
	Goto Ready
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready
  MineToss:
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	EZSG A 1 Offset(0,40)
	EZSG A 1 Offset(0,48)
	EZSG A 1 Offset(0,56)
	EZSG A 1 Offset(0,64)
	EZSG A 1 Offset(0,72)
	EZSG A 1 Offset(0,80)
	EZSG A 1 Offset(0,88)
	TNT1 A 8 Offset(0,32)
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1
	TNT1 A 0 A_TakeInventory("MineAmmo",1,TIF_NOTAKEINFINITE)
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0,false)
	MINE HI 1
	MINE JK 2
	TNT1 A 5 A_TakeInventory("MineAction",1)
	EZSG A 1 Offset(0,88)
	EZSG A 1 Offset(0,80)
	EZSG A 1 Offset(0,72)
	EZSG A 1 Offset(0,64)
	EZSG A 1 Offset(0,56)
	EZSG A 1 Offset(0,48)
	EZSG A 1 Offset(0,40)
	TNT1 A 0 Offset(0,32)
	Goto Ready
}
}

Actor ErazorShotgunProj
{
Projectile
Speed 76
Radius 4
Height 4
Damage 5
+MTHRUSPECIES
+DONTREFLECT
+FOILINVUL
+HEXENBOUNCE
+CANBOUNCEWATER
+SKYEXPLODE
BounceCount 3
BounceFactor 1.35
WallBounceFactor 1.35
ReactionTime 175
Alpha 0.8
RenderStyle Add
DamageType "MarinePierce"
SeeSound "LaserCannon/Fire"
DeathSound "LaserCannon/End"
Decal DoomImpScorch
States
{
  Spawn:
	TNT1 A 0 A_Countdown
    ESPJ A 3 A_SpawnItem("ErazorShotgunProjTrail")
    Loop
  Death:
    TNT1 A 0
	TNT1 A 0 A_CustomMissile("Kaboom10", 0, 0, random(0,360), 2, random(0,360))
	TNT1 A 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
    ESPJ LMN 2 bright
    Stop
}
}

ACTOR ErazorShotgunProjTrail
{
+NOINTERACTION
+CLIENTSIDEONLY
Renderstyle Add
States
{
  Spawn:
    TNT1 A 0
    TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
    ESPJ ABCDEFGHIJK 1 Bright A_FadeOut (0.05)
    Stop
  Toaster:
    TNT1 A 0
	Stop
}
}

Actor ErazorShotgunAltBall
{
Projectile
Damage 64
Speed 100
+MTHRUSPECIES
+DONTREFLECT
+FOILINVUL
+HEXENBOUNCE
+CANBOUNCEWATER
+SKYEXPLODE
+RANDOMIZE
+FORCERADIUSDMG
-SEEKERMISSILE
-EXTREMEDEATH
BounceCount 3
BounceFactor 1.35
WallBounceFactor 1.35
ReactionTime 66
RenderStyle Add
Scale 0.12
DamageType "MarinePierce"
Decal DoomImpScorch
States
{
  Spawn:
	TNT1 A 0 A_Countdown
	RRB3 AABBCCDD 1 Bright A_SpawnItemEx("ErazorShotgunAltBallTrail",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
    Loop
  Death:
    TNT1 A 0
    TNT1 A 0 A_Explode(58,32,0)
	TNT1 A 0 A_SpawnItemEx("RedParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128) 
	TNT1 AAA 0 A_CustomMissile("KaboomRed", 0, 0, random(0,360), 2, random(0,360))
	TNT1 AAA 0 A_CustomMissile("SmokeFX4", 0, 0, random(0,360), 2, random(0,360))
    TNT1 I 8 Bright A_Explode(8,80,0)
    TNT1 J 6 Bright
    TNT1 K 4 Bright
    Stop
}
}

Actor ErazorShotgunAltBallTrail : SuperBallTrail2 { Scale 0.08 }